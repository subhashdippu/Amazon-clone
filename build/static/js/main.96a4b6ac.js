/*! For license information please see main.96a4b6ac.js.LICENSE.txt */
!function(){var e={952:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},588:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");t.Z=o},403:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},303:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m17.21 9-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"ShoppingBasket");t.Z=o},649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(781)},781:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return s},createChainedFunction:function(){return u},createSvgIcon:function(){return rr},debounce:function(){return ir},deprecatedPropType:function(){return ar},isMuiElement:function(){return or},ownerDocument:function(){return ur},ownerWindow:function(){return cr},requirePropFactory:function(){return lr},setRef:function(){return dr},unstable_ClassNameGenerator:function(){return Nr},unstable_useEnhancedEffect:function(){return pr},unstable_useId:function(){return gr},unsupportedProp:function(){return yr},useControlled:function(){return kr},useEventCallback:function(){return br},useForkRef:function(){return xr},useIsFocusVisible:function(){return Pr}});var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function a(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function o(e){if("string"!==typeof e)throw new Error(a(7));return e.charAt(0).toUpperCase()+e.slice(1)}var s=o;var u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},c=n(462),l=n(791),f=n.t(l,2),d=n(366);function h(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=h(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var p=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=h(e))&&(r&&(r+=" "),r+=t);return r};function v(e,t){var n=(0,c.Z)({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=(0,c.Z)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=(0,c.Z)({},a),Object.keys(i).forEach((function(e){n[r][e]=v(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function m(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?v(t.components[n].defaultProps,r):r}function g(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function y(e){if(!g(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=y(e[n])})),t}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,c.Z)({},e):e;return g(e)&&g(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(g(t[i])&&i in e&&g(e[i])?r[i]=k(e[i],t[i],n):n.clone?r[i]=g(t[i])?y(t[i]):t[i]:r[i]=t[i])})),r}var b=n(942),w=["values","unit","step"],x=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,c.Z)({},e,(0,b.Z)({},t.key,t.val))}),{})};var _={borderRadius:4},S=n(439),E={xs:0,sm:600,md:900,lg:1200,xl:1536},T={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(E[e],"px)")}};function I(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||T;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||T;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||E).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function C(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function A(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function P(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function N(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:P(e,n)||i,t&&(r=t(r,i,e)),r}var O=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,s=function(e){if(null==e[t])return null;var n=e[t],s=P(e.theme,i)||{};return I(e,n,(function(e){var n=N(s,a,e);return e===n&&"string"===typeof e&&(n=N(s,a,"".concat(t).concat("default"===e?"":o(e)),e)),!1===r?n:(0,b.Z)({},r,n)}))};return s.propTypes={},s.filterProps=[t],s};var R=function(e,t){return t?k(e,t,{clone:!1}):e};var D={m:"margin",p:"padding"},L={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},M={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},j=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!M[e])return[e];e=M[e]}var t=e.split(""),n=(0,S.Z)(t,2),r=n[0],i=n[1],a=D[r],o=L[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),F=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],z=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],V=[].concat(F,z);function U(e,t,n,r){var i,a=null!=(i=P(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function B(e){return U(e,"spacing",8)}function q(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function G(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=q(t,n),e}),{})}}(j(n),r);return I(e,e[n],i)}function W(e,t){var n=B(e.theme);return Object.keys(e).map((function(r){return G(e,t,r,n)})).reduce(R,{})}function H(e){return W(e,F)}function K(e){return W(e,z)}function Z(e){return W(e,V)}H.propTypes={},H.filterProps=F,K.propTypes={},K.filterProps=z,Z.propTypes={},Z.filterProps=V;var Q=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?R(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function $(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Y=O({prop:"border",themeKey:"borders",transform:$}),X=O({prop:"borderTop",themeKey:"borders",transform:$}),J=O({prop:"borderRight",themeKey:"borders",transform:$}),ee=O({prop:"borderBottom",themeKey:"borders",transform:$}),te=O({prop:"borderLeft",themeKey:"borders",transform:$}),ne=O({prop:"borderColor",themeKey:"palette"}),re=O({prop:"borderTopColor",themeKey:"palette"}),ie=O({prop:"borderRightColor",themeKey:"palette"}),ae=O({prop:"borderBottomColor",themeKey:"palette"}),oe=O({prop:"borderLeftColor",themeKey:"palette"}),se=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=U(e.theme,"shape.borderRadius",4);return I(e,e.borderRadius,(function(e){return{borderRadius:q(t,e)}}))}return null};se.propTypes={},se.filterProps=["borderRadius"];Q(Y,X,J,ee,te,ne,re,ie,ae,oe,se);var ue=function(e){if(void 0!==e.gap&&null!==e.gap){var t=U(e.theme,"spacing",8);return I(e,e.gap,(function(e){return{gap:q(t,e)}}))}return null};ue.propTypes={},ue.filterProps=["gap"];var ce=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=U(e.theme,"spacing",8);return I(e,e.columnGap,(function(e){return{columnGap:q(t,e)}}))}return null};ce.propTypes={},ce.filterProps=["columnGap"];var le=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=U(e.theme,"spacing",8);return I(e,e.rowGap,(function(e){return{rowGap:q(t,e)}}))}return null};le.propTypes={},le.filterProps=["rowGap"];Q(ue,ce,le,O({prop:"gridColumn"}),O({prop:"gridRow"}),O({prop:"gridAutoFlow"}),O({prop:"gridAutoColumns"}),O({prop:"gridAutoRows"}),O({prop:"gridTemplateColumns"}),O({prop:"gridTemplateRows"}),O({prop:"gridTemplateAreas"}),O({prop:"gridArea"}));function fe(e,t){return"grey"===t?t:e}Q(O({prop:"color",themeKey:"palette",transform:fe}),O({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:fe}),O({prop:"backgroundColor",themeKey:"palette",transform:fe}));function de(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var he=O({prop:"width",transform:de}),pe=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return I(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||E[t]||de(t)}}))}return null};pe.filterProps=["maxWidth"];var ve=O({prop:"minWidth",transform:de}),me=O({prop:"height",transform:de}),ge=O({prop:"maxHeight",transform:de}),ye=O({prop:"minHeight",transform:de}),ke=(O({prop:"size",cssProperty:"width",transform:de}),O({prop:"size",cssProperty:"height",transform:de}),Q(he,pe,ve,me,ge,ye,O({prop:"boxSizing"})),{border:{themeKey:"borders",transform:$},borderTop:{themeKey:"borders",transform:$},borderRight:{themeKey:"borders",transform:$},borderBottom:{themeKey:"borders",transform:$},borderLeft:{themeKey:"borders",transform:$},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:se},color:{themeKey:"palette",transform:fe},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:fe},backgroundColor:{themeKey:"palette",transform:fe},p:{style:K},pt:{style:K},pr:{style:K},pb:{style:K},pl:{style:K},px:{style:K},py:{style:K},padding:{style:K},paddingTop:{style:K},paddingRight:{style:K},paddingBottom:{style:K},paddingLeft:{style:K},paddingX:{style:K},paddingY:{style:K},paddingInline:{style:K},paddingInlineStart:{style:K},paddingInlineEnd:{style:K},paddingBlock:{style:K},paddingBlockStart:{style:K},paddingBlockEnd:{style:K},m:{style:H},mt:{style:H},mr:{style:H},mb:{style:H},ml:{style:H},mx:{style:H},my:{style:H},margin:{style:H},marginTop:{style:H},marginRight:{style:H},marginBottom:{style:H},marginLeft:{style:H},marginX:{style:H},marginY:{style:H},marginInline:{style:H},marginInlineStart:{style:H},marginInlineEnd:{style:H},marginBlock:{style:H},marginBlockStart:{style:H},marginBlockEnd:{style:H},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ue},rowGap:{style:le},columnGap:{style:ce},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:de},maxWidth:{style:pe},minWidth:{transform:de},height:{transform:de},maxHeight:{transform:de},minHeight:{transform:de},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var be=function(){function e(e,t,n,r){var i,a=(i={},(0,b.Z)(i,e,t),(0,b.Z)(i,"theme",n),i),s=r[e];if(!s)return(0,b.Z)({},e,t);var u=s.cssProperty,c=void 0===u?e:u,l=s.themeKey,f=s.transform,d=s.style;if(null==t)return null;if("typography"===l&&"inherit"===t)return(0,b.Z)({},e,t);var h=P(n,l)||{};if(d)return d(a);return I(a,t,(function(t){var n=N(h,f,t);return t===n&&"string"===typeof t&&(n=N(h,f,"".concat(e).concat("default"===t?"":o(t)),t)),!1===c?n:(0,b.Z)({},c,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,s=void 0===o?{}:o;if(!a)return null;var u=null!=(r=s.unstable_sxConfig)?r:ke;function c(n){var r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;var i=C(s.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=s,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(u[n])o=R(o,e(n,c,s,u));else{var l=I({theme:s},c,(function(e){return(0,b.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=R(o,l):o[n]=t({sx:c,theme:s})}else o=R(o,e(n,c,s,u))})),A(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();be.filterProps=["sx"];var we=be,xe=["breakpoints","palette","spacing","shape"];var _e=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,s=void 0===o?{}:o,u=(0,d.Z)(e,xe),l=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=(0,d.Z)(e,w),u=x(n),l=Object.keys(u);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return(0,c.Z)({keys:l,values:u,up:f,down:h,between:p,only:function(e){return l.indexOf(e)+1<l.length?p(e,l[l.indexOf(e)+1]):f(e)},not:function(e){var t=l.indexOf(e);return 0===t?f(l[1]):t===l.length-1?h(l[t]):p(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}(n),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=B({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),h=k({breakpoints:l,direction:"ltr",components:{},palette:(0,c.Z)({mode:"light"},i),spacing:f,shape:(0,c.Z)({},_,s)},u),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return(h=v.reduce((function(e,t){return k(e,t)}),h)).unstable_sxConfig=(0,c.Z)({},ke,null==u?void 0:u.unstable_sxConfig),h.unstable_sx=function(e){return we({sx:e,theme:this})},h};var Se=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ee=Math.abs,Te=String.fromCharCode,Ie=Object.assign;function Ce(e){return e.trim()}function Ae(e,t,n){return e.replace(t,n)}function Pe(e,t){return e.indexOf(t)}function Ne(e,t){return 0|e.charCodeAt(t)}function Oe(e,t,n){return e.slice(t,n)}function Re(e){return e.length}function De(e){return e.length}function Le(e,t){return t.push(e),e}var Me=1,je=1,Fe=0,ze=0,Ve=0,Ue="";function Be(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Me,column:je,length:o,return:""}}function qe(e,t){return Ie(Be("",null,null,"",null,null,0),e,{length:-e.length},t)}function Ge(){return Ve=ze>0?Ne(Ue,--ze):0,je--,10===Ve&&(je=1,Me--),Ve}function We(){return Ve=ze<Fe?Ne(Ue,ze++):0,je++,10===Ve&&(je=1,Me++),Ve}function He(){return Ne(Ue,ze)}function Ke(){return ze}function Ze(e,t){return Oe(Ue,e,t)}function Qe(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $e(e){return Me=je=1,Fe=Re(Ue=e),ze=0,[]}function Ye(e){return Ue="",e}function Xe(e){return Ce(Ze(ze-1,tt(91===e?e+2:40===e?e+1:e)))}function Je(e){for(;(Ve=He())&&Ve<33;)We();return Qe(e)>2||Qe(Ve)>3?"":" "}function et(e,t){for(;--t&&We()&&!(Ve<48||Ve>102||Ve>57&&Ve<65||Ve>70&&Ve<97););return Ze(e,Ke()+(t<6&&32==He()&&32==We()))}function tt(e){for(;We();)switch(Ve){case e:return ze;case 34:case 39:34!==e&&39!==e&&tt(Ve);break;case 40:41===e&&tt(e);break;case 92:We()}return ze}function nt(e,t){for(;We()&&e+Ve!==57&&(e+Ve!==84||47!==He()););return"/*"+Ze(t,ze-1)+"*"+Te(47===e?e:We())}function rt(e){for(;!Qe(He());)We();return Ze(e,ze)}var it="-ms-",at="-moz-",ot="-webkit-",st="comm",ut="rule",ct="decl",lt="@keyframes";function ft(e,t){for(var n="",r=De(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function dt(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ct:return e.return=e.return||e.value;case st:return"";case lt:return e.return=e.value+"{"+ft(e.children,r)+"}";case ut:e.value=e.props.join(",")}return Re(n=ft(e.children,r))?e.return=e.value+"{"+n+"}":""}function ht(e){return Ye(pt("",null,null,null,[""],e=$e(e),0,[0],e))}function pt(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,d=0,h=0,p=0,v=1,m=1,g=1,y=0,k="",b=i,w=a,x=r,_=k;m;)switch(p=y,y=We()){case 40:if(108!=p&&58==Ne(_,f-1)){-1!=Pe(_+=Ae(Xe(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:_+=Xe(y);break;case 9:case 10:case 13:case 32:_+=Je(p);break;case 92:_+=et(Ke()-1,7);continue;case 47:switch(He()){case 42:case 47:Le(mt(nt(We(),Ke()),t,n),u);break;default:_+="/"}break;case 123*v:s[c++]=Re(_)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+l:-1==g&&(_=Ae(_,/\f/g,"")),h>0&&Re(_)-f&&Le(h>32?gt(_+";",r,n,f-1):gt(Ae(_," ","")+";",r,n,f-2),u);break;case 59:_+=";";default:if(Le(x=vt(_,t,n,c,l,i,s,k,b=[],w=[],f),a),123===y)if(0===l)pt(_,t,x,x,b,a,f,s,w);else switch(99===d&&110===Ne(_,3)?100:d){case 100:case 108:case 109:case 115:pt(e,x,x,r&&Le(vt(e,x,x,0,0,i,s,k,i,b=[],f),w),i,w,f,s,r?b:w);break;default:pt(_,x,x,x,[""],w,0,s,w)}}c=l=h=0,v=g=1,k=_="",f=o;break;case 58:f=1+Re(_),h=p;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==Ge())continue;switch(_+=Te(y),y*v){case 38:g=l>0?1:(_+="\f",-1);break;case 44:s[c++]=(Re(_)-1)*g,g=1;break;case 64:45===He()&&(_+=Xe(We())),d=He(),l=f=Re(k=_+=rt(Ke())),y++;break;case 45:45===p&&2==Re(_)&&(v=0)}}return a}function vt(e,t,n,r,i,a,o,s,u,c,l){for(var f=i-1,d=0===i?a:[""],h=De(d),p=0,v=0,m=0;p<r;++p)for(var g=0,y=Oe(e,f+1,f=Ee(v=o[p])),k=e;g<h;++g)(k=Ce(v>0?d[g]+" "+y:Ae(y,/&\f/g,d[g])))&&(u[m++]=k);return Be(e,t,n,0===i?ut:s,u,c,l)}function mt(e,t,n){return Be(e,t,n,st,Te(Ve),Oe(e,2,-2),0)}function gt(e,t,n,r){return Be(e,t,n,ct,Oe(e,0,r),Oe(e,r+1,-1),r)}var yt=function(e,t,n){for(var r=0,i=0;r=i,i=He(),38===r&&12===i&&(t[n]=1),!Qe(i);)We();return Ze(e,ze)},kt=function(e,t){return Ye(function(e,t){var n=-1,r=44;do{switch(Qe(r)){case 0:38===r&&12===He()&&(t[n]=1),e[n]+=yt(ze-1,t,n);break;case 2:e[n]+=Xe(r);break;case 4:if(44===r){e[++n]=58===He()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Te(r)}}while(r=We());return e}($e(e),t))},bt=new WeakMap,wt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||bt.get(n))&&!r){bt.set(e,!0);for(var i=[],a=kt(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},xt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function _t(e,t){switch(function(e,t){return 45^Ne(e,0)?(((t<<2^Ne(e,0))<<2^Ne(e,1))<<2^Ne(e,2))<<2^Ne(e,3):0}(e,t)){case 5103:return ot+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ot+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ot+e+at+e+it+e+e;case 6828:case 4268:return ot+e+it+e+e;case 6165:return ot+e+it+"flex-"+e+e;case 5187:return ot+e+Ae(e,/(\w+).+(:[^]+)/,ot+"box-$1$2"+it+"flex-$1$2")+e;case 5443:return ot+e+it+"flex-item-"+Ae(e,/flex-|-self/,"")+e;case 4675:return ot+e+it+"flex-line-pack"+Ae(e,/align-content|flex-|-self/,"")+e;case 5548:return ot+e+it+Ae(e,"shrink","negative")+e;case 5292:return ot+e+it+Ae(e,"basis","preferred-size")+e;case 6060:return ot+"box-"+Ae(e,"-grow","")+ot+e+it+Ae(e,"grow","positive")+e;case 4554:return ot+Ae(e,/([^-])(transform)/g,"$1"+ot+"$2")+e;case 6187:return Ae(Ae(Ae(e,/(zoom-|grab)/,ot+"$1"),/(image-set)/,ot+"$1"),e,"")+e;case 5495:case 3959:return Ae(e,/(image-set\([^]*)/,ot+"$1$`$1");case 4968:return Ae(Ae(e,/(.+:)(flex-)?(.*)/,ot+"box-pack:$3"+it+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ot+e+e;case 4095:case 3583:case 4068:case 2532:return Ae(e,/(.+)-inline(.+)/,ot+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Re(e)-1-t>6)switch(Ne(e,t+1)){case 109:if(45!==Ne(e,t+4))break;case 102:return Ae(e,/(.+:)(.+)-([^]+)/,"$1"+ot+"$2-$3$1"+at+(108==Ne(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Pe(e,"stretch")?_t(Ae(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Ne(e,t+1))break;case 6444:switch(Ne(e,Re(e)-3-(~Pe(e,"!important")&&10))){case 107:return Ae(e,":",":"+ot)+e;case 101:return Ae(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ot+(45===Ne(e,14)?"inline-":"")+"box$3$1"+ot+"$2$3$1"+it+"$2box$3")+e}break;case 5936:switch(Ne(e,t+11)){case 114:return ot+e+it+Ae(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ot+e+it+Ae(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ot+e+it+Ae(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ot+e+it+e+e}return e}var St=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ct:e.return=_t(e.value,e.length);break;case lt:return ft([qe(e,{value:Ae(e.value,"@","@"+ot)})],r);case ut:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ft([qe(e,{props:[Ae(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ft([qe(e,{props:[Ae(t,/:(plac\w+)/,":"+ot+"input-$1")]}),qe(e,{props:[Ae(t,/:(plac\w+)/,":-moz-$1")]}),qe(e,{props:[Ae(t,/:(plac\w+)/,it+"input-$1")]})],r)}return""}))}}],Et=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||St;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u,c,l=[dt,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=De(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([wt,xt].concat(r,l));a=function(e,t,n,r){u=n,ft(ht(e?e+"{"+t.styles+"}":t.styles),f),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new Se({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return d.sheet.hydrate(s),d};var Tt=n(952);function It(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Ct=/[A-Z]|^ms/g,At=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Pt=function(e){return 45===e.charCodeAt(1)},Nt=function(e){return null!=e&&"boolean"!==typeof e},Ot=It((function(e){return Pt(e)?e:e.replace(Ct,"-$&").toLowerCase()})),Rt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(At,(function(e,t,n){return Lt={name:t,styles:n,next:Lt},t}))}return 1===Tt.Z[e]||Pt(e)||"number"!==typeof t||0===t?t:t+"px"};function Dt(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Lt={name:n.name,styles:n.styles,next:Lt},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Lt={name:r.name,styles:r.styles,next:Lt},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Dt(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Nt(o)&&(r+=Ot(a)+":"+Rt(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=Dt(e,t,o);switch(a){case"animation":case"animationName":r+=Ot(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)Nt(o[u])&&(r+=Ot(a)+":"+Rt(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Lt,a=n(e);return Lt=i,Dt(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Lt,Mt=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var jt=!!f.useInsertionEffect&&f.useInsertionEffect,Ft=jt||function(e){return e()},zt=(jt||l.useLayoutEffect,l.createContext("undefined"!==typeof HTMLElement?Et({key:"css"}):null));zt.Provider;var Vt=function(e){return(0,l.forwardRef)((function(t,n){var r=(0,l.useContext)(zt);return e(t,r,n)}))};var Ut=l.createContext({});var Bt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=l.useContext(Ut);return n&&(e=n,0!==Object.keys(e).length)?n:t},qt=_e();var Gt=function(){return Bt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt)};function Wt(e,t){var n;return(0,c.Z)({toolbar:(n={minHeight:56},(0,b.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,b.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function Ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Kt(e){if(e.type)return e;if("#"===e.charAt(0))return Kt(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(a(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(a(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Zt(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Qt(e){var t="hsl"===(e=Kt(e)).type||"hsla"===e.type?Kt(function(e){var t=(e=Kt(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),Zt({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function $t(e,t){if(e=Kt(e),t=Ht(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Zt(e)}function Yt(e,t){if(e=Kt(e),t=Ht(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Zt(e)}var Xt={black:"#000",white:"#fff"},Jt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},en={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},tn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},nn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},rn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},an={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},on={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},sn=["mode","contrastThreshold","tonalOffset"],un={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Xt.white,default:Xt.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},cn={text:{primary:Xt.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Xt.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ln(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Yt(e.main,i):"dark"===t&&(e.dark=$t(e.main,a)))}function fn(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,s=void 0===o?.2:o,u=(0,d.Z)(e,sn),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:rn[200],light:rn[50],dark:rn[400]}:{main:rn[700],light:rn[400],dark:rn[800]}}(n),f=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:en[200],light:en[50],dark:en[400]}:{main:en[500],light:en[300],dark:en[700]}}(n),h=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tn[500],light:tn[300],dark:tn[700]}:{main:tn[700],light:tn[400],dark:tn[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:an[400],light:an[300],dark:an[700]}:{main:an[700],light:an[500],dark:an[900]}}(n),v=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:on[400],light:on[300],dark:on[700]}:{main:on[800],light:on[500],dark:on[900]}}(n),m=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:nn[400],light:nn[300],dark:nn[700]}:{main:"#ed6c02",light:nn[500],dark:nn[900]}}(n);function g(e){var t=function(e,t){var n=Qt(e),r=Qt(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,cn.text.primary)>=i?cn.text.primary:un.text.primary;return t}var y=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,u=void 0===o?300:o,l=e.darkShade,f=void 0===l?700:l;if(!(t=(0,c.Z)({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(a(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(a(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return ln(t,"light",u,s),ln(t,"dark",f,s),t.contrastText||(t.contrastText=g(t.main)),t},b={dark:cn,light:un};return k((0,c.Z)({common:(0,c.Z)({},Xt),mode:n,primary:y({color:l,name:"primary"}),secondary:y({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:h,name:"error"}),warning:y({color:m,name:"warning"}),info:y({color:p,name:"info"}),success:y({color:v,name:"success"}),grey:Jt,contrastThreshold:i,getContrastText:g,augmentColor:y,tonalOffset:s},b[n]),u)}var dn=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var hn={textTransform:"uppercase"},pn='"Roboto", "Helvetica", "Arial", sans-serif';function vn(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?pn:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,u=void 0===s?300:s,l=n.fontWeightRegular,f=void 0===l?400:l,h=n.fontWeightMedium,p=void 0===h?500:h,v=n.fontWeightBold,m=void 0===v?700:v,g=n.htmlFontSize,y=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,x=(0,d.Z)(n,dn);var _=o/14,S=w||function(e){return"".concat(e/y*_,"rem")},E=function(e,t,n,r,a){return(0,c.Z)({fontFamily:i,fontWeight:e,fontSize:S(t),lineHeight:n},i===pn?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},T={h1:E(u,96,1.167,-1.5),h2:E(u,60,1.2,-.5),h3:E(f,48,1.167,0),h4:E(f,34,1.235,.25),h5:E(f,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(f,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(f,16,1.5,.15),body2:E(f,14,1.43,.15),button:E(p,14,1.75,.4,hn),caption:E(f,12,1.66,.4),overline:E(f,12,2.66,1,hn),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return k((0,c.Z)({htmlFontSize:y,pxToRem:S,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:m},T),x,{clone:!1})}function mn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var gn=["none",mn(0,2,1,-1,0,1,1,0,0,1,3,0),mn(0,3,1,-2,0,2,2,0,0,1,5,0),mn(0,3,3,-2,0,3,4,0,0,1,8,0),mn(0,2,4,-1,0,4,5,0,0,1,10,0),mn(0,3,5,-1,0,5,8,0,0,1,14,0),mn(0,3,5,-1,0,6,10,0,0,1,18,0),mn(0,4,5,-2,0,7,10,1,0,2,16,1),mn(0,5,5,-3,0,8,10,1,0,3,14,2),mn(0,5,6,-3,0,9,12,1,0,3,16,2),mn(0,6,6,-3,0,10,14,1,0,4,18,3),mn(0,6,7,-4,0,11,15,1,0,4,20,3),mn(0,7,8,-4,0,12,17,2,0,5,22,4),mn(0,7,8,-4,0,13,19,2,0,5,24,4),mn(0,7,9,-4,0,14,21,2,0,5,26,4),mn(0,8,9,-5,0,15,22,2,0,6,28,5),mn(0,8,10,-5,0,16,24,2,0,6,30,5),mn(0,8,11,-5,0,17,26,2,0,6,32,5),mn(0,9,11,-5,0,18,28,2,0,7,34,6),mn(0,9,12,-6,0,19,29,2,0,7,36,6),mn(0,10,13,-6,0,20,31,3,0,8,38,7),mn(0,10,13,-6,0,21,33,3,0,8,40,7),mn(0,10,14,-6,0,22,35,3,0,8,42,7),mn(0,11,14,-7,0,23,36,3,0,9,44,8),mn(0,11,15,-7,0,24,38,3,0,9,46,8)],yn=["duration","easing","delay"],kn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},bn={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function wn(e){return"".concat(Math.round(e),"ms")}function xn(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function _n(e){var t=(0,c.Z)({},kn,e.easing),n=(0,c.Z)({},bn,e.duration);return(0,c.Z)({getAutoHeightDuration:xn,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,s=void 0===o?t.easeInOut:o,u=r.delay,c=void 0===u?0:u;(0,d.Z)(r,yn);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:wn(a)," ").concat(s," ").concat("string"===typeof c?c:wn(c))})).join(",")}},e,{easing:t,duration:n})}var Sn={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},En=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.transitions,s=void 0===o?{}:o,u=e.typography,l=void 0===u?{}:u,f=(0,d.Z)(e,En);if(e.vars)throw new Error(a(18));var h=fn(i),p=_e(e),v=k(p,{mixins:Wt(p.breakpoints,n),palette:h,shadows:gn.slice(),typography:vn(h,l),transitions:_n(s),zIndex:(0,c.Z)({},Sn)});v=k(v,f);for(var m=arguments.length,g=new Array(m>1?m-1:0),y=1;y<m;y++)g[y-1]=arguments[y];return(v=g.reduce((function(e,t){return k(e,t)}),v)).unstable_sxConfig=(0,c.Z)({},ke,null==f?void 0:f.unstable_sxConfig),v.unstable_sx=function(e){return we({sx:e,theme:this})},v}var In=Tn(),Cn="$$material";function An(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,a=Gt(r);return i&&(a=a[i]||a),m({theme:a,name:n,props:t})}({props:e.props,name:e.name,defaultTheme:In,themeId:Cn})}var Pn=n(433),Nn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var On=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Rn=It((function(e){return Nn.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Dn=function(e){return"theme"!==e},Ln=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Rn:Dn},Mn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},jn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return On(t,n,r),Ft((function(){return function(e,t,n){On(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},Fn=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var s=Mn(t,n,a),u=s||Ln(o),f=!u("as");return function(){var d=arguments,h=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{0,h.push(d[0][0]);for(var p=d.length,v=1;v<p;v++)h.push(d[v],d[0][v])}var m=Vt((function(e,t,n){var r=f&&e.as||o,a="",c=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=l.useContext(Ut)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Lt=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Dt(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Dt(n,t,e[o]),r&&(i+=a[o]);Mt.lastIndex=0;for(var s,u="";null!==(s=Mt.exec(i));)u+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+u;return{name:c,styles:i,next:Lt}}(h.concat(c),t.registered,d);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var m=f&&void 0===s?Ln(r):u,g={};for(var y in e)f&&"as"===y||m(y)&&(g[y]=e[y]);return g.className=a,g.ref=n,l.createElement(l.Fragment,null,l.createElement(jn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),l.createElement(r,g))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=h,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,(0,c.Z)({},n,r,{shouldForwardProp:Mn(m,r,!0)})).apply(void 0,h)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Fn[e]=Fn(e)}));var zn=["variant"];function Vn(e){return 0===e.length}function Un(e){var t=e.variant,n=(0,d.Z)(e,zn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Vn(r)?e[t]:o(e[t]):"".concat(Vn(r)?t:o(t)).concat(o(e[t].toString()))})),r}var Bn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function qn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Gn=_e();function Wn(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}var Hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?Gn:n,i=e.rootShouldForwardProp,a=void 0===i?qn:i,o=e.slotShouldForwardProp,s=void 0===o?qn:o,u=function(e){return we((0,c.Z)({},e,{theme:Wn((0,c.Z)({},e,{defaultTheme:r,themeId:t}))}))};return u.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i=n.name,o=n.slot,l=n.skipVariantsResolver,f=n.skipSx,h=n.overridesResolver,p=(0,d.Z)(n,Bn),v=void 0!==l?l:o&&"Root"!==o||!1,m=f||!1;var g=qn;"Root"===o?g=a:o?g=s:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);var y=function(e,t){return Fn(e,t)}(e,(0,c.Z)({shouldForwardProp:g,label:undefined},p)),k=function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];var l=o?o.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(n){return e((0,c.Z)({},n,{theme:Wn((0,c.Z)({},n,{defaultTheme:r,themeId:t}))}))}:e})):[],f=n;i&&h&&l.push((function(e){var n=Wn((0,c.Z)({},e,{defaultTheme:r,themeId:t})),a=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(i,n);if(a){var o={};return Object.entries(a).forEach((function(t){var r=(0,S.Z)(t,2),i=r[0],a=r[1];o[i]="function"===typeof a?a((0,c.Z)({},e,{theme:n})):a})),h(e,o)}return null})),i&&!v&&l.push((function(e){var n=Wn((0,c.Z)({},e,{defaultTheme:r,themeId:t}));return function(e,t,n,r){var i,a,o=e.ownerState,s=void 0===o?{}:o,u=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[Un(n.props)])})),u}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Un(e.props);r[t]=e.style})),r}(i,n),n,i)})),m||l.push(u);var d=l.length-o.length;if(Array.isArray(n)&&d>0){var p=new Array(d).fill("");(f=[].concat((0,Pn.Z)(n),(0,Pn.Z)(p))).raw=[].concat((0,Pn.Z)(n.raw),(0,Pn.Z)(p))}else"function"===typeof n&&n.__emotion_real!==n&&(f=function(e){return n((0,c.Z)({},e,{theme:Wn((0,c.Z)({},e,{defaultTheme:r,themeId:t}))}))});var g=y.apply(void 0,[f].concat((0,Pn.Z)(l)));return e.muiName&&(g.muiName=e.muiName),g};return y.withConfig&&(k.withConfig=y.withConfig),k}}({themeId:Cn,defaultTheme:In,rootShouldForwardProp:function(e){return qn(e)&&"classes"!==e}}),Kn=Hn,Zn={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Qn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=Zn[t];return r?"".concat(n,"-").concat(r):"".concat(i.generate(e),"-").concat(t)}function $n(e){return Qn("MuiSvgIcon",e)}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};t.forEach((function(t){r[t]=Qn(e,t,n)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Yn=n(184),Xn=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Jn=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(s(t)),"fontSize".concat(s(n))]},$n,r)},er=Kn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(s(n.color))],t["fontSize".concat(s(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,s,u,c,l,f,d,h,p,v,m,g,y=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:k.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(t=y.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=y.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(s=y.typography)||null==(u=s.pxToRem)?void 0:u.call(s,24))||"1.5rem",large:(null==(c=y.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[k.fontSize],color:null!=(f=null==(d=(y.vars||y).palette)||null==(h=d[k.color])?void 0:h.main)?f:{action:null==(p=(y.vars||y).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(y.vars||y).palette)||null==(g=m.action)?void 0:g.disabled,inherit:void 0}[k.color]}})),tr=l.forwardRef((function(e,t){var n=An({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,s=n.component,u=void 0===s?"svg":s,f=n.fontSize,h=void 0===f?"medium":f,v=n.htmlColor,m=n.inheritViewBox,g=void 0!==m&&m,y=n.titleAccess,k=n.viewBox,b=void 0===k?"0 0 24 24":k,w=(0,d.Z)(n,Xn),x=l.isValidElement(r)&&"svg"===r.type,_=(0,c.Z)({},n,{color:o,component:u,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:b,hasSvgAsChild:x}),S={};g||(S.viewBox=b);var E=Jn(_);return(0,Yn.jsxs)(er,(0,c.Z)({as:u,className:p(E.root,i),focusable:"false",color:v,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},S,w,x&&r.props,{ownerState:_,children:[x?r.props.children:r,y?(0,Yn.jsx)("title",{children:y}):null]}))}));tr.muiName="SvgIcon";var nr=tr;function rr(e,t){function n(n,r){return(0,Yn.jsx)(nr,(0,c.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=nr.muiName,l.memo(l.forwardRef(n))}var ir=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r};var ar=function(e,t){return function(){return null}};var or=function(e,t){return l.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function sr(e){return e&&e.ownerDocument||document}var ur=sr;var cr=function(e){return sr(e).defaultView||window};var lr=function(e,t){return function(){return null}};function fr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var dr=fr,hr="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,pr=hr,vr=0;var mr=f["useId".toString()];var gr=function(e){if(void 0!==mr){var t=mr();return null!=e?e:t}return function(e){var t=l.useState(e),n=(0,S.Z)(t,2),r=n[0],i=n[1],a=e||r;return l.useEffect((function(){null==r&&i("mui-".concat(vr+=1))}),[r]),a}(e)};var yr=function(e,t,n,r,i){return null};var kr=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,l.useRef(void 0!==t).current),i=l.useState(n),a=(0,S.Z)(i,2),o=a[0],s=a[1];return[r?t:o,l.useCallback((function(e){r||s(e)}),[])]};var br=function(e){var t=l.useRef(e);return hr((function(){t.current=e})),l.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var wr,xr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){fr(t,e)}))}}),t)},_r=!0,Sr=!1,Er={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Tr(e){e.metaKey||e.altKey||e.ctrlKey||(_r=!0)}function Ir(){_r=!1}function Cr(){"hidden"===this.visibilityState&&Sr&&(_r=!0)}function Ar(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return _r||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Er[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Pr=function(){var e=l.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Tr,!0),t.addEventListener("mousedown",Ir,!0),t.addEventListener("pointerdown",Ir,!0),t.addEventListener("touchstart",Ir,!0),t.addEventListener("visibilitychange",Cr,!0))}),[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Ar(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Sr=!0,window.clearTimeout(wr),wr=window.setTimeout((function(){Sr=!1}),100),t.current=!1,!0)},ref:e}},Nr={configure:function(e){i.configure(e)}}},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=d(n,g);try{c(t,g,y)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===k||e.$$typeof===b||e.$$typeof===g)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Te(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ie(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==_e||null!==Se)&&(Ae(),Ie())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,ze=null,Ve={onError:function(e){Me=!0,je=e}};function Ue(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,Tt=!1,It=[],Ct=null,At=null,Pt=null,Nt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),null!==Pt&&Ft(Pt)&&(Pt=null),Nt.forEach(zt),Ot.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<It.length){Ut(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ut(Ct,e),null!==At&&Ut(At,e),null!==Pt&&Ut(Pt,e),Nt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){if(Gt){var i=Qt(e,t,n,r);if(null===i)Gr(e,t,r,Zt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Gr(e,t,r,Zt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Zt=null;function Qt(e,t,n,r){if(Zt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),dn=an(fn),hn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),vn=an(j({},hn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),gn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),bn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var Tn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(j({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=j({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Nn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Zn(e){Fr(e,0)}function Qn(e){if(K(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Ne(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Z(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Hr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=Er("animationend"),Ir=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Dr=Nr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(Ir,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,ze=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Tr:case Ir:case Cr:u=gn;break;case Ar:u=Pn;break;case"scroll":u=dn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Oe(p,d))&&l.push(Wr(p,v,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:bi(u),h=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,yi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Kr(h))p++;for(h=0,v=d;v;v=Kr(v))h++;for(;0<p-h;)l=Kr(l),p--;for(;0<h-p;)d=Kr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Kr(l),d=Kr(d)}l=null}else l=null;null!==u&&Zr(o,s,u,l,!1),null!==c&&null!==f&&Zr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Gn(s))if(Yn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(g=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Un(n))&&(k.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Jt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ti(e,t){_i++,xi[_i]=e.current,e.current=t}var Ii={},Ci=Si(Ii),Ai=Si(!1),Pi=Ii;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Ai),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Pi=Ci.current,Ti(Ci,e),Ti(Ai,Ai.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),Ti(Ci,e)):Ei(Ai),Ti(Ai,n)}var Fi=null,zi=!1,Vi=!1;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Je,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Gi=0,Wi=null,Hi=0,Ki=[],Zi=0,Qi=null,$i=1,Yi="";function Xi(e,t){qi[Gi++]=Hi,qi[Gi++]=Wi,Wi=e,Hi=t}function Ji(e,t,n){Ki[Zi++]=$i,Ki[Zi++]=Yi,Ki[Zi++]=Qi,Qi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Gi],qi[Gi]=null,Hi=qi[--Gi],qi[Gi]=null;for(;e===Qi;)Qi=Ki[--Zi],Ki[Zi]=null,Yi=Ki[--Zi],Ki[Zi]=null,$i=Ki[--Zi],Ki[Zi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Si(null),ya=null,ka=null,ba=null;function wa(){ba=ka=ya=null}function xa(e){var t=ga.current;Ei(ga),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ya)throw Error(a(308));ka=e,ya.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=j({},f,d);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Oi(t)?Pi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Oi(t)?Pi:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Za(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=zc(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=h(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&Xi(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ha(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zc(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Qa(!0),Ya=Qa(!1),Xa={},Ja=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Ja,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ja),Ti(Ja,t)}function io(){Ei(Ja),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Ja.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Ja,n))}function oo(e){eo.current===e&&(Ei(Ja),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,vo.lanes|=f,ju|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Oo(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Go(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,zo(9,Do.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Io().memoizedState}function Uo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}vo.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function qo(e,t){return Uo(8390656,8,e,t)}function Go(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function Jo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Qo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Jo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pu)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Pu.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Go,useImperativeHandle:Zo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Yo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(Io(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Io().memoizedState]},useMutableSource:No,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Go,useImperativeHandle:Zo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Yo,useReducer:Po,useRef:Vo,useState:function(){return Po(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Po(Co)[0],Io().memoizedState]},useMutableSource:No,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Hu=r),ds(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Is(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Du,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Du,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Du,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Du,Ru),Ru|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Oi(n)?Pi:Ci.current;return a=Ni(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Cs(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Gs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ni(t,c=Oi(n)?Pi:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ga(t,o,r,c),Pa=!1;var d=t.memoizedState;o.state=d,ja(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Ai.current||Pa?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Pa||Ba(t,n,s,r,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Ni(t,u=Oi(n)?Pi:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Ga(t,o,r,u),Pa=!1,d=t.memoizedState,o.state=d,ja(t,r,o,i);var p=t.memoizedState;s!==f||d!==p||Ai.current||Pa?("function"===typeof h&&(Va(t,n,h,r),p=t.memoizedState),(c=Pa||Ba(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ws(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ns(e,t,n,r,i){return ha(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,Rs,Ds,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):zs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Zi++]=$i,Ki[Zi++]=Yi,Ki[Zi++]=Qi,$i=e.id,Yi=e.overflow,Qi=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Rs(e,t),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":$(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&zr("scroll",r)}switch(n){case"input":H(r),J(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[hi]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&zr("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":H(e),J(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),Rs(e,t),null===e&&Br(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Hs(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qu&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Ye()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&zr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Ys=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||eu(n,t);case 6:var r=fu,i=du;fu=null,hu(e,t,n),du=i,null!==(fu=r)&&(du?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(du?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=du,fu=n.stateNode.containerInfo,du=!0,hu(e,t,n),fu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Ys&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hu(e,t,n),Ys=r):hu(e,t,n);break;default:hu(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,du=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,du=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):k(i,f,d,l)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Ye())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||f,mu(t,e),Ys=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(d=Js=f;null!==Js;){switch(p=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:ru(4,h,h.return);break;case 1:eu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(h,h.return);break;case 22:if(null!==h.memoizedState){xu(d);continue}}null!==p?(p.return=h,Js=p):xu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Js=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=$s;var c=Ys;if($s=o,(Ys=u)&&!c)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Js=u):_u(i);for(;null!==a;)Js=a,bu(a,t,n),a=a.sibling;Js=i,$s=s,Ys=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):wu(e)}}function wu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&au(t)}catch(h){Ec(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _u(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Su,Eu=Math.ceil,Tu=b.ReactCurrentDispatcher,Iu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Au=0,Pu=null,Nu=null,Ou=0,Ru=0,Du=Si(0),Lu=0,Mu=null,ju=0,Fu=0,zu=0,Vu=null,Uu=null,Bu=0,qu=1/0,Gu=null,Wu=!1,Hu=null,Ku=null,Zu=!1,Qu=null,$u=0,Yu=0,Xu=null,Ju=-1,ec=0;function tc(){return 0!==(6&Au)?Ye():-1!==Ju?Ju:Ju=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Ou?Ou&-Ou:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Yu)throw Yu=0,Xu=null,Error(a(185));gt(e,n,r),0!==(2&Au)&&e===Pu||(e===Pu&&(0===(2&Au)&&(Fu|=n),4===Lu&&uc(e,Ou)),ic(e,r),1===n&&0===Au&&0===(1&t.mode)&&(qu=Ye()+500,zi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Pu?Ou:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){zi=!0,Ui(e)}(cc.bind(null,e)):Ui(cc.bind(null,e)),oi((function(){0===(6&Au)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Ju=-1,ec=0,0!==(6&Au))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=dt(e,e===Pu?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Au;Au|=2;var o=vc();for(Pu===e&&Ou===t||(Gu=null,qu=Ye()+500,hc(e,t));;)try{kc();break}catch(u){pc(e,u)}wa(),Tu.current=o,Au=i,null!==Nu?t=0:(Pu=null,Ou=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,hc(e,0),uc(e,r),ic(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,hc(e,0),uc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Uu,Gu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Uu,Gu),t);break}xc(e,Uu,Gu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Uu,Gu),r);break}xc(e,Uu,Gu);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Uu,Uu=n,null!==t&&sc(t)),e}function sc(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function uc(e,t){for(t&=~zu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Au))throw Error(a(327));_c();var t=dt(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,hc(e,0),uc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Uu,Gu),ic(e,Ye()),null}function lc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(qu=Ye()+500,zi&&Bi())}}function fc(e){null!==Qu&&0===Qu.tag&&0===(6&Au)&&_c();var t=Au;Au|=1;var n=Cu.transition,r=kt;try{if(Cu.transition=null,kt=1,e)return e()}finally{kt=r,Cu.transition=n,0===(6&(Au=t))&&Bi()}}function dc(){Ru=Du.current,Ei(Du)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:xa(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pu=e,Nu=e=Dc(e.current,null),Ou=Ru=t,Lu=0,Mu=null,zu=Fu=ju=0,Uu=Vu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pc(e,t){for(;;){var n=Nu;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,ko=!1,bo=0,Iu.current=null,null===n||null===n.return){Lu=1,Mu=t,Nu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ou,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ku||!Ku.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function vc(){var e=Tu.current;return Tu.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Pu||0===(268435455&ju)&&0===(268435455&Fu)||uc(Pu,Ou)}function gc(e,t){var n=Au;Au|=2;var r=vc();for(Pu===e&&Ou===t||(Gu=null,hc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(wa(),Au=n,Tu.current=r,null!==Nu)throw Error(a(261));return Pu=null,Ou=0,Lu}function yc(){for(;null!==Nu;)bc(Nu)}function kc(){for(;null!==Nu&&!Qe();)bc(Nu)}function bc(e){var t=Su(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?wc(e):Nu=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Zs(n,t,Ru)))return void(Nu=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Lu=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Lu&&(Lu=5)}function xc(e,t,n){var r=kt,i=Cu.transition;try{Cu.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qu);if(0!==(6&Au))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Nu=Pu=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zu||(Zu=!0,Pc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=kt;kt=1;var u=Au;Au|=4,Iu.current=null,function(e,t){if(ei=Gt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(u=s),h===o&&++f===r&&(c=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),$e(),Au=u,kt=s,Cu.transition=o}else e.current=n;if(Zu&&(Zu=!1,Qu=e,$u=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Hu,Hu=null,e;0!==(1&$u)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xu?Yu++:(Yu=0,Xu=e):Yu=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,kt=r}return null}function _c(){if(null!==Qu){var e=bt($u),t=Cu.transition,n=kt;try{if(Cu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,$u=0,0!==(6&Au))throw Error(a(331));var i=Au;for(Au|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var d=f.child;if(null!==d)d.return=f,Js=d;else for(;null!==Js;){var h=(f=Js).sibling,p=f.return;if(ou(f),f===l){Js=null;break}if(null!==h){h.return=p,Js=h;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var k=e.current;for(Js=k;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=k;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Ec(u,u.return,x)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Au=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cu.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Ou&n)===n&&(4===Lu||3===Lu&&(130023424&Ou)===Ou&&500>Ye()-Bu?hc(e,0):zu|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(gt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Pc(e,t){return Ke(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Nc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Oc(13,n,t,i)).elementType=A,e.lanes=o,e;case P:return(e=Oc(19,n,t,i)).elementType=P,e.lanes=o,e;case R:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case C:s=11;break e;case N:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function Bc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Uc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Gc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),ha();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ti(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ns(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ns(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Gs(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),As(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}Gc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Gc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Gc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Ye()),0===(6&Au)&&(qu=Ye()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ie,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=h,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],d=n[1],h=n.index;if(s+=e.slice(o,h),o=h+f.length,d)s+=d[1];else{var p=e[o],v=n[2],m=n[3],g=n[4],y=n[5],k=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,_="?"===k||"*"===k,S=n[2]||l,E=g||y;r.push({name:m||a++,prefix:v||"",delimiter:S,optional:_,repeat:x,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+u(S)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,d=s[l.name];if(null==d){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=u(d[h]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===h?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(d),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var d=u(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+d+h+")*"),o+=h=c.optional?c.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var p=u(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return d(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var a=h;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,T=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function P(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof k)_=function(){k(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,O=N.port2;N.port1.onmessage=P,_=function(){O.postMessage(null)}}else _=function(){g(P,0)};function R(e){E=e,S||(S=!0,_())}function D(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(T),T=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},2:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".c075ba41.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="amazon:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Dippu/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkamazon=self.webpackChunkamazon||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return mi},SDK_VERSION:function(){return Na},_DEFAULT_ENTRY_NAME:function(){return ya},_addComponent:function(){return xa},_addOrOverwriteComponent:function(){return _a},_apps:function(){return ba},_clearComponents:function(){return Ia},_components:function(){return wa},_getProvider:function(){return Ea},_registerComponent:function(){return Sa},_removeServiceInstance:function(){return Ta},deleteApp:function(){return La},getApp:function(){return Ra},getApps:function(){return Da},initializeApp:function(){return Oa},onLog:function(){return Fa},registerVersion:function(){return ja},setLogLevel:function(){return za}});var t=n(791),r=n(250),i=n(439);function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function u(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var c=n(613),l=n.n(c),f="-ms-",d="-moz-",h="-webkit-",p="comm",v="rule",m="decl",g="@import",y="@keyframes",k="@layer",b=Math.abs,w=String.fromCharCode,x=Object.assign;function _(e){return e.trim()}function S(e,t){return(e=t.exec(e))?e[0]:e}function E(e,t,n){return e.replace(t,n)}function T(e,t){return e.indexOf(t)}function I(e,t){return 0|e.charCodeAt(t)}function C(e,t,n){return e.slice(t,n)}function A(e){return e.length}function P(e){return e.length}function N(e,t){return t.push(e),e}function O(e,t){return e.filter((function(e){return!S(e,t)}))}var R=1,D=1,L=0,M=0,j=0,F="";function z(e,t,n,r,i,a,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:R,column:D,length:o,return:"",siblings:s}}function V(e,t){return x(z("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function U(e){for(;e.root;)e=V(e.root,{children:[e]});N(e,e.siblings)}function B(){return j=M>0?I(F,--M):0,D--,10===j&&(D=1,R--),j}function q(){return j=M<L?I(F,M++):0,D++,10===j&&(D=1,R++),j}function G(){return I(F,M)}function W(){return M}function H(e,t){return C(F,e,t)}function K(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Z(e){return R=D=1,L=A(F=e),M=0,[]}function Q(e){return F="",e}function $(e){return _(H(M-1,J(91===e?e+2:40===e?e+1:e)))}function Y(e){for(;(j=G())&&j<33;)q();return K(e)>2||K(j)>3?"":" "}function X(e,t){for(;--t&&q()&&!(j<48||j>102||j>57&&j<65||j>70&&j<97););return H(e,W()+(t<6&&32==G()&&32==q()))}function J(e){for(;q();)switch(j){case e:return M;case 34:case 39:34!==e&&39!==e&&J(j);break;case 40:41===e&&J(e);break;case 92:q()}return M}function ee(e,t){for(;q()&&e+j!==57&&(e+j!==84||47!==G()););return"/*"+H(t,M-1)+"*"+w(47===e?e:q())}function te(e){for(;!K(G());)q();return H(e,M)}function ne(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function re(e,t,n,r){switch(e.type){case k:if(e.children.length)break;case g:case m:return e.return=e.return||e.value;case p:return"";case y:return e.return=e.value+"{"+ne(e.children,r)+"}";case v:if(!A(e.value=e.props.join(",")))return""}return A(n=ne(e.children,r))?e.return=e.value+"{"+n+"}":""}function ie(e,t,n){switch(function(e,t){return 45^I(e,0)?(((t<<2^I(e,0))<<2^I(e,1))<<2^I(e,2))<<2^I(e,3):0}(e,t)){case 5103:return h+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return h+e+e;case 4789:return d+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return h+e+d+e+f+e+e;case 5936:switch(I(e,t+11)){case 114:return h+e+f+E(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return h+e+f+E(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return h+e+f+E(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return h+e+f+e+e;case 6165:return h+e+f+"flex-"+e+e;case 5187:return h+e+E(e,/(\w+).+(:[^]+)/,h+"box-$1$2"+f+"flex-$1$2")+e;case 5443:return h+e+f+"flex-item-"+E(e,/flex-|-self/g,"")+(S(e,/flex-|baseline/)?"":f+"grid-row-"+E(e,/flex-|-self/g,""))+e;case 4675:return h+e+f+"flex-line-pack"+E(e,/align-content|flex-|-self/g,"")+e;case 5548:return h+e+f+E(e,"shrink","negative")+e;case 5292:return h+e+f+E(e,"basis","preferred-size")+e;case 6060:return h+"box-"+E(e,"-grow","")+h+e+f+E(e,"grow","positive")+e;case 4554:return h+E(e,/([^-])(transform)/g,"$1"+h+"$2")+e;case 6187:return E(E(E(e,/(zoom-|grab)/,h+"$1"),/(image-set)/,h+"$1"),e,"")+e;case 5495:case 3959:return E(e,/(image-set\([^]*)/,h+"$1$`$1");case 4968:return E(E(e,/(.+:)(flex-)?(.*)/,h+"box-pack:$3"+f+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+h+e+e;case 4200:if(!S(e,/flex-|baseline/))return f+"grid-column-align"+C(e,t)+e;break;case 2592:case 3360:return f+E(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,S(e.props,/grid-\w+-end/)}))?~T(e+(n=n[t].value),"span")?e:f+E(e,"-start","")+e+f+"grid-row-span:"+(~T(n,"span")?S(n,/\d+/):+S(n,/\d+/)-+S(e,/\d+/))+";":f+E(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return S(e.props,/grid-\w+-start/)}))?e:f+E(E(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return E(e,/(.+)-inline(.+)/,h+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(A(e)-1-t>6)switch(I(e,t+1)){case 109:if(45!==I(e,t+4))break;case 102:return E(e,/(.+:)(.+)-([^]+)/,"$1"+h+"$2-$3$1"+d+(108==I(e,t+3)?"$3":"$2-$3"))+e;case 115:return~T(e,"stretch")?ie(E(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return E(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,a,o,s){return f+n+":"+r+s+(i?f+n+"-span:"+(a?o:+o-+r)+s:"")+e}));case 4949:if(121===I(e,t+6))return E(e,":",":"+h)+e;break;case 6444:switch(I(e,45===I(e,14)?18:11)){case 120:return E(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+h+(45===I(e,14)?"inline-":"")+"box$3$1"+h+"$2$3$1"+f+"$2box$3")+e;case 100:return E(e,":",":"+f)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return E(e,"scroll-","scroll-snap-")+e}return e}function ae(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case m:return void(e.return=ie(e.value,e.length,n));case y:return ne([V(e,{value:E(e.value,"@","@"+h)})],r);case v:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(S(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":U(V(e,{props:[E(t,/:(read-\w+)/,":"+d+"$1")]})),U(V(e,{props:[t]})),x(e,{props:O(n,r)});break;case"::placeholder":U(V(e,{props:[E(t,/:(plac\w+)/,":"+h+"input-$1")]})),U(V(e,{props:[E(t,/:(plac\w+)/,":"+d+"$1")]})),U(V(e,{props:[E(t,/:(plac\w+)/,f+"input-$1")]})),U(V(e,{props:[t]})),x(e,{props:O(n,r)})}return""}))}}function oe(e){return Q(se("",null,null,null,[""],e=Z(e),0,[0],e))}function se(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,d=0,h=0,p=0,v=1,m=1,g=1,y=0,k="",b=i,x=a,_=r,S=k;m;)switch(p=y,y=q()){case 40:if(108!=p&&58==I(S,f-1)){-1!=T(S+=E($(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:S+=$(y);break;case 9:case 10:case 13:case 32:S+=Y(p);break;case 92:S+=X(W()-1,7);continue;case 47:switch(G()){case 42:case 47:N(ce(ee(q(),W()),t,n,u),u);break;default:S+="/"}break;case 123*v:s[c++]=A(S)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+l:-1==g&&(S=E(S,/\f/g,"")),h>0&&A(S)-f&&N(h>32?le(S+";",r,n,f-1,u):le(E(S," ","")+";",r,n,f-2,u),u);break;case 59:S+=";";default:if(N(_=ue(S,t,n,c,l,i,s,k,b=[],x=[],f,a),a),123===y)if(0===l)se(S,t,_,_,b,a,f,s,x);else switch(99===d&&110===I(S,3)?100:d){case 100:case 108:case 109:case 115:se(e,_,_,r&&N(ue(e,_,_,0,0,i,s,k,i,b=[],f,x),x),i,x,f,s,r?b:x);break;default:se(S,_,_,_,[""],x,0,s,x)}}c=l=h=0,v=g=1,k=S="",f=o;break;case 58:f=1+A(S),h=p;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==B())continue;switch(S+=w(y),y*v){case 38:g=l>0?1:(S+="\f",-1);break;case 44:s[c++]=(A(S)-1)*g,g=1;break;case 64:45===G()&&(S+=$(q())),d=G(),l=f=A(k=S+=te(W())),y++;break;case 45:45===p&&2==A(S)&&(v=0)}}return a}function ue(e,t,n,r,i,a,o,s,u,c,l,f){for(var d=i-1,h=0===i?a:[""],p=P(h),m=0,g=0,y=0;m<r;++m)for(var k=0,w=C(e,d+1,d=b(g=o[m])),x=e;k<p;++k)(x=_(g>0?h[k]+" "+w:E(w,/&\f/g,h[k])))&&(u[y++]=x);return z(e,t,n,0===i?v:s,u,c,l,f)}function ce(e,t,n,r){return z(e,t,n,p,w(j),C(e,2,-2),0,r)}function le(e,t,n,r,i){return z(e,t,n,m,C(e,0,r),C(e,r+1,-1),r,i)}var fe=n(952),de="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",he="undefined"!=typeof window&&"HTMLElement"in window,pe=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),ve=(new Set,Object.freeze([])),me=Object.freeze({});function ge(e,t,n){return void 0===n&&(n=me),e.theme!==n.theme&&e.theme||t||n.theme}var ye=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ke=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,be=/(^-|-$)/g;function we(e){return e.replace(ke,"-").replace(be,"")}var xe=/(a)(d)/gi,_e=function(e){return String.fromCharCode(e+(e>25?39:97))};function Se(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=_e(t%52)+n;return(_e(t%52)+n).replace(xe,"$1-$2")}var Ee,Te=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Ie=function(e){return Te(5381,e)};function Ce(e){return Se(Ie(e)>>>0)}function Ae(e){return"string"==typeof e&&!0}var Pe="function"==typeof Symbol&&Symbol.for,Ne=Pe?Symbol.for("react.memo"):60115,Oe=Pe?Symbol.for("react.forward_ref"):60112,Re={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},De={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Le={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Me=((Ee={})[Oe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ee[Ne]=Le,Ee);function je(e){return("type"in(t=e)&&t.type.$$typeof)===Ne?Le:"$$typeof"in e?Me[e.$$typeof]:Re;var t}var Fe=Object.defineProperty,ze=Object.getOwnPropertyNames,Ve=Object.getOwnPropertySymbols,Ue=Object.getOwnPropertyDescriptor,Be=Object.getPrototypeOf,qe=Object.prototype;function Ge(e,t,n){if("string"!=typeof t){if(qe){var r=Be(t);r&&r!==qe&&Ge(e,r,n)}var i=ze(t);Ve&&(i=i.concat(Ve(t)));for(var a=je(e),o=je(t),s=0;s<i.length;++s){var u=i[s];if(!(u in De||n&&n[u]||o&&u in o||a&&u in a)){var c=Ue(t,u);try{Fe(e,u,c)}catch(e){}}}}return e}function We(e){return"function"==typeof e}function He(e){return"object"==typeof e&&"styledComponentId"in e}function Ke(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Ze(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Qe(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function $e(e,t,n){if(void 0===n&&(n=!1),!n&&!Qe(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=$e(e[r],t[r]);else if(Qe(t))for(var r in t)e[r]=$e(e[r],t[r]);return e}function Ye(e,t){Object.defineProperty(e,"toString",{value:t})}function Xe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Je=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw Xe(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=(a=0,t.length);a<s;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+="".concat(this.tag.getRule(a)).concat("/*!sc*/\n");return t},e}(),et=new Map,tt=new Map,nt=1,rt=function(e){if(et.has(e))return et.get(e);for(;tt.has(nt);)nt++;var t=nt++;return et.set(e,t),tt.set(t,e),t},it=function(e,t){et.set(e,t),tt.set(t,e)},at="style[".concat(de,"][").concat("data-styled-version",'="').concat("6.0.4",'"]'),ot=new RegExp("^".concat(de,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),st=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},ut=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split("/*!sc*/\n"),i=[],a=0,o=r.length;a<o;a++){var s=r[a].trim();if(s){var u=s.match(ot);if(u){var c=0|parseInt(u[1],10),l=u[2];0!==c&&(it(l,c),st(e,l,u[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}};function ct(){return n.nc}var lt=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(de,"]")));return t[t.length-1]}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(de,"active"),r.setAttribute("data-styled-version","6.0.4");var o=ct();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},ft=function(){function e(e){this.element=lt(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw Xe(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),dt=function(){function e(e){this.element=lt(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),ht=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),pt=he,vt={isServer:!he,useCSSOMInjection:!pe},mt=function(){function e(e,t,n){void 0===e&&(e=me),void 0===t&&(t={});var r=this;this.options=o(o({},vt),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&he&&pt&&(pt=!1,function(e){for(var t=document.querySelectorAll(at),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(de)&&(ut(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),Ye(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return tt.get(e)}(n);if(void 0===i)return"continue";var a=e.names.get(i),o=t.getGroup(n);if(void 0===a||0===o.length)return"continue";var s="".concat(de,".g").concat(n,'[id="').concat(i,'"]'),u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+="".concat(e,","))})),r+="".concat(o).concat(s,'{content:"').concat(u,'"}').concat("/*!sc*/\n")},a=0;a<n;a++)i(a);return r}(r)}))}return e.registerId=function(e){return rt(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(o(o({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new ht(n):t?new ft(n):new dt(n)}(this.options),new Je(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(rt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(rt(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(rt(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),gt=/&/g,yt=/^\s*\/\/.*$/gm;function kt(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=kt(e.children,t)),e}))}function bt(e){var t,n,r,i=void 0===e?me:e,a=i.options,o=void 0===a?me:a,s=i.plugins,u=void 0===s?ve:s,c=function(e,r,i){return i===n||i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},l=u.slice();l.push((function(e){e.type===v&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(gt,n).replace(r,c))})),o.prefix&&l.push(ae),l.push(re);var f=function(e,i,a,s){void 0===i&&(i=""),void 0===a&&(a=""),void 0===s&&(s="&"),t=s,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var u=e.replace(yt,""),c=oe(a||i?"".concat(a," ").concat(i," { ").concat(u," }"):u);o.namespace&&(c=kt(c,o.namespace));var f,d=[];return ne(c,function(e){var t=P(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}(l.concat((f=function(e){return d.push(e)},function(e){e.root||(e=e.return)&&f(e)})))),d};return f.hash=u.length?u.reduce((function(e,t){return t.name||Xe(15),Te(e,t.name)}),5381).toString():"",f}var wt=new mt,xt=bt(),_t=t.createContext({shouldForwardProp:void 0,styleSheet:wt,stylis:xt}),St=(_t.Consumer,t.createContext(void 0));function Et(){return(0,t.useContext)(_t)}function Tt(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=Et().styleSheet,o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,a]),s=(0,t.useMemo)((function(){return bt({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:r})}),[e.enableVendorPrefixes,e.namespace,r]);return(0,t.useEffect)((function(){l()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(_t.Provider,{value:{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:s}},t.createElement(St.Provider,{value:s},e.children))}var It=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=xt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Ye(this,(function(){throw Xe(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=xt),this.name+e.hash},e}(),Ct=function(e){return e>="A"&&e<="Z"};function At(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Ct(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Pt=function(e){return null==e||!1===e||""===e},Nt=function e(t){var n,r,i=[];for(var a in t){var o=t[a];t.hasOwnProperty(a)&&!Pt(o)&&(Array.isArray(o)&&o.isCss||We(o)?i.push("".concat(At(a),":"),o,";"):Qe(o)?i.push.apply(i,u(u(["".concat(a," {")],e(o),!1),["}"],!1)):i.push("".concat(At(a),": ").concat((n=a,null==(r=o)||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||n in fe.Z||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return i};function Ot(e,t,n,r){return Pt(e)?[]:He(e)?[".".concat(e.styledComponentId)]:We(e)?!We(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Ot(e(t),t,n,r):e instanceof It?n?(e.inject(n,r),[e.getName(r)]):[e]:Qe(e)?Nt(e):Array.isArray(e)?Array.prototype.concat.apply(ve,e.map((function(e){return Ot(e,t,n,r)}))):[e.toString()];var i}function Rt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(We(n)&&!He(n))return!1}return!0}var Dt=Ie("6.0.4"),Lt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Rt(e),this.componentId=t,this.baseHash=Te(Dt,t),this.baseStyle=n,mt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Ke(r,this.staticRulesId);else{var i=Ze(Ot(this.rules,e,t,n)),a=Se(Te(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=n(i,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,o)}r=Ke(r,a),this.staticRulesId=a}else{for(var s=Te(this.baseHash,n.hash),u="",c=0;c<this.rules.length;c++){var l=this.rules[c];if("string"==typeof l)u+=l;else if(l){var f=Ze(Ot(l,e,t,n));s=Te(s,f),u+=f}}if(u){var d=Se(s>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(u,".".concat(d),void 0,this.componentId)),r=Ke(r,d)}}return r},e}(),Mt=t.createContext(void 0);Mt.Consumer;var jt={};new Set;function Ft(e,n,r){var i=He(e),a=e,s=!Ae(e),u=n.attrs,c=void 0===u?ve:u,l=n.componentId,f=void 0===l?function(e,t){var n="string"!=typeof e?"sc":we(e);jt[n]=(jt[n]||0)+1;var r="".concat(n,"-").concat(Ce("6.0.4"+n+jt[n]));return t?"".concat(t,"-").concat(r):r}(n.displayName,n.parentComponentId):l,d=n.displayName,h=(void 0===d&&function(e){Ae(e)?"styled.".concat(e):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(e),")")}(e),n.displayName&&n.componentId?"".concat(we(n.displayName),"-").concat(n.componentId):n.componentId||f),p=i&&a.attrs?a.attrs.concat(c).filter(Boolean):c,v=n.shouldForwardProp;if(i&&a.shouldForwardProp){var m=a.shouldForwardProp;if(n.shouldForwardProp){var g=n.shouldForwardProp;v=function(e,t){return m(e,t)&&g(e,t)}}else v=m}var y=new Lt(r,h,i?a.componentStyle:void 0);var k=t.forwardRef((function(e,n){return function(e,n,r){var i=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.styledComponentId,l=e.target,f=t.useContext(Mt),d=Et(),h=e.shouldForwardProp||d.shouldForwardProp,p=function(e,t,n){for(var r,i=o(o({},t),{className:void 0,theme:n}),a=0;a<e.length;a+=1){var s=We(r=e[a])?r(i):r;for(var u in s)i[u]="className"===u?Ke(i[u],s[u]):"style"===u?o(o({},i[u]),s[u]):s[u]}return t.className&&(i.className=Ke(i.className,t.className)),i}(i,n,ge(n,f,s)||me),v=p.as||l,m={};for(var g in p)void 0===p[g]||"$"===g[0]||"as"===g||"theme"===g||("forwardedAs"===g?m.as=p.forwardedAs:h&&!h(g,v)||(m[g]=p[g]));var y=function(e,t){var n=Et();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(a,p),k=Ke(u,c);return y&&(k+=" "+y),p.className&&(k+=" "+p.className),m[Ae(v)&&!ye.has(v)?"class":"className"]=k,m.ref=r,(0,t.createElement)(v,m)}(k,e,n)}));return k.attrs=p,k.componentStyle=y,k.shouldForwardProp=v,k.foldedComponentIds=i?Ke(a.foldedComponentIds,a.styledComponentId):"",k.styledComponentId=h,k.target=i?a.target:e,Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)$e(e,i[r],!0);return e}({},a.defaultProps,e):e}}),Ye(k,(function(){return".".concat(k.styledComponentId)})),s&&Ge(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),k}function zt(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Vt=function(e){return Object.assign(e,{isCss:!0})};function Ut(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(We(e)||Qe(e))return Vt(Ot(zt(ve,u([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Ot(r):Vt(Ot(zt(r,t)))}function Bt(e,t,n){if(void 0===n&&(n=me),!t)throw Xe(1,t);var r=function(r){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return e(t,n,Ut.apply(void 0,u([r],i,!1)))};return r.attrs=function(r){return Bt(e,t,o(o({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Bt(e,t,o(o({},n),r))},r}var qt=function(e){return Bt(Ft,e)},Gt=qt;ye.forEach((function(e){Gt[e]=qt(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Rt(e),mt.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(Ze(Ot(this.rules,t,n,r)),""),a=this.componentId+e;n.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&mt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=ct(),r=Ze([n&&'nonce="'.concat(n,'"'),"".concat(de,'="true"'),"".concat("data-styled-version",'="').concat("6.0.4",'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw Xe(2);return e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)throw Xe(2);var r=((n={})[de]="",n["data-styled-version"]="6.0.4",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=ct();return i&&(r.nonce=i),[t.createElement("style",o({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new mt({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw Xe(2);return t.createElement(Tt,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw Xe(3)}})(),"__sc-".concat(de,"__");var Wt=n(403),Ht=n(303),Kt=n(588);function Zt(e,t){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zt(e,t)}function Qt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Zt(e,t)}var $t=n(7),Yt=n.n($t),Xt=n(462);function Jt(e){return"/"===e.charAt(0)}function en(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var tn=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&Jt(e),o=t&&Jt(t),s=a||o;if(e&&Jt(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?en(i,l):".."===f?(en(i,l),c++):c&&(en(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&Jt(i[0])||i.unshift("");var d=i.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d},nn=!0,rn="Invariant failed";function an(e,t){if(!e){if(nn)throw new Error(rn);var n="function"===typeof t?t():t,r=n?"".concat(rn,": ").concat(n):rn;throw new Error(r)}}function on(e){return"/"===e.charAt(0)?e:"/"+e}function sn(e){return"/"===e.charAt(0)?e.substr(1):e}function un(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function cn(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function ln(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function fn(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=(0,Xt.Z)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=tn(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function dn(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var hn=!("undefined"===typeof window||!window.document||!window.document.createElement);function pn(e,t){t(window.confirm(e))}var vn="popstate",mn="hashchange";function gn(){try{return window.history.state||{}}catch(e){return{}}}function yn(e){void 0===e&&(e={}),hn||an(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,s=i.getUserConfirmation,u=void 0===s?pn:s,c=i.keyLength,l=void 0===c?6:c,f=e.basename?cn(on(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&(a=un(a,f)),fn(a,r,n)}function h(){return Math.random().toString(36).substr(2,l)}var p=dn();function v(e){(0,Xt.Z)(I,e),I.length=t.length,p.notifyListeners(I.location,I.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||k(d(e.state))}function g(){k(d(gn()))}var y=!1;function k(e){if(y)y=!1,v();else{p.confirmTransitionTo(e,"POP",u,(function(t){t?v({action:"POP",location:e}):function(e){var t=I.location,n=w.indexOf(t.key);-1===n&&(n=0);var r=w.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(y=!0,_(i))}(e)}))}}var b=d(gn()),w=[b.key];function x(e){return f+ln(e)}function _(e){t.go(e)}var S=0;function E(e){1===(S+=e)&&1===e?(window.addEventListener(vn,m),r&&window.addEventListener(mn,g)):0===S&&(window.removeEventListener(vn,m),r&&window.removeEventListener(mn,g))}var T=!1;var I={length:t.length,action:"POP",location:b,createHref:x,push:function(e,r){var i="PUSH",a=fn(e,r,h(),I.location);p.confirmTransitionTo(a,i,u,(function(e){if(e){var r=x(a),s=a.key,u=a.state;if(n)if(t.pushState({key:s,state:u},null,r),o)window.location.href=r;else{var c=w.indexOf(I.location.key),l=w.slice(0,c+1);l.push(a.key),w=l,v({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=fn(e,r,h(),I.location);p.confirmTransitionTo(a,i,u,(function(e){if(e){var r=x(a),s=a.key,u=a.state;if(n)if(t.replaceState({key:s,state:u},null,r),o)window.location.replace(r);else{var c=w.indexOf(I.location.key);-1!==c&&(w[c]=a.key),v({action:i,location:a})}else window.location.replace(r)}}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return T||(E(1),T=!0),function(){return T&&(T=!1,E(-1)),t()}},listen:function(e){var t=p.appendListener(e);return E(1),function(){E(-1),t()}}};return I}var kn="hashchange",bn={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+sn(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:sn,decodePath:on},slash:{encodePath:on,decodePath:on}};function wn(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function xn(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function _n(e){window.location.replace(wn(window.location.href)+"#"+e)}function Sn(e){void 0===e&&{},hn||an(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?pn:r,a=n.hashType,o=void 0===a?"slash":a,s=e.basename?cn(on(e.basename)):"",u=bn[o],c=u.encodePath,l=u.decodePath;function f(){var e=l(xn());return s&&un(e,s),fn(e)}var d=dn();function h(e){(0,Xt.Z)(E,e),E.length=t.length,d.notifyListeners(E.location,E.action)}var p=!1,v=null;function m(){var e=xn(),t=c(e);if(e!==t)_n(t);else{var n=f(),r=E.location;if(!p&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(v===ln(n))return;null,function(e){if(p)!1,h();else{var t="POP";d.confirmTransitionTo(e,t,i,(function(n){n?h({action:t,location:e}):function(e){var t=E.location,n=b.lastIndexOf(ln(t));-1===n&&0;var r=b.lastIndexOf(ln(e));-1===r&&0;var i=n-r;i&&(!0,w(i))}(e)}))}}(n)}}var g=xn(),y=c(g);g!==y&&_n(y);var k=f(),b=[ln(k)];function w(e){t.go(e)}var x=0;function _(e){1===(x+=e)&&1===e?window.addEventListener(kn,m):0===x&&window.removeEventListener(kn,m)}var S=!1;var E={length:t.length,action:"POP",location:k,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&wn(window.location.href),n+"#"+c(s+ln(e))},push:function(e,t){var n="PUSH",r=fn(e,void 0,void 0,E.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=ln(r),i=c(s+t);if(xn()!==i){t,function(e){window.location.hash=e}(i);var a=b.lastIndexOf(ln(E.location)),o=b.slice(0,a+1);o.push(t),o,h({action:n,location:r})}else h()}}))},replace:function(e,t){var n="REPLACE",r=fn(e,void 0,void 0,E.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=ln(r),i=c(s+t);xn()!==i&&(t,_n(i));var a=b.indexOf(ln(E.location));-1!==a&&(b[a]=t),h({action:n,location:r})}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&!1;var t=d.setPrompt(e);return S||(_(1),!0),function(){return S&&(!1,_(-1)),t()}},listen:function(e){var t=d.appendListener(e);return _(1),function(){_(-1),t()}}};return E}function En(e,t,n){return Math.min(Math.max(e,t),n)}var Tn=n(239),In=n.n(Tn),Cn=(n(228),n(366)),An=(n(110),1073741823),Pn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var Nn=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return Pn[e]=(Pn[e]||0)+1}()+"__",o=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}Qt(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):An,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=Yt().object.isRequired,r);var s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Qt(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?An:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?An:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return s.contextTypes=((i={})[a]=Yt().object,i),{Provider:o,Consumer:s}},On=function(e){var t=Nn();return t.displayName=e,t},Rn=On("Router-History"),Dn=On("Router"),Ln=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}Qt(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(Dn.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(Rn.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var Mn={},jn=1e4,Fn=0;function zn(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Mn[n]||(Mn[n]={});if(r[e])return r[e];var i=[],a={regexp:In()(e,i,t),keys:i};return Fn<jn&&(r[e]=a,Fn++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),d=e===l;return a&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var Vn=function(e){function n(){return e.apply(this,arguments)||this}return Qt(n,e),n.prototype.render=function(){var e=this;return t.createElement(Dn.Consumer,null,(function(n){n||an(!1);var r=e.props.location||n.location,i=e.props.computedMatch?e.props.computedMatch:e.props.path?zn(r.pathname,e.props):n.match,a=(0,Xt.Z)({},n,{location:r,match:i}),o=e.props,s=o.children,u=o.component,c=o.render;return Array.isArray(s)&&function(e){return 0===t.Children.count(e)}(s)&&(s=null),t.createElement(Dn.Provider,{value:a},a.match?s?"function"===typeof s?s(a):s:u?t.createElement(u,a):c?c(a):null:"function"===typeof s?s(a):null)}))},n}(t.Component);function Un(e){return"/"===e.charAt(0)?e:"/"+e}function Bn(e,t){if(!e)return t;var n=Un(e);return 0!==t.pathname.indexOf(n)?t:(0,Xt.Z)({},t,{pathname:t.pathname.substr(n.length)})}function qn(e){return"string"===typeof e?e:ln(e)}function Gn(e){return function(){an(!1)}}function Wn(){}t.Component;var Hn=function(e){function n(){return e.apply(this,arguments)||this}return Qt(n,e),n.prototype.render=function(){var e=this;return t.createElement(Dn.Consumer,null,(function(n){n||an(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?zn(a.pathname,(0,Xt.Z)({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);t.useContext;var Kn=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=yn(t.props),t}return Qt(n,e),n.prototype.render=function(){return t.createElement(Ln,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var Zn=function(e,t){return"function"===typeof e?e(t):e},Qn=function(e,t){return"string"===typeof e?fn(e,null,null,t):e},$n=function(e){return e},Yn=t.forwardRef;"undefined"===typeof Yn&&(Yn=$n);var Xn=Yn((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=(0,Cn.Z)(e,["innerRef","navigate","onClick"]),s=o.target,u=(0,Xt.Z)({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=$n!==Yn&&n||r,t.createElement("a",u)}));var Jn=Yn((function(e,n){var r=e.component,i=void 0===r?Xn:r,a=e.replace,o=e.to,s=e.innerRef,u=(0,Cn.Z)(e,["component","replace","to","innerRef"]);return t.createElement(Dn.Consumer,null,(function(e){e||an(!1);var r=e.history,c=Qn(Zn(o,e.location),e.location),l=c?r.createHref(c):"",f=(0,Xt.Z)({},u,{href:l,navigate:function(){var t=Zn(o,e.location),n=ln(e.location)===ln(Qn(t));(a||n?r.replace:r.push)(t)}});return $n!==Yn?f.ref=n||s:f.innerRef=s,t.createElement(i,f)}))})),er=function(e){return e},tr=t.forwardRef;"undefined"===typeof tr&&(tr=er);tr((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,s=e.activeStyle,u=e.className,c=e.exact,l=e.isActive,f=e.location,d=e.sensitive,h=e.strict,p=e.style,v=e.to,m=e.innerRef,g=(0,Cn.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(Dn.Consumer,null,(function(e){e||an(!1);var r=f||e.location,a=Qn(Zn(v,r),r),y=a.pathname,k=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=k?zn(r.pathname,{path:k,exact:c,sensitive:d,strict:h}):null,w=!!(l?l(b,r):b),x="function"===typeof u?u(w):u,_="function"===typeof p?p(w):p;w&&(x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(x,o),_=(0,Xt.Z)({},_,s));var S=(0,Xt.Z)({"aria-current":w&&i||null,className:x,style:_,to:a},g);return er!==tr?S.ref=n||m:S.innerRef=m,t.createElement(Jn,S)}))}));var nr,rr,ir,ar,or,sr,ur,cr,lr,fr,dr,hr,pr,vr,mr,gr,yr,kr=n(184);var br=function(e){var t=e.cartItems,n=e.user,r=e.signOut;return(0,kr.jsxs)("div",{children:[(0,kr.jsxs)(wr,{children:[(0,kr.jsx)(xr,{children:(0,kr.jsx)(Jn,{to:"/",children:(0,kr.jsx)("img",{src:"https://i0.wp.com/www.dafontfree.co/wp-content/uploads/2021/11/Amazon-Logo-Font-1-scaled.jpg?fit=2560%2C1578&ssl=1",alt:" "})})}),(0,kr.jsxs)(_r,{children:[(0,kr.jsx)(Kt.Z,{}),(0,kr.jsxs)(Pr,{children:[(0,kr.jsx)(Sr,{children:"Hello"}),(0,kr.jsx)(Er,{children:"Select your address"})]})]}),(0,kr.jsxs)(Tr,{children:[(0,kr.jsxs)(Dr,{className:"p-2 bg-gray-300 text-black border text-xs xl:text-sm",children:[(0,kr.jsx)("option",{children:"All"}),(0,kr.jsx)("option",{children:"Deals"}),(0,kr.jsx)("option",{children:"Amazon"}),(0,kr.jsx)("option",{children:"Fashion"}),(0,kr.jsx)("option",{children:"Computers"}),(0,kr.jsx)("option",{children:"Home"}),(0,kr.jsx)("option",{children:"Mobiles"})]}),(0,kr.jsx)(Ir,{type:"text"}),(0,kr.jsx)(Cr,{children:(0,kr.jsx)(Wt.Z,{})})]}),(0,kr.jsxs)(Ar,{children:[(0,kr.jsx)("div",{children:(0,kr.jsxs)(Lr,{children:[(0,kr.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/4/41/Flag_of_India.svg/255px-Flag_of_India.svg.png"}),(0,kr.jsxs)(Mr,{className:" text-white",children:[(0,kr.jsx)("option",{children:"EN"}),(0,kr.jsx)("hr",{}),(0,kr.jsx)("option",{children:"Hindi"}),(0,kr.jsx)("option",{children:"Tamil"}),(0,kr.jsx)("option",{children:"Gujrati"}),(0,kr.jsx)("option",{children:"Panjabi"}),(0,kr.jsx)("option",{children:"Telgu"})]})]})}),(0,kr.jsxs)(Pr,{onClick:r,children:[(0,kr.jsxs)(Sr,{children:["Hello,",n.name]}),(0,kr.jsxs)(Er,{children:["Account & Lists",(0,kr.jsxs)(jr,{className:" text-white",children:[(0,kr.jsx)("option",{}),(0,kr.jsx)("hr",{}),(0,kr.jsx)("option",{children:"Hindi"}),(0,kr.jsx)("option",{onClick:r,children:"signOut"})]})]})]}),(0,kr.jsxs)(Pr,{children:[(0,kr.jsx)(Sr,{children:"Return"}),(0,kr.jsx)(Er,{children:"& Orders"})]}),(0,kr.jsx)(Nr,{children:(0,kr.jsxs)(Jn,{to:"/Cart",children:[(0,kr.jsx)(Ht.Z,{}),(0,kr.jsxs)(Or,{children:[function(){var e=0;return t.forEach((function(t){e+=t.product.quantity})),e}()," Cart"]})]})})]})]}),(0,kr.jsxs)(Rr,{className:"flex bg text-white space-x-3 text-xs xl:text-sm p-2 pl-6",children:[(0,kr.jsx)("div",{children:"Today's Deals"}),(0,kr.jsx)("div",{children:"Customer Service"}),(0,kr.jsx)("div",{children:"Registry"}),(0,kr.jsx)("div",{children:"Gift Cards"}),(0,kr.jsx)("div",{children:"Sell"})]})]})},wr=Gt.div(nr||(nr=a(["\n    height: 60px;\n    background-color: #0F1111;\n    display: flex;\n    align-items: center;\n    color: white;\n    justify-content: space-between;\n"]))),xr=Gt.div(rr||(rr=a(["\n    img{\n        width: 100px;\n        margin-left: 11px;\n    }\n"]))),_r=Gt.div(ir||(ir=a(["\n    padding-left: 9px;\n    display: flex;\n    align-items: center;\n"]))),Sr=Gt.div(ar||(ar=a(["\n\n"]))),Er=Gt.div(or||(or=a(["\n    font-weight: 700;  \n"]))),Tr=Gt.div(sr||(sr=a(["\n    display:flex;\n    flex-grow: 1;\n    height: 40px;\n    border-radius: 4px;\n    overflow: hidden; // It just match the border \n    margin-left: 4px;\n\n"]))),Ir=Gt.input(ur||(ur=a(["\n    flex-grow: 1;\n    border: 0;\n    outline: none;\n \n"]))),Cr=Gt.div(cr||(cr=a(["\n    background-color: orange;\n    width: 45px;\n    color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    \n"]))),Ar=Gt.div(lr||(lr=a(["\n    display: flex;\n"]))),Pr=Gt.div(fr||(fr=a(["\n// TROUBLE\n    padding: 10px 9px 10px 9px;\n    cursor: pointer;\n    // margin-left: 8px;\n    // margin-right:8px;\n"]))),Nr=Gt.div(dr||(dr=a(["\n    display: flex;\n    a{  // This is the link of cart\n        display: flex;\n        align-items: center;\n        padding-right: 9px;\n        color: white;\n    }\n    margin-left: 21px;\n    margin-right:15px;\n"]))),Or=Gt.div(hr||(hr=a(["\n    padding-left: 4px;\n"]))),Rr=Gt.div(pr||(pr=a(["\n    background-image: none;\n    background-color: #232f3e;\n"]))),Dr=Gt.select(vr||(vr=a(["\n    border: none;\n    outline: none;\n"]))),Lr=Gt.div(mr||(mr=a(["\n    img{\n        max-width:20px;\n        margin-left: 21px;\n        // margin-right:15px;\n        margin-top:20px;\n    }\n    display:flex;\n"]))),Mr=Gt.select(gr||(gr=a(["\n    border: none;\n    outline: none;\n    background-color: #0F1111;\n    max-width:40px;\n    margin-top:20px;\n    // margin-bottom:2px;\n    font-weight: 700; \n"]))),jr=Gt.select(yr||(yr=a(["\n    border: none;\n    outline: none;\n    background-color: #0F1111;\n"]))),Fr=n(942);function zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Vr=n(142);function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,Vr.Z)(r.key),r)}}function Br(e,t,n){return t&&Ur(e.prototype,t),n&&Ur(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var qr=n(181);function Gr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,qr.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zt(e,t)}function Kr(e){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kr(e)}function Zr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Qr=n(2);function $r(e){var t=Zr();return function(){var n,r=Kr(e);if(t){var i=Kr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,Qr.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wr(e)}(this,n)}}function Yr(e,t,n){return Yr=Zr()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Zt(i,n.prototype),i},Yr.apply(null,arguments)}function Xr(e){var t="function"===typeof Map?new Map:void 0;return Xr=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Yr(e,arguments,Kr(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Zt(r,e)},Xr(e)}var Jr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ei={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,d=(15&s)<<2|c>>6,h=63&c;u||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new ti;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ti=function(e){Hr(n,e);var t=$r(n);function n(){var e;return zr(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Br(n)}(Xr(Error)),ni=function(e){return function(e){var t=Jr(e);return ei.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ri=function(e){try{return ei.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ii(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&ai(n)&&(e[n]=ii(e[n],t[n]));return e}function ai(e){return"__proto__"!==e}var oi=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},si=function(){try{return oi()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&ri(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ui=function(){var e;return null===(e=si())||void 0===e?void 0:e.config},ci=function(){function e(){var t=this;zr(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Br(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function li(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function fi(){var e,t=null===(e=si())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function di(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function hi(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function pi(){var e=li();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function vi(){try{return"object"===typeof indexedDB}catch(e){return!1}}var mi=function(e){Hr(n,e);var t=$r(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Wr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Wr(a),gi.prototype.create),a}return Br(n)}(Xr(Error)),gi=function(){function e(t,n,r){zr(this,e),this.service=t,this.serviceName=n,this.errors=r}return Br(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(yi,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new mi(n,a,t)}}]),e}();var yi=/\{\$([^}]+)}/g;function ki(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bi(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wi(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(xi(s)&&xi(u)){if(!wi(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function xi(e){return null!==e&&"object"===typeof e}function _i(e){for(var t=[],n=function(){var e=(0,i.Z)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function Si(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,i.Z)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}})),t}function Ei(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ti(e,t){var n=new Ii(e,t);return n.subscribe.bind(n)}var Ii=function(){function e(t,n){var r=this;zr(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Br(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Gr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ci),void 0===r.error&&(r.error=Ci),void 0===r.complete&&(r.complete=Ci);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ci(){}function Ai(e){return e&&e._delegate?e._delegate:e}function Pi(){Pi=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new E(i||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==t&&n.call(g,a)&&(v=g);var y=p.prototype=d.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==(0,Qr.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},k(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(y),u(y,s,"Generator"),u(y,a,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Ni=n(433);function Oi(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ri(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Oi(a,r,i,o,s,"next",e)}function s(e){Oi(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Di=function(){function e(t,n,r){zr(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Br(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Li="[DEFAULT]",Mi=function(){function e(t,n){zr(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Br(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ci;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch(c){}var t,n=Gr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,i.Z)(t.value,2),a=r[0],o=r[1],s=this.normalizeInstanceIdentifier(a);try{var u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Li;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ri(Pi().mark((function e(){var t;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,Ni.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,Ni.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Li;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Li;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=Gr(this.instancesDeferred.entries());try{for(s.s();!(a=s.n()).done;){var u=(0,i.Z)(a.value,2),c=u[0],l=u[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(o)}}catch(f){s.e(f)}finally{s.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Gr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ji(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Li;return this.component?this.component.multipleInstances?e:Li:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function ji(e){return e===Li?void 0:e}var Fi,zi,Vi=function(){function e(t){zr(this,e),this.name=t,this.providers=new Map}return Br(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Mi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ui=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(zi||(zi={}));var Bi={debug:zi.DEBUG,verbose:zi.VERBOSE,info:zi.INFO,warn:zi.WARN,error:zi.ERROR,silent:zi.SILENT},qi=zi.INFO,Gi=(Fi={},(0,Fr.Z)(Fi,zi.DEBUG,"log"),(0,Fr.Z)(Fi,zi.VERBOSE,"log"),(0,Fr.Z)(Fi,zi.INFO,"info"),(0,Fr.Z)(Fi,zi.WARN,"warn"),(0,Fr.Z)(Fi,zi.ERROR,"error"),Fi),Wi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Gi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Hi=function(){function e(t){zr(this,e),this.name=t,this._logLevel=qi,this._logHandler=Wi,this._userLogHandler=null,Ui.push(this)}return Br(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in zi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Bi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zi.DEBUG].concat(t)),this._logHandler.apply(this,[this,zi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,zi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zi.INFO].concat(t)),this._logHandler.apply(this,[this,zi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zi.WARN].concat(t)),this._logHandler.apply(this,[this,zi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zi.ERROR].concat(t)),this._logHandler.apply(this,[this,zi.ERROR].concat(t))}}]),e}();function Ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(n),!0).forEach((function(t){(0,Fr.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qi,$i,Yi=function(e,t){return t.some((function(t){return e instanceof t}))};var Xi=new WeakMap,Ji=new WeakMap,ea=new WeakMap,ta=new WeakMap,na=new WeakMap;var ra={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ji.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ea.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oa(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ia(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?($i||($i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(sa(this),n),oa(Xi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oa(e.apply(sa(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[sa(this),t].concat(r));return ea.set(a,t.sort?t.sort():[t]),oa(a)}}function aa(e){return"function"===typeof e?ia(e):(e instanceof IDBTransaction&&function(e){if(!Ji.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ji.set(e,t)}}(e),Yi(e,Qi||(Qi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ra):e)}function oa(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(oa(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Xi.set(t,e)})).catch((function(){})),na.set(t,e),t}(e);if(ta.has(e))return ta.get(e);var t=aa(e);return t!==e&&(ta.set(e,t),na.set(t,e)),t}var sa=function(e){return na.get(e)};var ua,ca,la=["get","getKey","getAll","getAllKeys","count"],fa=["put","add","delete","clear"],da=new Map;function ha(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(da.get(t))return da.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=fa.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||la.includes(n))){var a=function(){var e=Ri(Pi().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return da.set(t,a),a}}}ra=function(e){return Zi(Zi({},e),{},{get:function(t,n,r){return ha(t,n)||e.get(t,n,r)},has:function(t,n){return!!ha(t,n)||e.has(t,n)}})}(ra);var pa=function(){function e(t){zr(this,e),this.container=t}return Br(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var va="@firebase/app",ma="0.9.14",ga=new Hi("@firebase/app"),ya="[DEFAULT]",ka=(ua={},(0,Fr.Z)(ua,va,"fire-core"),(0,Fr.Z)(ua,"@firebase/app-compat","fire-core-compat"),(0,Fr.Z)(ua,"@firebase/analytics","fire-analytics"),(0,Fr.Z)(ua,"@firebase/analytics-compat","fire-analytics-compat"),(0,Fr.Z)(ua,"@firebase/app-check","fire-app-check"),(0,Fr.Z)(ua,"@firebase/app-check-compat","fire-app-check-compat"),(0,Fr.Z)(ua,"@firebase/auth","fire-auth"),(0,Fr.Z)(ua,"@firebase/auth-compat","fire-auth-compat"),(0,Fr.Z)(ua,"@firebase/database","fire-rtdb"),(0,Fr.Z)(ua,"@firebase/database-compat","fire-rtdb-compat"),(0,Fr.Z)(ua,"@firebase/functions","fire-fn"),(0,Fr.Z)(ua,"@firebase/functions-compat","fire-fn-compat"),(0,Fr.Z)(ua,"@firebase/installations","fire-iid"),(0,Fr.Z)(ua,"@firebase/installations-compat","fire-iid-compat"),(0,Fr.Z)(ua,"@firebase/messaging","fire-fcm"),(0,Fr.Z)(ua,"@firebase/messaging-compat","fire-fcm-compat"),(0,Fr.Z)(ua,"@firebase/performance","fire-perf"),(0,Fr.Z)(ua,"@firebase/performance-compat","fire-perf-compat"),(0,Fr.Z)(ua,"@firebase/remote-config","fire-rc"),(0,Fr.Z)(ua,"@firebase/remote-config-compat","fire-rc-compat"),(0,Fr.Z)(ua,"@firebase/storage","fire-gcs"),(0,Fr.Z)(ua,"@firebase/storage-compat","fire-gcs-compat"),(0,Fr.Z)(ua,"@firebase/firestore","fire-fst"),(0,Fr.Z)(ua,"@firebase/firestore-compat","fire-fst-compat"),(0,Fr.Z)(ua,"fire-js","fire-js"),(0,Fr.Z)(ua,"firebase","fire-js-all"),ua),ba=new Map,wa=new Map;function xa(e,t){try{e.container.addComponent(t)}catch(n){ga.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function _a(e,t){e.container.addOrOverwriteComponent(t)}function Sa(e){var t=e.name;if(wa.has(t))return ga.debug("There were multiple attempts to register component ".concat(t,".")),!1;wa.set(t,e);var n,r=Gr(ba.values());try{for(r.s();!(n=r.n()).done;){xa(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ea(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ta(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ya;Ea(e,t).clearInstance(n)}function Ia(){wa.clear()}var Ca=(ca={},(0,Fr.Z)(ca,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),(0,Fr.Z)(ca,"bad-app-name","Illegal App name: '{$appName}"),(0,Fr.Z)(ca,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,Fr.Z)(ca,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,Fr.Z)(ca,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,Fr.Z)(ca,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,Fr.Z)(ca,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,Fr.Z)(ca,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,Fr.Z)(ca,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,Fr.Z)(ca,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,Fr.Z)(ca,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ca),Aa=new gi("app","Firebase",Ca),Pa=function(){function e(t,n,r){var i=this;zr(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",(function(){return i}),"PUBLIC"))}return Br(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}]),e}(),Na="10.0.0";function Oa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:ya,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Aa.create("bad-app-name",{appName:String(i)});if(n||(n=ui()),!n)throw Aa.create("no-options");var a=ba.get(i);if(a){if(wi(n,a.options)&&wi(r,a.config))return a;throw Aa.create("duplicate-app",{appName:i})}var o,s=new Vi(i),u=Gr(wa.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Pa(n,r,s);return ba.set(i,l),l}function Ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=ba.get(e);if(!t&&e===ya&&ui())return Oa();if(!t)throw Aa.create("no-app",{appName:e});return t}function Da(){return Array.from(ba.values())}function La(e){return Ma.apply(this,arguments)}function Ma(){return Ma=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ba.has(n)){e.next=6;break}return ba.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function ja(e,t,n){var r,i=null!==(r=ka[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ga.warn(s.join(" "))}Sa(new Di("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Fa(e,t){if(null!==e&&"function"!==typeof e)throw Aa.create("invalid-log-argument");!function(e,t){var n,r=Gr(Ui);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Bi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:zi[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function za(e){var t;t=e,Ui.forEach((function(e){e.setLogLevel(t)}))}var Va="firebase-heartbeat-database",Ua=1,Ba="firebase-heartbeat-store",qa=null;function Ga(){return qa||(qa=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=oa(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(oa(s.result),e.oldVersion,e.newVersion,oa(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Va,Ua,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ba)}}).catch((function(e){throw Aa.create("idb-open",{originalErrorMessage:e.message})}))),qa}function Wa(e){return Ha.apply(this,arguments)}function Ha(){return Ha=Ri(Pi().mark((function e(t){var n,r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ga();case 3:return n=e.sent,e.next=6,n.transaction(Ba).objectStore(Ba).get(Qa(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof mi?ga.warn(e.t0.message):(i=Aa.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ga.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Ha.apply(this,arguments)}function Ka(e,t){return Za.apply(this,arguments)}function Za(){return Za=Ri(Pi().mark((function e(t,n){var r,i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ga();case 3:return r=e.sent,i=r.transaction(Ba,"readwrite"),a=i.objectStore(Ba),e.next=8,a.put(n,Qa(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof mi?ga.warn(e.t0.message):(o=Aa.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ga.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Za.apply(this,arguments)}function Qa(e){return"".concat(e.name,"!").concat(e.options.appId)}var $a=function(){function e(t){var n=this;zr(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new to(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Br(e,[{key:"triggerHeartbeat",value:function(){var e=Ri(Pi().mark((function e(){var t,n,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ya(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ri(Pi().mark((function e(){var t,n,r,i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ya(),n=Xa(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ni(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ya(){return(new Date).toISOString().substring(0,10)}function Xa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Gr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),no(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),no(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ja,eo,to=function(){function e(t){zr(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Br(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vi()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ri(Pi().mark((function e(){var t;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Wa(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ri(Pi().mark((function e(t){var n,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ka(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ri(Pi().mark((function e(t){var n,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ka(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,Ni.Z)(r.heartbeats),(0,Ni.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function no(e){return ni(JSON.stringify({version:2,heartbeats:e})).length}Ja="",Sa(new Di("platform-logger",(function(e){return new pa(e)}),"PRIVATE")),Sa(new Di("heartbeat",(function(e){return new $a(e)}),"PRIVATE")),ja(va,ma,Ja),ja(va,ma,"esm2017"),ja("fire-js","");var ro=function(){function e(t,n){var r=this;zr(this,e),this._delegate=t,this.firebase=n,xa(t,new Di("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Br(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),La(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ya;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ya;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){xa(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){_a(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),io=(eo={},(0,Fr.Z)(eo,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Fr.Z)(eo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),eo),ao=new gi("app-compat","Firebase",io);var oo=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Oa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ki(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ja,setLogLevel:za,onLog:Fa,apps:null,SDK_VERSION:Na,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Sa(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ao.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ii(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ki(n,e=e||ya))throw ao.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ro);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ii(n,e)},createSubscribe:Ti,ErrorFactory:gi,deepExtend:ii}),n}(),so=new Hi("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){so.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var uo=self.firebase.SDK_VERSION;uo&&uo.indexOf("LITE")>=0&&so.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var co=oo;!function(e){ja("@firebase/app-compat","0.2.14",e)}();co.registerVersion("firebase","10.0.0","app-compat");var lo,fo=n(878),ho=n(199),po=n(267);function vo(){return vo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},vo.apply(this,arguments)}var mo={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},go="EMAIL_SIGNIN",yo="PASSWORD_RESET",ko="RECOVER_EMAIL",bo="REVERT_SECOND_FACTOR_ADDITION",wo="VERIFY_AND_CHANGE_EMAIL",xo="VERIFY_EMAIL";function _o(){return(0,Fr.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var So=function(){var e;return e={},(0,Fr.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,Fr.Z)(e,"argument-error",""),(0,Fr.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,Fr.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,Fr.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,Fr.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,Fr.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,Fr.Z)(e,"cors-unsupported","This browser is not supported."),(0,Fr.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,Fr.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,Fr.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,Fr.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,Fr.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,Fr.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,Fr.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,Fr.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,Fr.Z)(e,"expired-action-code","The action code has expired."),(0,Fr.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,Fr.Z)(e,"internal-error","An internal AuthError has occurred."),(0,Fr.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,Fr.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,Fr.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,Fr.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,Fr.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,Fr.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,Fr.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,Fr.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,Fr.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,Fr.Z)(e,"invalid-email","The email address is badly formatted."),(0,Fr.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,Fr.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,Fr.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,Fr.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,Fr.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Fr.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,Fr.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,Fr.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,Fr.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,Fr.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,Fr.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,Fr.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,Fr.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,Fr.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,Fr.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,Fr.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Fr.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,Fr.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,Fr.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,Fr.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,Fr.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,Fr.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,Fr.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,Fr.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,Fr.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,Fr.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,Fr.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,Fr.Z)(e,"missing-password","A non-empty password must be provided"),(0,Fr.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,Fr.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,Fr.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,Fr.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,Fr.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,Fr.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,Fr.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,Fr.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,Fr.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,Fr.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,Fr.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,Fr.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,Fr.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,Fr.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,Fr.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,Fr.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,Fr.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,Fr.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,Fr.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,Fr.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,Fr.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,Fr.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,Fr.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,Fr.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,Fr.Z)(e,"timeout","The operation has timed out."),(0,Fr.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,Fr.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,Fr.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,Fr.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,Fr.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,Fr.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,Fr.Z)(e,"unverified-email","The operation requires a verified email."),(0,Fr.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,Fr.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,Fr.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,Fr.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,Fr.Z)(e,"user-signed-out",""),(0,Fr.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,Fr.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,Fr.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),(0,Fr.Z)(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),(0,Fr.Z)(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),(0,Fr.Z)(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),(0,Fr.Z)(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),(0,Fr.Z)(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),(0,Fr.Z)(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),(0,Fr.Z)(e,"invalid-req-type","Invalid request parameters."),(0,Fr.Z)(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},Eo=_o,To=new gi("auth","Firebase",_o()),Io=new Hi("@firebase/auth");function Co(e){if(Io.logLevel<=zi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Io.warn.apply(Io,["Auth (".concat(Na,"): ").concat(e)].concat(n))}}function Ao(e){if(Io.logLevel<=zi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Io.error.apply(Io,["Auth (".concat(Na,"): ").concat(e)].concat(n))}}function Po(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Do.apply(void 0,[e].concat(n))}function No(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Do.apply(void 0,[e].concat(n))}function Oo(e,t,n){var r=Object.assign(Object.assign({},Eo()),(0,Fr.Z)({},t,n));return new gi("auth","Firebase",r).create(t,{appName:e.name})}function Ro(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Po(e,"argument-error"),Oo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Do(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,Ni.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,Ni.Z)(o)))}return To.create.apply(To,[e].concat(n))}function Lo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Do.apply(void 0,[t].concat(r))}}function Mo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ao(t),new Error(t)}function jo(e,t){e||Mo(t)}function Fo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function zo(){return"http:"===Vo()||"https:"===Vo()}function Vo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Uo=function(){function e(t,n){zr(this,e),this.shortDelay=t,this.longDelay=n,jo(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(li())||hi()}return Br(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(zo()||di()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Bo(e,t){jo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var qo=function(){function e(){zr(this,e)}return Br(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Mo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Mo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Mo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Go=(lo={},(0,Fr.Z)(lo,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,Fr.Z)(lo,"MISSING_CUSTOM_TOKEN","internal-error"),(0,Fr.Z)(lo,"INVALID_IDENTIFIER","invalid-email"),(0,Fr.Z)(lo,"MISSING_CONTINUE_URI","internal-error"),(0,Fr.Z)(lo,"INVALID_PASSWORD","wrong-password"),(0,Fr.Z)(lo,"MISSING_PASSWORD","missing-password"),(0,Fr.Z)(lo,"EMAIL_EXISTS","email-already-in-use"),(0,Fr.Z)(lo,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,Fr.Z)(lo,"INVALID_IDP_RESPONSE","invalid-credential"),(0,Fr.Z)(lo,"INVALID_PENDING_TOKEN","invalid-credential"),(0,Fr.Z)(lo,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,Fr.Z)(lo,"MISSING_REQ_TYPE","internal-error"),(0,Fr.Z)(lo,"EMAIL_NOT_FOUND","user-not-found"),(0,Fr.Z)(lo,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,Fr.Z)(lo,"EXPIRED_OOB_CODE","expired-action-code"),(0,Fr.Z)(lo,"INVALID_OOB_CODE","invalid-action-code"),(0,Fr.Z)(lo,"MISSING_OOB_CODE","internal-error"),(0,Fr.Z)(lo,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,Fr.Z)(lo,"INVALID_ID_TOKEN","invalid-user-token"),(0,Fr.Z)(lo,"TOKEN_EXPIRED","user-token-expired"),(0,Fr.Z)(lo,"USER_NOT_FOUND","user-token-expired"),(0,Fr.Z)(lo,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,Fr.Z)(lo,"INVALID_CODE","invalid-verification-code"),(0,Fr.Z)(lo,"INVALID_SESSION_INFO","invalid-verification-id"),(0,Fr.Z)(lo,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,Fr.Z)(lo,"MISSING_SESSION_INFO","missing-verification-id"),(0,Fr.Z)(lo,"SESSION_EXPIRED","code-expired"),(0,Fr.Z)(lo,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,Fr.Z)(lo,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,Fr.Z)(lo,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,Fr.Z)(lo,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,Fr.Z)(lo,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,Fr.Z)(lo,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,Fr.Z)(lo,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,Fr.Z)(lo,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,Fr.Z)(lo,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,Fr.Z)(lo,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,Fr.Z)(lo,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),(0,Fr.Z)(lo,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),(0,Fr.Z)(lo,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),(0,Fr.Z)(lo,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),(0,Fr.Z)(lo,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),(0,Fr.Z)(lo,"MISSING_CLIENT_TYPE","missing-client-type"),(0,Fr.Z)(lo,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),(0,Fr.Z)(lo,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),(0,Fr.Z)(lo,"INVALID_REQ_TYPE","invalid-req-type"),lo),Wo=new Uo(3e4,6e4);function Ho(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ko(e,t,n,r){return Zo.apply(this,arguments)}function Zo(){return Zo=Ri(Pi().mark((function e(t,n,r,i){var a,o=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Qo(t,a,Ri(Pi().mark((function e(){var a,o,s,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=_i(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",qo.fetch()(Jo(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function Qo(e,t,n){return $o.apply(this,arguments)}function $o(){return $o=Ri(Pi().mark((function e(t,n,r){var a,o,s,u,c,l,f,d,h,p;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},Go),n),e.prev=2,o=new es(t),e.next=6,Promise.race([r(),o.promise]);case 6:return s=e.sent,o.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ts(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=(0,i.Z)(l,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw ts(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw ts(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw ts(t,"user-disabled",u);case 29:if(p=a[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Oo(t,p,h);case 34:Po(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof mi)){e.next=41;break}throw e.t0;case 41:Po(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),$o.apply(this,arguments)}function Yo(e,t,n,r){return Xo.apply(this,arguments)}function Xo(){return Xo=Ri(Pi().mark((function e(t,n,r,i){var a,o,s=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Ko(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Po(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function Jo(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Bo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var es=function(){function e(t){var n=this;zr(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(No(n.auth,"network-request-failed"))}),Wo.get())}))}return Br(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ts(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=No(e,t,r);return i.customData._tokenResponse=n,i}function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(e,t){return as.apply(this,arguments)}function as(){return as=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(e,t){return ss.apply(this,arguments)}function ss(){return ss=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function us(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function cs(){return cs=Ri(Pi().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Ai(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Lo((a=fs(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:us(ls(a.auth_time)),issuedAtTime:us(ls(a.iat)),expirationTime:us(ls(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e){return 1e3*Number(e)}function fs(e){var t=e.split("."),n=(0,i.Z)(t,3),r=n[0],a=n[1],o=n[2];if(void 0===r||void 0===a||void 0===o)return Ao("JWT malformed, contained fewer than 3 sections"),null;try{var s=ri(a);return s?JSON.parse(s):(Ao("Failed to decode base64 JWT payload"),null)}catch(u){return Ao("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function ds(e,t){return hs.apply(this,arguments)}function hs(){return hs=Ri(Pi().mark((function e(t,n){var r=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof mi&&ps(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),hs.apply(this,arguments)}function ps(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var vs=function(){function e(t){zr(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Br(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ri(Pi().mark((function t(){return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ms=function(){function e(t,n){zr(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Br(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=us(this.lastLoginAt),this.creationTime=us(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function gs(e){return ys.apply(this,arguments)}function ys(){return ys=Ri(Pi().mark((function e(t){var n,r,i,a,o,u,c,l,f,d,h;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ds(t,os(r,{idToken:i}));case 6:Lo(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],c=bs(t.providerData,u),l=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(null===c||void 0===c?void 0:c.length),d=!!l&&f,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ms(o.createdAt,o.lastLoginAt),isAnonymous:d},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}function ks(){return(ks=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ai(t),e.next=3,gs(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bs(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,Ni.Z)(n),(0,Ni.Z)(t))}function ws(e,t){return xs.apply(this,arguments)}function xs(){return xs=Ri(Pi().mark((function e(t,n){var r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qo(t,{},Ri(Pi().mark((function e(){var r,i,a,o,s,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_i({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Jo(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",qo.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),xs.apply(this,arguments)}var _s=function(){function e(){zr(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Br(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Lo(e.idToken,"internal-error"),Lo("undefined"!==typeof e.idToken,"internal-error"),Lo("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=fs(e);return Lo(t,"internal-error"),Lo("undefined"!==typeof t.exp,"internal-error"),Lo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ri(Pi().mark((function e(t){var n,r=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Lo(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ri(Pi().mark((function e(t,n){var r,i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ws(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Mo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Lo("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Lo("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Lo("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ss(e,t){Lo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Es=function(){function e(t){zr(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=s(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,Ni.Z)(a.providerData):[],this.metadata=new ms(a.createdAt||void 0,a.lastLoginAt||void 0)}return Br(e,[{key:"getIdToken",value:function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ds(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Lo(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return cs.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ks.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Lo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Lo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ri(Pi().mark((function e(t){var n,r,i=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,gs(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ri(Pi().mark((function e(){var t;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ds(this,ns(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Lo(k&&_,t,"internal-error");var S=_s.fromJSON(this.name,_);Lo("string"===typeof k,t,"internal-error"),Ss(f,t.name),Ss(d,t.name),Lo("boolean"===typeof b,t,"internal-error"),Lo("boolean"===typeof w,t,"internal-error"),Ss(h,t.name),Ss(p,t.name),Ss(v,t.name),Ss(m,t.name),Ss(g,t.name),Ss(y,t.name);var E=new e({uid:k,auth:t,email:d,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Ri(Pi().mark((function t(n,r){var i,a,o,s=arguments;return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new _s).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,gs(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ts=new Map;function Is(e){jo(e instanceof Function,"Expected a class definition");var t=Ts.get(e);return t?(jo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ts.set(e,t),t)}var Cs=function(){function e(){zr(this,e),this.type="NONE",this.storage={}}return Br(e,[{key:"_isAvailable",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Cs.type="NONE";var As=Cs;function Ps(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ns=function(){function e(t,n,r){zr(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ps(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ps("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Br(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ri(Pi().mark((function e(){var t;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Es._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ri(Pi().mark((function t(n,r){var i,a,o,s,u,c,l,f,d,h,p,v=arguments;return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Is(As),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Is(As),s=Ps(i,n.config.apiKey,n.name),u=null,c=Gr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return h=Es._fromJSON(n,d),f!==o&&(u=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Os(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ms(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Rs(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Fs(t))return"Blackberry";if(zs(t))return"Webos";if(Ds(t))return"Safari";if((t.includes("chrome/")||Ls(t))&&!t.includes("edge/"))return"Chrome";if(js(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Rs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li();return/firefox\//i.test(e)}function Ds(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:li()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ls(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li();return/crios\//i.test(e)}function Ms(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li();return/iemobile/i.test(e)}function js(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li();return/android/i.test(e)}function Fs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li();return/blackberry/i.test(e)}function zs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li();return/webos/i.test(e)}function Vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Us(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li();return Vs(e)||js(e)||zs(e)||Fs(e)||/windows phone/i.test(e)||Ms(e)}function Bs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Os(li());break;case"Worker":t="".concat(Os(li()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Na,"/").concat(r)}function qs(e){return Gs.apply(this,arguments)}function Gs(){return Gs=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ko(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}function Ws(e,t){return Hs.apply(this,arguments)}function Hs(){return Hs=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,"GET","/v2/recaptchaConfig",Ho(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}function Ks(e){return void 0!==e&&void 0!==e.getResponse}function Zs(e){return void 0!==e&&void 0!==e.enterprise}var Qs=Br((function e(t){if(zr(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function $s(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=No("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ys(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Xs=function(){function e(t){zr(this,e),this.type="recaptcha-enterprise",this.auth=ru(t)}return Br(e,[{key:"verify",value:function(){var e=Ri(Pi().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Zs(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Ri(Pi().mark((function e(n,r){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ws(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Qs(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Zs(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));$s("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Js(e,t,n){return eu.apply(this,arguments)}function eu(){return eu=Ri(Pi().mark((function e(t,n,r){var i,a,o,s,u=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Xs(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),eu.apply(this,arguments)}var tu=function(){function e(t){zr(this,e),this.auth=t,this.queue=[]}return Br(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ri(Pi().mark((function e(t){var n,r,i,a,o,s,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Gr(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Gr(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(ye){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),nu=function(){function e(t,n,r,i){zr(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iu(this),this.idTokenSubscription=new iu(this),this.beforeStateQueue=new tu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=To,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return Br(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Is(t)),this._initializationPromise=this.queue(Ri(Pi().mark((function r(){var i,a;return Pi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ns.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ri(Pi().mark((function e(){var t;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ri(Pi().mark((function e(t){var n,r,i,a,o,s,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Lo(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gs(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ai(t):null)&&Lo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ri(Pi().mark((function e(t){var n,r=this,i=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Lo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ri(Pi().mark((function n(){return Pi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Is(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=Ri(Pi().mark((function e(){var t,n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ws(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Qs(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Xs(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new gi("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ri(Pi().mark((function e(t,n){var r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Lo(n=t&&Is(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ns.create(this,[Is(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ri(Pi().mark((function e(t){var n,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ri(Pi().mark((function e(t){var n=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Lo(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Lo(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bs(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ri(Pi().mark((function e(){var t,n,r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Fr.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ri(Pi().mark((function e(){var t,n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Co("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ru(e){return Ai(e)}var iu=function(){function e(t){var n=this;zr(this,e),this.auth=t,this.observer=null,this.addObserver=Ti((function(e){return n.observer=e}))}return Br(e,[{key:"next",get:function(){return Lo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function au(e,t,n){var r=ru(e);Lo(r._canInitEmulator,r,"emulator-config-failed"),Lo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var a=!!(null===n||void 0===n?void 0:n.disableWarnings),o=ou(t),s=function(e){var t=ou(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){var o=a[1];return{host:o,port:su(r.substr(o.length+1))}}var s=r.split(":"),u=(0,i.Z)(s,2);return{host:u[0],port:su(u[1])}}(t),u=s.host,c=s.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ou(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function su(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var uu=function(){function e(t,n){zr(this,e),this.providerId=t,this.signInMethod=n}return Br(e,[{key:"toJSON",value:function(){return Mo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Mo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Mo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Mo("not implemented")}}]),e}();function cu(e,t){return lu.apply(this,arguments)}function lu(){return lu=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,"POST","/v1/accounts:resetPassword",Ho(t,n)));case 1:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(e,t){return du.apply(this,arguments)}function du(){return du=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function hu(e,t){return pu.apply(this,arguments)}function pu(){return pu=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,"POST","/v1/accounts:update",Ho(t,n)));case 1:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}function vu(e,t){return mu.apply(this,arguments)}function mu(){return mu=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:signInWithPassword",Ho(t,n)));case 1:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}function gu(e,t){return yu.apply(this,arguments)}function yu(){return yu=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,"POST","/v1/accounts:sendOobCode",Ho(t,n)));case 1:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function ku(e,t){return bu.apply(this,arguments)}function bu(){return bu=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gu(t,n));case 1:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}function wu(e,t){return xu.apply(this,arguments)}function xu(){return xu=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gu(t,n));case 1:case"end":return e.stop()}}),e)}))),xu.apply(this,arguments)}function _u(e,t){return Su.apply(this,arguments)}function Su(){return Su=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gu(t,n));case 1:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}function Eu(e,t){return Tu.apply(this,arguments)}function Tu(){return Tu=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gu(t,n));case 1:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function Iu(e,t){return Cu.apply(this,arguments)}function Cu(){return Cu=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:signInWithEmailLink",Ho(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}function Au(e,t){return Pu.apply(this,arguments)}function Pu(){return Pu=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:signInWithEmailLink",Ho(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}var Nu=function(e){Hr(n,e);var t=$r(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return zr(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Br(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ri(Pi().mark((function e(t){var n,r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Js(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",vu(t,i));case 11:return e.abrupt("return",vu(t,r).catch(function(){var e=Ri(Pi().mark((function e(n){var i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Js(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",vu(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Iu(t,{email:this._email,oobCode:this._password}));case 13:Po(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",fu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Au(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Po(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(uu);function Ou(e,t){return Ru.apply(this,arguments)}function Ru(){return Ru=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:signInWithIdp",Ho(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}var Du=function(e){Hr(n,e);var t=$r(n);function n(){var e;return zr(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Br(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ou(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ou(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ou(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_i(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Po("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=s(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(uu);function Lu(e,t){return Mu.apply(this,arguments)}function Mu(){return Mu=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,"POST","/v1/accounts:sendVerificationCode",Ho(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}function ju(){return ju=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:signInWithPhoneNumber",Ho(t,n)));case 1:case"end":return e.stop()}}),e)}))),ju.apply(this,arguments)}function Fu(){return Fu=Ri(Pi().mark((function e(t,n){var r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yo(t,"POST","/v1/accounts:signInWithPhoneNumber",Ho(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ts(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Fu.apply(this,arguments)}var zu=(0,Fr.Z)({},"USER_NOT_FOUND","user-not-found");function Vu(){return Vu=Ri(Pi().mark((function e(t,n){var r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Yo(t,"POST","/v1/accounts:signInWithPhoneNumber",Ho(t,r),zu));case 2:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}var Uu=function(e){Hr(n,e);var t=$r(n);function n(e){var r;return zr(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Br(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ju.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Fu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Vu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(uu);var Bu=function(){function e(t){var n,r,i,a,o,s;zr(this,e);var u=Si(Ei(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Lo(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Br(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Si(Ei(e)).link,n=t?Si(Ei(t)).deep_link_id:null,r=Si(Ei(e)).deep_link_id;return(r?Si(Ei(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var qu=function(){function e(){zr(this,e),this.providerId=e.PROVIDER_ID}return Br(e,null,[{key:"credential",value:function(e,t){return Nu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Bu.parseLink(t);return Lo(n,"argument-error"),Nu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();qu.PROVIDER_ID="password",qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Gu=function(){function e(t){zr(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Br(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Wu=function(e){Hr(n,e);var t=$r(n);function n(){var e;return zr(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Br(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,Ni.Z)(this.scopes)}}]),n}(Gu),Hu=function(e){Hr(n,e);var t=$r(n);function n(){return zr(this,n),t.apply(this,arguments)}return Br(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Lo(e.idToken||e.accessToken,"argument-error"),Du._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Lo("providerId"in t&&"signInMethod"in t,"argument-error"),Du._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Wu),Ku=function(e){Hr(n,e);var t=$r(n);function n(){return zr(this,n),t.call(this,"facebook.com")}return Br(n,null,[{key:"credential",value:function(e){return Du._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Wu);Ku.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ku.PROVIDER_ID="facebook.com";var Zu=function(e){Hr(n,e);var t=$r(n);function n(){var e;return zr(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Br(n,null,[{key:"credential",value:function(e,t){return Du._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Wu);Zu.GOOGLE_SIGN_IN_METHOD="google.com",Zu.PROVIDER_ID="google.com";var Qu=function(e){Hr(n,e);var t=$r(n);function n(){return zr(this,n),t.call(this,"github.com")}return Br(n,null,[{key:"credential",value:function(e){return Du._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Wu);Qu.GITHUB_SIGN_IN_METHOD="github.com",Qu.PROVIDER_ID="github.com";var $u=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Br(n,[{key:"_getIdTokenResponse",value:function(e){return Ou(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ou(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ou(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(uu),Yu=function(e){Hr(n,e);var t=$r(n);function n(e){return zr(this,n),Lo(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Br(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=$u.fromJSON(e);return Lo(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return $u._create(r,n)}catch(i){return null}}}]),n}(Gu),Xu=function(e){Hr(n,e);var t=$r(n);function n(){return zr(this,n),t.call(this,"twitter.com")}return Br(n,null,[{key:"credential",value:function(e,t){return Du._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Wu);function Ju(e,t){return ec.apply(this,arguments)}function ec(){return ec=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:signUp",Ho(t,n)));case 1:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}Xu.TWITTER_SIGN_IN_METHOD="twitter.com",Xu.PROVIDER_ID="twitter.com";var tc=function(){function e(t){zr(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Br(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ri(Pi().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Es._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=nc(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ri(Pi().mark((function t(n,r,i){var a;return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=nc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function nc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function rc(){return rc=Ri(Pi().mark((function e(t){var n,r,i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ru(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new tc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ju(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,tc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}var ic=function(e){Hr(n,e);var t=$r(n);function n(e,r,i,a){var o,s;return zr(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Wr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Br(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(mi);function ac(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ic._fromErrorAndOperation(e,n,t,r);throw n}))}function oc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function sc(e,t){return uc.apply(this,arguments)}function uc(){return uc=Ri(Pi().mark((function e(t,n){var r,i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ai(t),e.next=3,fc(!0,r,n);case 3:return e.t0=is,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=oc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return lc=Ri(Pi().mark((function e(t,n){var r,i,a=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ds,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",tc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function fc(e,t,n){return dc.apply(this,arguments)}function dc(){return dc=Ri(Pi().mark((function e(t,n,r){var i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gs(n);case 2:i=oc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Lo(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),dc.apply(this,arguments)}function hc(e,t){return pc.apply(this,arguments)}function pc(){return pc=Ri(Pi().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ds(t,ac(i,a,n,t),r);case 6:return Lo((o=e.sent).idToken,i,"internal-error"),Lo(s=fs(o.idToken),i,"internal-error"),u=s.sub,Lo(t.uid===u,i,"user-mismatch"),e.abrupt("return",tc._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Po(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),pc.apply(this,arguments)}function vc(e,t){return mc.apply(this,arguments)}function mc(){return mc=Ri(Pi().mark((function e(t,n){var r,i,a,o,s=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,ac(t,i,n);case 4:return a=e.sent,e.next=7,tc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function gc(e,t){return yc.apply(this,arguments)}function yc(){return yc=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vc(ru(t),n));case 1:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function kc(e,t){return bc.apply(this,arguments)}function bc(){return(bc=Ri(Pi().mark((function e(t,n){var r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ai(t),e.next=3,fc(!1,r,n.providerId);case 3:return e.abrupt("return",cc(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wc(e,t){return xc.apply(this,arguments)}function xc(){return(xc=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hc(Ai(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _c(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:signInWithCustomToken",Ho(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ec(){return Ec=Ri(Pi().mark((function e(t,n){var r,i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ru(t),e.next=3,_c(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,tc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}var Tc=function(){function e(t,n){zr(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Br(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Ic._fromServerResponse(e,t):"totpInfo"in t?Cc._fromServerResponse(e,t):Po(e,"internal-error")}}]),e}(),Ic=function(e){Hr(n,e);var t=$r(n);function n(e){var r;return zr(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Br(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Tc),Cc=function(e){Hr(n,e);var t=$r(n);function n(e){return zr(this,n),t.call(this,"totp",e)}return Br(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Tc);function Ac(e,t,n){var r;Lo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Lo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Lo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Lo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Pc(){return Pc=Ri(Pi().mark((function e(t,n,r){var i,a,o,s;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ru(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Js(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&Ac(a,s,r),e.next=9,wu(a,s);case 9:e.next=14;break;case 11:return r&&Ac(a,o,r),e.next=14,wu(a,o).catch(function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Js(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Ac(a,n,r),e.next=8,wu(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Nc(){return Nc=Ri(Pi().mark((function e(t,n,r){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cu(Ai(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Oc(){return Oc=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hu(Ai(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Oc.apply(this,arguments)}function Rc(e,t){return Dc.apply(this,arguments)}function Dc(){return Dc=Ri(Pi().mark((function e(t,n){var r,i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ai(t),e.next=3,cu(r,{oobCode:n});case 3:i=e.sent,Lo(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Lo(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Lo(i.mfaInfo,r,"internal-error");case 13:Lo(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Tc._fromServerResponse(ru(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}function Lc(){return Lc=Ri(Pi().mark((function e(t,n){var r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rc(Ai(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Mc(e,t,n){return jc.apply(this,arguments)}function jc(){return jc=Ri(Pi().mark((function e(t,n,r){var i,a,o,s,u,c,l;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ru(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Js(a,o,"signUpPassword");case 5:u=e.sent,s=Ju(a,u),e.next=10;break;case 9:s=Ju(a,o).catch(function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Js(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Ju(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,tc._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Fc(){return Fc=Ri(Pi().mark((function e(t,n,r){var i,a,o,s,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Lo(t.handleCodeInApp,a,"argument-error"),t&&Ac(a,e,t)},a=ru(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Js(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,_u(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,_u(a,o).catch(function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Js(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,_u(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}function zc(){return zc=Ri(Pi().mark((function e(t,n,r){var i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ai(t),Lo((a=qu.credentialWithLink(n,r||Fo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",gc(i,a));case 4:case"end":return e.stop()}}),e)}))),zc.apply(this,arguments)}function Vc(e,t){return Uc.apply(this,arguments)}function Uc(){return Uc=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,"POST","/v1/accounts:createAuthUri",Ho(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uc.apply(this,arguments)}function Bc(){return Bc=Ri(Pi().mark((function e(t,n){var r,i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zo()?Fo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Vc(Ai(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Bc.apply(this,arguments)}function qc(){return(qc=Ri(Pi().mark((function e(t,n){var r,i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ai(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ac(r.auth,a,n),e.next=8,ku(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gc(){return(Gc=Ri(Pi().mark((function e(t,n,r){var i,a,o,s;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ai(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ac(i.auth,o,r),e.next=8,Eu(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wc(e,t){return Hc.apply(this,arguments)}function Hc(){return Hc=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Kc(){return(Kc=Ri(Pi().mark((function e(t,n){var r,i,a,o,s,u,c;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ai(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ds(a,Wc(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zc(e,t,n){return Qc.apply(this,arguments)}function Qc(){return Qc=Ri(Pi().mark((function e(t,n,r){var i,a,o,s;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ds(t,fu(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}var $c=Br((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};zr(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Yc=function(e){Hr(n,e);var t=$r(n);function n(e,r,i,a){var o;return zr(this,n),(o=t.call(this,e,r,i)).username=a,o}return Br(n)}($c),Xc=function(e){Hr(n,e);var t=$r(n);function n(e,r){return zr(this,n),t.call(this,e,"facebook.com",r)}return Br(n)}($c),Jc=function(e){Hr(n,e);var t=$r(n);function n(e,r){return zr(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Br(n)}(Yc),el=function(e){Hr(n,e);var t=$r(n);function n(e,r){return zr(this,n),t.call(this,e,"google.com",r)}return Br(n)}($c),tl=function(e){Hr(n,e);var t=$r(n);function n(e,r,i){return zr(this,n),t.call(this,e,"twitter.com",r,i)}return Br(n)}(Yc);function nl(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=fs(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new $c(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Xc(a,i);case"github.com":return new Jc(a,i);case"google.com":return new el(a,i);case"twitter.com":return new tl(a,i,e.screenName||null);case"custom":case"anonymous":return new $c(a,null);default:return new $c(a,r,i)}}(n)}var rl=function(){function e(t,n,r){zr(this,e),this.type=t,this.credential=n,this.user=r}return Br(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,Fr.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),il=function(){function e(t,n,r){zr(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Br(e,[{key:"resolveSignIn",value:function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ru(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Tc._fromServerResponse(r,e)}));Lo(i.mfaPendingCredential,r,"internal-error");var o=rl._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ri(Pi().mark((function e(t){var a,s,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,tc._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Lo(n.user,r,"internal-error"),e.abrupt("return",tc._forOperation(n.user,n.operationType,s));case 17:Po(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function al(e,t){return Ko(e,"POST","/v2/accounts/mfaEnrollment:start",Ho(e,t))}function ol(e,t){return Ko(e,"POST","/v2/accounts/mfaEnrollment:start",Ho(e,t))}function sl(e,t){return Ko(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ho(e,t))}function ul(e,t){return Ko(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ho(e,t))}var cl=function(){function e(t){var n=this;zr(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Tc._fromServerResponse(t.auth,e)})))}))}return Br(e,[{key:"getSession",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=rl,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ri(Pi().mark((function e(t,n){var r,i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ds(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ri(Pi().mark((function e(t){var n,r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,ds(this.user,ul(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ll=new WeakMap;var fl="__sak",dl=function(){function e(t,n){zr(this,e),this.storageRetriever=t,this.type=n}return Br(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(fl,"1"),this.storage.removeItem(fl),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var hl=function(e){Hr(n,e);var t=$r(n);function n(){var e;return zr(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=li();return Ds(e)||Vs(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Us(),e._shouldAllowMigration=!0,e}return Br(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);pi()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ri(Pi().mark((function e(t,r){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vo(Kr(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ri(Pi().mark((function e(t){var r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vo(Kr(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vo(Kr(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(dl);hl.type="LOCAL";var pl=hl,vl=function(e){Hr(n,e);var t=$r(n);function n(){return zr(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Br(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(dl);vl.type="SESSION";var ml=vl;function gl(e){return Promise.all(e.map(function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var yl=function(){function e(t){zr(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Br(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ri(Pi().mark((function e(t){var n,r,i,a,o,s,u,c;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,gl(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function kl(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}yl.receivers=[];var bl=function(){function e(t){zr(this,e),this.target=t,this.handlers=new Set}return Br(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ri(Pi().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=kl("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function wl(){return window}function xl(e){wl().location.href=e}function _l(){return"undefined"!==typeof wl().WorkerGlobalScope&&"function"===typeof wl().importScripts}function Sl(){return El.apply(this,arguments)}function El(){return(El=Ri(Pi().mark((function e(){var t;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Tl(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Il="firebaseLocalStorageDb",Cl="firebaseLocalStorage",Al="fbase_key",Pl=function(){function e(t){zr(this,e),this.request=t}return Br(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Nl(e,t){return e.transaction([Cl],t?"readwrite":"readonly").objectStore(Cl)}function Ol(){var e=indexedDB.deleteDatabase(Il);return new Pl(e).toPromise()}function Rl(){var e=indexedDB.open(Il,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Cl,{keyPath:Al})}catch(r){n(r)}})),e.addEventListener("success",Ri(Pi().mark((function n(){var r;return Pi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Cl)){n.next=12;break}return r.close(),n.next=5,Ol();case 5:return n.t0=t,n.next=8,Rl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Dl(e,t,n){return Ll.apply(this,arguments)}function Ll(){return Ll=Ri(Pi().mark((function e(t,n,r){var i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Nl(t,!0).put((i={},(0,Fr.Z)(i,Al,n),(0,Fr.Z)(i,"value",r),i)),e.abrupt("return",new Pl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}function Ml(e,t){return jl.apply(this,arguments)}function jl(){return jl=Ri(Pi().mark((function e(t,n){var r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t,!1).get(n),e.next=3,new Pl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),jl.apply(this,arguments)}function Fl(e,t){var n=Nl(e,!0).delete(t);return new Pl(n).toPromise()}var zl=function(){function e(){zr(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Br(e,[{key:"_openDb",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Rl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ri(Pi().mark((function e(t){var n,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_l()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ri(Pi().mark((function e(){var t=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=yl._getInstance(_l()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ri(Pi().mark((function e(n,r){var i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ri(Pi().mark((function e(){var t,n,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sl();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new bl(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Tl()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ri(Pi().mark((function e(){var t;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Rl();case 5:return t=e.sent,e.next=8,Dl(t,fl,"1");case 8:return e.next=10,Fl(t,fl);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ri(Pi().mark((function e(t,n){var r=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Dl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ml(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ri(Pi().mark((function e(t){var n=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Fl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ri(Pi().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Nl(e,!1).getAll();return new Pl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Gr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ri(Pi().mark((function t(){return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();zl.type="LOCAL";var Vl=zl;function Ul(e,t){return Ko(e,"POST","/v2/accounts/mfaSignIn:start",Ho(e,t))}function Bl(e,t){return Ko(e,"POST","/v2/accounts/mfaSignIn:finalize",Ho(e,t))}var ql=1e12,Gl=function(){function e(t){zr(this,e),this.auth=t,this.counter=ql,this._widgets=new Map}return Br(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Wl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ql;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ql;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ri(Pi().mark((function e(t){var n,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ql,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Wl=function(){function e(t,n,r){var i=this;zr(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Lo(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Br(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Hl=Ys("rcb"),Kl=new Uo(3e4,6e4),Zl=function(){function e(){var t;zr(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=wl().grecaptcha)||void 0===t?void 0:t.render)}return Br(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Lo(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Ks(wl().grecaptcha)?Promise.resolve(wl().grecaptcha):new Promise((function(r,i){var a=wl().setTimeout((function(){i(No(e,"network-request-failed"))}),Kl.get());wl()[Hl]=function(){wl().clearTimeout(a),delete wl()[Hl];var o=wl().grecaptcha;if(o&&Ks(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(No(e,"internal-error"))},$s("".concat("https://www.google.com/recaptcha/api.js?","?").concat(_i({onload:Hl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(No(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=wl().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Ql=function(){function e(){zr(this,e)}return Br(e,[{key:"load",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Gl(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),$l="recaptcha",Yl={theme:"light",type:"image"},Xl=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Yl);zr(this,e),this.parameters=r,this.type=$l,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ru(t),this.isInvisible="invisible"===this.parameters.size,Lo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;Lo(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ql:new Zl,this.validateStartingState()}return Br(e,[{key:"verify",value:function(){var e=Ri(Pi().mark((function e(){var t,n,r,i=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Lo(!this.parameters.sitekey,this.auth,"argument-error"),Lo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Lo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=wl()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Lo(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ri(Pi().mark((function e(){var t,n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ri(Pi().mark((function e(){var t;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lo(zo()&&!_l(),this.auth,"internal-error"),e.next=3,Jl();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,qs(this.auth);case 8:Lo(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Lo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Jl(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var ef=function(){function e(t,n){zr(this,e),this.verificationId=t,this.onConfirmation=n}return Br(e,[{key:"confirm",value:function(e){var t=Uu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function tf(){return tf=Ri(Pi().mark((function e(t,n,r){var i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ru(t),e.next=3,of(i,n,Ai(r));case 3:return a=e.sent,e.abrupt("return",new ef(a,(function(e){return gc(i,e)})));case 5:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}function nf(e,t,n){return rf.apply(this,arguments)}function rf(){return(rf=Ri(Pi().mark((function e(t,n,r){var i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ai(t),e.next=3,fc(!1,i,"phone");case 3:return e.next=5,of(i.auth,n,Ai(r));case 5:return a=e.sent,e.abrupt("return",new ef(a,(function(e){return kc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function af(){return(af=Ri(Pi().mark((function e(t,n,r){var i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ai(t),e.next=3,of(i.auth,n,Ai(r));case 3:return a=e.sent,e.abrupt("return",new ef(a,(function(e){return wc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function of(e,t,n){return sf.apply(this,arguments)}function sf(){return sf=Ri(Pi().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Lo("string"===typeof a,t,"argument-error"),Lo(r.type===$l,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Lo("enroll"===s.type,t,"internal-error"),e.next=13,al(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Lo("signin"===s.type,t,"internal-error"),Lo(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ul(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Lu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),sf.apply(this,arguments)}function uf(){return(uf=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cc(Ai(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cf=function(){function e(t){zr(this,e),this.providerId=e.PROVIDER_ID,this.auth=ru(t)}return Br(e,[{key:"verifyPhoneNumber",value:function(e,t){return of(this.auth,e,Ai(t))}}],[{key:"credential",value:function(e,t){return Uu._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Uu._fromTokenResponse(n,r):null}}]),e}();function lf(e,t){return t?Is(t):(Lo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}cf.PROVIDER_ID="phone",cf.PHONE_SIGN_IN_METHOD="phone";var ff=function(e){Hr(n,e);var t=$r(n);function n(e){var r;return zr(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Br(n,[{key:"_getIdTokenResponse",value:function(e){return Ou(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ou(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ou(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(uu);function df(e){return vc(e.auth,new ff(e),e.bypassAuthState)}function hf(e){var t=e.auth,n=e.user;return Lo(n,t,"internal-error"),hc(n,new ff(e),e.bypassAuthState)}function pf(e){return vf.apply(this,arguments)}function vf(){return vf=Ri(Pi().mark((function e(t){var n,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Lo(r=t.user,n,"internal-error"),e.abrupt("return",cc(r,new ff(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),vf.apply(this,arguments)}var mf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];zr(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Br(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ri(Pi().mark((function t(n,r){return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ri(Pi().mark((function e(t){var n,r,i,a,o,s,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return df;case"linkViaPopup":case"linkViaRedirect":return pf;case"reauthViaPopup":case"reauthViaRedirect":return hf;default:Po(this.auth,"internal-error")}}},{key:"resolve",value:function(e){jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),gf=new Uo(2e3,1e4);function yf(e,t,n){return kf.apply(this,arguments)}function kf(){return kf=Ri(Pi().mark((function e(t,n,r){var i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ru(t),Ro(t,n,Gu),a=lf(i,r),o=new _f(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),kf.apply(this,arguments)}function bf(){return bf=Ri(Pi().mark((function e(t,n,r){var i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro((i=Ai(t)).auth,n,Gu),a=lf(i.auth,r),o=new _f(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),bf.apply(this,arguments)}function wf(e,t,n){return xf.apply(this,arguments)}function xf(){return xf=Ri(Pi().mark((function e(t,n,r){var i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro((i=Ai(t)).auth,n,Gu),a=lf(i.auth,r),o=new _f(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),xf.apply(this,arguments)}var _f=function(e){Hr(n,e);var t=$r(n);function n(e,r,i,a,o){var s;return zr(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Wr(s),s}return Br(n,[{key:"executeNotNull",value:function(){var e=Ri(Pi().mark((function e(){var t;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Lo(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ri(Pi().mark((function e(){var t,n=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jo(1===this.filter.length,"Popup operations only handle one event"),t=kl(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(No(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(No(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(No(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,gf.get())}()}}]),n}(mf);_f.currentPopupAction=null;var Sf="pendingRedirect",Ef=new Map,Tf=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return zr(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Br(n,[{key:"execute",value:function(){var e=Ri(Pi().mark((function e(){var t,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ef.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,If(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,vo(Kr(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ef.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ef.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ri(Pi().mark((function e(t){var r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",vo(Kr(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",vo(Kr(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(mf);function If(e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=Ri(Pi().mark((function e(t,n){var r,i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rf(n),i=Of(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Cf.apply(this,arguments)}function Af(e,t){return Pf.apply(this,arguments)}function Pf(){return Pf=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(t)._set(Rf(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Pf.apply(this,arguments)}function Nf(e,t){Ef.set(e._key(),t)}function Of(e){return Is(e._redirectPersistence)}function Rf(e){return Ps(Sf,e.config.apiKey,e.name)}function Df(e,t,n){return function(e,t,n){return Lf.apply(this,arguments)}(e,t,n)}function Lf(){return Lf=Ri(Pi().mark((function e(t,n,r){var i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ru(t),Ro(t,n,Gu),e.next=4,i._initializationPromise;case 4:return a=lf(i,r),e.next=7,Af(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Lf.apply(this,arguments)}function Mf(e,t,n){return function(e,t,n){return jf.apply(this,arguments)}(e,t,n)}function jf(){return jf=Ri(Pi().mark((function e(t,n,r){var i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro((i=Ai(t)).auth,n,Gu),e.next=4,i.auth._initializationPromise;case 4:return a=lf(i.auth,r),e.next=7,Af(a,i.auth);case 7:return e.next=9,Gf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}function Ff(e,t,n){return function(e,t,n){return zf.apply(this,arguments)}(e,t,n)}function zf(){return zf=Ri(Pi().mark((function e(t,n,r){var i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro((i=Ai(t)).auth,n,Gu),e.next=4,i.auth._initializationPromise;case 4:return a=lf(i.auth,r),e.next=7,fc(!1,i,n.providerId);case 7:return e.next=9,Af(a,i.auth);case 9:return e.next=11,Gf(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}function Vf(e,t){return Uf.apply(this,arguments)}function Uf(){return Uf=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ru(t)._initializationPromise;case 2:return e.abrupt("return",Bf(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Uf.apply(this,arguments)}function Bf(e,t){return qf.apply(this,arguments)}function qf(){return qf=Ri(Pi().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ru(t),a=lf(i,n),o=new Tf(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}function Gf(e){return Wf.apply(this,arguments)}function Wf(){return(Wf=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kl("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hf=function(){function e(t){zr(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Br(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Zf(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(No(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Kf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Kf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Zf(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Qf(e){return $f.apply(this,arguments)}function $f(){return $f=Ri(Pi().mark((function e(t){var n,r=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ko(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}var Yf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xf=/^https?/;function Jf(){return Jf=Ri(Pi().mark((function e(t){var n,r,i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Qf(t);case 4:n=e.sent,r=n.authorizedDomains,i=Gr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ed(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Po(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Jf.apply(this,arguments)}function ed(e){var t=Fo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Xf.test(r))return!1;if(Yf.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var td=new Uo(3e4,6e4);function nd(){var e=wl().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,Ni.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var rd=null;function id(e){return rd=rd||function(e){return new Promise((function(t,n){var r,i,a;function o(){nd(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){nd(),n(No(e,"network-request-failed"))},timeout:td.get()})}if(null===(i=null===(r=wl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=wl().gapi)||void 0===a?void 0:a.load)){var s=Ys("iframefcb");return wl()[s]=function(){gapi.load?o():n(No(e,"network-request-failed"))},$s("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw rd=null,e}))}(e),rd}var ad=new Uo(5e3,15e3),od="__/auth/iframe",sd="emulator/auth/iframe",ud={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ld(e){var t=e.config;Lo(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Bo(t,sd):"https://".concat(e.config.authDomain,"/").concat(od),r={apiKey:t.apiKey,appName:e.name,v:Na},i=cd.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(_i(r).slice(1))}function fd(e){return dd.apply(this,arguments)}function dd(){return dd=Ri(Pi().mark((function e(t){var n,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,id(t);case 2:return n=e.sent,Lo(r=wl().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ld(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ud,dontclear:!0},(function(e){return new Promise(function(){var n=Ri(Pi().mark((function n(r,i){var a,o,s;return Pi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){wl().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=No(t,"network-request-failed"),o=wl().setTimeout((function(){i(a)}),ad.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),dd.apply(this,arguments)}var hd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pd=function(){function e(t){zr(this,e),this.window=t,this.associatedEvent=null}return Br(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function vd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},hd),{width:r.toString(),height:a.toString(),top:o,left:s}),l=li().toLowerCase();n&&(u=Ls(l)?"_blank":n),Rs(l)&&(t=t||"http://localhost",c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")}),"");if(function(){var e;return Vs(arguments.length>0&&void 0!==arguments[0]?arguments[0]:li())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new pd(null);var d=window.open(t||"",u,f);Lo(d,e,"popup-blocked");try{d.focus()}catch(h){}return new pd(d)}var md="__/auth/handler",gd="emulator/auth/handler",yd=encodeURIComponent("fac");function kd(e,t,n,r,i,a){return bd.apply(this,arguments)}function bd(){return bd=Ri(Pi().mark((function e(t,n,r,a,o,s){var u,c,l,f,d,h,p,v,m,g,y,k,b;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lo(t.config.authDomain,t,"auth-domain-config-required"),Lo(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:a,v:Na,eventId:o},n instanceof Gu)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",bi(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(s||{});c<l.length;c++)f=(0,i.Z)(l[c],2),d=f[0],h=f[1],u[d]=h;for(n instanceof Wu&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(yd,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(wd(t),"?").concat(_i(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}function wd(e){var t=e.config;return t.emulator?Bo(t,gd):"https://".concat(t.authDomain,"/").concat(md)}var xd="webStorageSupport",_d=function(){function e(){zr(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ml,this._completeRedirectFn=Bf,this._overrideRedirectResult=Nf}return Br(e,[{key:"_openPopup",value:function(){var e=Ri(Pi().mark((function e(t,n,r,i){var a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,kd(t,n,r,Fo(),i);case 3:return o=e.sent,e.abrupt("return",vd(t,o,kl()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ri(Pi().mark((function e(t,n,r,i){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,kd(t,n,r,Fo(),i);case 4:return xl(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(jo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ri(Pi().mark((function e(t){var n,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fd(t);case 2:return n=e.sent,r=new Hf(t),n.register("authEvent",(function(e){return Lo(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(xd,{type:xd},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[xd];void 0!==i&&t(!!i),Po(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Jf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Us()||Ds()||Vs()}}]),e}(),Sd=_d,Ed=function(){function e(t){zr(this,e),this.factorId=t}return Br(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Mo("unexpected MultiFactorSessionType")}}}]),e}(),Td=function(e){Hr(n,e);var t=$r(n);function n(e){var r;return zr(this,n),(r=t.call(this,"phone")).credential=e,r}return Br(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ko(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ho(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ko(e,"POST","/v2/accounts/mfaSignIn:finalize",Ho(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ed),Id=function(){function e(){zr(this,e)}return Br(e,null,[{key:"assertion",value:function(e){return Td._fromCredential(e)}}]),e}();Id.FACTOR_ID="phone";var Cd=function(){function e(){zr(this,e)}return Br(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Ad._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Ad._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Ri(Pi().mark((function e(t){var n,r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lo("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,ol(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",Pd._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Cd.FACTOR_ID="totp";var Ad=function(e){Hr(n,e);var t=$r(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return Br(n,[{key:"_finalizeEnroll",value:function(){var e=Ri(Pi().mark((function e(t,n,r){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lo("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",sl(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Ri(Pi().mark((function e(t,n){var r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lo(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Bl(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Ed),Pd=function(){function e(t,n,r,i,a,o,s){zr(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return Br(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Nd(e)||Nd(t))&&(r=!0),r&&(Nd(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Nd(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Nd(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Od="@firebase/auth",Rd="1.0.0",Dd=function(){function e(t){zr(this,e),this.auth=t,this.internalListeners=new Map}return Br(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Lo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Ld;!function(e){var t;null===(t=si())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Md(){return window}Ld="Browser",Sa(new Di("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Lo(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Ld,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bs(Ld)},l=new nu(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Is);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Sa(new Di("auth-internal",(function(e){return function(e){return new Dd(e)}(ru(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ja(Od,Rd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ld)),ja(Od,Rd,"esm2017");var jd=2e3;function Fd(e,t,n){return zd.apply(this,arguments)}function zd(){return zd=Ri(Pi().mark((function e(t,n,r){var i,a,o,s,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Md(),o=a.BuildInfo,jo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Wd(n.sessionId);case 4:return s=e.sent,u={},Vs()?u.ibi=o.packageName:js()?u.apn=o.packageName:Po(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",kd(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),zd.apply(this,arguments)}function Vd(){return Vd=Ri(Pi().mark((function e(t){var n,r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Md(),r=n.BuildInfo,i={},Vs()?i.iosBundleId=r.packageName:js()?i.androidPackageName=r.packageName:Po(t,"operation-not-supported-in-this-environment"),e.next=5,Qf(t,i);case 5:case"end":return e.stop()}}),e)}))),Vd.apply(this,arguments)}function Ud(e){var t=Md().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Bd(e,t,n){return qd.apply(this,arguments)}function qd(){return qd=Ri(Pi().mark((function e(t,n,r){var i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Md(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(No(t,"redirect-cancelled-by-user"))}),jd))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),js()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),qd.apply(this,arguments)}function Gd(e){var t,n,r,i,a,o,s,u,c,l,f=Md();Lo("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Lo("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Lo("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Lo("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Lo("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Wd(e){return Hd.apply(this,arguments)}function Hd(){return(Hd=Ri(Pi().mark((function e(t){var n,r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kd(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kd(e){if(jo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Zd=20,Qd=function(e){Hr(n,e);var t=$r(n);function n(){var e;return zr(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Br(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),vo(Kr(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Hf);function $d(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:th(),postBody:null,tenantId:e.tenantId,error:No(e,"no-auth-event")}}function Yd(e,t){return nh()._set(rh(e),t)}function Xd(e){return Jd.apply(this,arguments)}function Jd(){return Jd=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nh()._get(rh(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,nh()._remove(rh(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Jd.apply(this,arguments)}function eh(e,t){var n,r,i=function(e){var t=ih(e),n=t.link?decodeURIComponent(t.link):void 0,r=ih(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ih(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ih(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?No(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function th(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Zd;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function nh(){return Is(pl)}function rh(e){return Ps("authEvent",e.config.apiKey,e.name)}function ih(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,fo.Z)(t)||(0,ho.Z)(t)||(0,qr.Z)(t)||(0,po.Z)());r[0];return Si(r.slice(1).join("?"))}var ah=function(){function e(){zr(this,e),this._redirectPersistence=ml,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bf,this._overrideRedirectResult=Nf}return Br(e,[{key:"_initialize",value:function(){var e=Ri(Pi().mark((function e(t){var n,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Qd(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Po(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ri(Pi().mark((function e(t,n,r,i){var a,o,s,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gd(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ef.clear(),e.next=10,this._originValidation(t);case 10:return o=$d(t,r,i),e.next=13,Yd(t,o);case 13:return e.next=15,Fd(t,o,n);case 15:return s=e.sent,e.next=18,Ud(s);case 18:return u=e.sent,e.abrupt("return",Bd(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Vd.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Md(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ri(Pi().mark((function n(){return Pi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Xd(e);case 2:t.onEvent(sh());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Ri(Pi().mark((function n(r){var i,a;return Pi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Xd(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=eh(i,r.url)),t.onEvent(a||sh());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Md().handleOpenURL=function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),oh=ah;function sh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:No("no-auth-event")}}var uh=1e3;function ch(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function lh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li();return!("file:"!==ch()&&"ionic:"!==ch()&&"capacitor:"!==ch()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function fh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li();return pi()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li();return/Edge\/\d+/.test(e)}(e)}function dh(){try{var e=self.localStorage,t=kl();if(e)return e.setItem(t,"1"),e.removeItem(t),!fh()||vi()}catch(n){return hh()&&vi()}return!1}function hh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ph(){return("http:"===ch()||"https:"===ch()||di()||lh())&&!(hi()||fi())&&dh()&&!hh()}function vh(){return lh()&&"undefined"!==typeof document}function mh(){return gh.apply(this,arguments)}function gh(){return(gh=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vh()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),uh);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yh={LOCAL:"local",NONE:"none",SESSION:"session"},kh=Lo,bh="persistence";function wh(e,t){kh(Object.values(yh).includes(t),e,"invalid-persistence-type"),hi()?kh(t!==yh.SESSION,e,"unsupported-persistence-type"):fi()?kh(t===yh.NONE,e,"unsupported-persistence-type"):hh()?kh(t===yh.NONE||t===yh.LOCAL&&vi(),e,"unsupported-persistence-type"):kh(t===yh.NONE||dh(),e,"unsupported-persistence-type")}function xh(e){return _h.apply(this,arguments)}function _h(){return _h=Ri(Pi().mark((function e(t){var n,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Sh(),r=Ps(bh,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),_h.apply(this,arguments)}function Sh(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Eh=Lo,Th=function(){function e(){zr(this,e),this.browserResolver=Is(Sd),this.cordovaResolver=Is(oh),this.underlyingResolver=null,this._redirectPersistence=ml,this._completeRedirectFn=Bf,this._overrideRedirectResult=Nf}return Br(e,[{key:"_initialize",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ri(Pi().mark((function e(t,n,r,i){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ri(Pi().mark((function e(t,n,r,i){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return vh()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Eh(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ri(Pi().mark((function e(){var t;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mh();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ih(e){return e.unwrap()}function Ch(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Rh(e,function(e,t){var n,r=Ai(e),i=t;return Lo(t.customData.operationType,r,"argument-error"),Lo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),il._fromError(r,i)}(e,t));else if(r){var i=Ah(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Ah(e){var t=(e instanceof mi?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof mi)&&"temporaryProof"in t&&"phoneNumber"in t)return cf.credentialFromResult(e);var n,r=t.providerId;if(!r||r===mo.PASSWORD)return null;switch(r){case mo.GOOGLE:n=Zu;break;case mo.FACEBOOK:n=Ku;break;case mo.GITHUB:n=Qu;break;case mo.TWITTER:n=Xu;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?$u._create(r,s):Du._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Hu(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof mi?n.credentialFromError(e):n.credentialFromResult(e)}function Ph(e,t){return t.catch((function(t){throw t instanceof mi&&Ch(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Ah(t)),additionalUserInfo:nl(e),user:Dh.getOrCreate(r)}}))}function Nh(e,t){return Oh.apply(this,arguments)}function Oh(){return Oh=Ri(Pi().mark((function e(t,n){var r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Ph(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Oh.apply(this,arguments)}var Rh=function(){function e(t,n){zr(this,e),this.resolver=n,this.auth=t.wrapped()}return Br(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Ph(Ih(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Dh=function(){function e(t){zr(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ai(e);return ll.has(t)||ll.set(t,cl._fromUser(t)),ll.get(t)}(t)}return Br(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ph(this.auth,kc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nh(this.auth,nf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ph(this.auth,wf(this._delegate,t,Th)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xh(ru(this.auth));case 2:return e.abrupt("return",Ff(this._delegate,t,Th));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ph(this.auth,wc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Nh(this.auth,function(e,t,n){return af.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Ph(this.auth,function(e,t,n){return bf.apply(this,arguments)}(this._delegate,e,Th))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xh(ru(this.auth));case 2:return e.abrupt("return",Mf(this._delegate,t,Th));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return qc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Zc(Ai(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Zc(Ai(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return uf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Kc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Gc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Dh.USER_MAP=new WeakMap;var Lh=Lo,Mh=function(){function e(t,n){if(zr(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Lh(r,"invalid-api-key",{appName:t.name}),Lh(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Th:void 0;this._delegate=n.initialize({options:{persistence:Fh(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(So),this.linkUnderlyingAuth()}return Br(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Dh.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){au(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Oc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Rc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Nc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ph(this._delegate,Mc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Bc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Bu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ri(Pi().mark((function e(){var t;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lh(ph(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Vf(this._delegate,Th);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Ph(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ru(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=jh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=jh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Fc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Pc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ri(Pi().mark((function e(t){var n,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wh(this._delegate,t),e.t0=t,e.next=e.t0===yh.SESSION?4:e.t0===yh.LOCAL?6:e.t0===yh.NONE?11:13;break;case 4:return n=ml,e.abrupt("break",14);case 6:return e.next=8,Is(Vl)._isAvailable();case 8:return r=e.sent,n=r?Vl:pl,e.abrupt("break",14);case 11:return n=As,e.abrupt("break",14);case 13:return e.abrupt("return",Po("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Ph(this._delegate,function(e){return rc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Ph(this._delegate,gc(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Ph(this._delegate,function(e,t){return Ec.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Ph(this._delegate,function(e,t,n){return gc(Ai(e),qu.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Ph(this._delegate,function(e,t,n){return zc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Nh(this._delegate,function(e,t,n){return tf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lh(ph(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Ph(this._delegate,yf(this._delegate,t,Th)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lh(ph(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,xh(this._delegate);case 3:return e.abrupt("return",Df(this._delegate,t,Th));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Lc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function jh(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Dh.getOrCreate(e))},error:t,complete:n}}function Fh(e,t){var n=function(e,t){var n=Sh();if(!n)return[];var r=Ps(bh,e,t);switch(n.getItem(r)){case yh.NONE:return[As];case yh.LOCAL:return[Vl,ml];case yh.SESSION:return[ml];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Vl)||n.push(Vl),"undefined"!==typeof window)for(var r=0,i=[pl,ml];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(As)||n.push(As),n}Mh.Persistence=yh;var zh=function(){function e(){zr(this,e),this.providerId="phone",this._delegate=new cf(Ih(co.auth()))}return Br(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return cf.credential(e,t)}}]),e}();zh.PHONE_SIGN_IN_METHOD=cf.PHONE_SIGN_IN_METHOD,zh.PROVIDER_ID=cf.PROVIDER_ID;var Vh,Uh=Lo,Bh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:co.app();zr(this,e),Uh(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Xl(i.auth(),t,n),this.type=this._delegate.type}return Br(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Vh=co).INTERNAL.registerComponent(new Di("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Mh(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:go,PASSWORD_RESET:yo,RECOVER_EMAIL:ko,REVERT_SECOND_FACTOR_ADDITION:bo,VERIFY_AND_CHANGE_EMAIL:wo,VERIFY_EMAIL:xo}},EmailAuthProvider:qu,FacebookAuthProvider:Ku,GithubAuthProvider:Qu,GoogleAuthProvider:Zu,OAuthProvider:Hu,SAMLAuthProvider:Yu,PhoneAuthProvider:zh,PhoneMultiFactorGenerator:Id,RecaptchaVerifier:Bh,TwitterAuthProvider:Xu,Auth:Mh,AuthCredential:uu,Error:mi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Vh.registerVersion("@firebase/auth-compat","0.4.3");var qh,Gh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Wh={},Hh=Hh||{},Kh=Gh||self;function Zh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Qh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var $h="closure_uid_"+(1e9*Math.random()>>>0),Yh=0;function Xh(e,t,n){return e.call.apply(e.bind,arguments)}function Jh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ep(e,t,n){return(ep=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xh:Jh).apply(null,arguments)}function tp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function np(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function rp(){this.s=this.s,this.o=this.o}rp.prototype.s=!1,rp.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,$h)&&e[$h]||(e[$h]=++Yh))},rp.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ip=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ap(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function op(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Zh(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function sp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}sp.prototype.h=function(){this.defaultPrevented=!0};var up=function(){if(!Kh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Kh.addEventListener("test",(function(){}),t),Kh.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function cp(e){return/^[\s\xa0]*$/.test(e)}function lp(){var e=Kh.navigator;return e&&(e=e.userAgent)?e:""}function fp(e){return-1!=lp().indexOf(e)}function dp(e){return dp[" "](e),e}dp[" "]=function(){};var hp,pp,vp=fp("Opera"),mp=fp("Trident")||fp("MSIE"),gp=fp("Edge"),yp=gp||mp,kp=fp("Gecko")&&!(-1!=lp().toLowerCase().indexOf("webkit")&&!fp("Edge"))&&!(fp("Trident")||fp("MSIE"))&&!fp("Edge"),bp=-1!=lp().toLowerCase().indexOf("webkit")&&!fp("Edge");function wp(){var e=Kh.document;return e?e.documentMode:void 0}e:{var xp="",_p=function(){var e=lp();return kp?/rv:([^\);]+)(\)|;)/.exec(e):gp?/Edge\/([\d\.]+)/.exec(e):mp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):bp?/WebKit\/(\S+)/.exec(e):vp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(_p&&(xp=_p?_p[1]:""),mp){var Sp=wp();if(null!=Sp&&Sp>parseFloat(xp)){hp=String(Sp);break e}}hp=xp}if(Kh.document&&mp){var Ep=wp();pp=Ep||(parseInt(hp,10)||void 0)}else pp=void 0;var Tp=pp;function Ip(e,t){if(sp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(kp){e:{try{dp(t.nodeName);var i=!0;break e}catch(de){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Cp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ip.$.h.call(this)}}np(Ip,sp);var Cp={2:"touch",3:"pen",4:"mouse"};Ip.prototype.h=function(){Ip.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ap="closure_listenable_"+(1e6*Math.random()|0),Pp=0;function Np(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Pp,this.fa=this.ia=!1}function Op(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Rp(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Dp(e){var t={};for(var n in e)t[n]=e[n];return t}var Lp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mp(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Lp.length;a++)n=Lp[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function jp(e){this.src=e,this.g={},this.h=0}function Fp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ip(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Op(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function zp(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}jp.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=zp(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Np(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Vp="closure_lm_"+(1e6*Math.random()|0),Up={};function Bp(e,t,n,r,i){if(r&&r.once)return Gp(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Bp(e,t[a],n,r,i);return null}return n=Yp(n),e&&e[Ap]?e.O(t,n,Qh(r)?!!r.capture:!!r,i):qp(e,t,n,!1,r,i)}function qp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Qh(i)?!!i.capture:!!i,s=Qp(e);if(s||(e[Vp]=s=new jp(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Zp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)up||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Kp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Gp(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Gp(e,t[a],n,r,i);return null}return n=Yp(n),e&&e[Ap]?e.P(t,n,Qh(r)?!!r.capture:!!r,i):qp(e,t,n,!0,r,i)}function Wp(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Wp(e,t[a],n,r,i);else r=Qh(r)?!!r.capture:!!r,n=Yp(n),e&&e[Ap]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=zp(a=e.g[t],n,r,i))&&(Op(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Qp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=zp(t,n,r,i)),(n=-1<e?t[e]:null)&&Hp(n))}function Hp(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ap])Fp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Kp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Qp(t))?(Fp(n,e),0==n.h&&(n.src=null,t[Vp]=null)):Op(e)}}}function Kp(e){return e in Up?Up[e]:Up[e]="on"+e}function Zp(e,t){if(e.fa)e=!0;else{t=new Ip(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Hp(e),e=n.call(r,t)}return e}function Qp(e){return(e=e[Vp])instanceof jp?e:null}var $p="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yp(e){return"function"===typeof e?e:(e[$p]||(e[$p]=function(t){return e.handleEvent(t)}),e[$p])}function Xp(){rp.call(this),this.i=new jp(this),this.S=this,this.J=null}function Jp(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new sp(t,e);else if(t instanceof sp)t.target=t.target||e;else{var i=t;Mp(t=new sp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ev(o,r,!0,t)&&i}if(i=ev(o=t.g=e,r,!0,t)&&i,i=ev(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ev(o=t.g=n[a],r,!1,t)&&i}function ev(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Fp(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}np(Xp,rp),Xp.prototype[Ap]=!0,Xp.prototype.removeEventListener=function(e,t,n,r){Wp(this,e,t,n,r)},Xp.prototype.N=function(){if(Xp.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Op(n[r]);delete t.g[e],t.h--}}this.J=null},Xp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Xp.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var tv=Kh.JSON.stringify,nv=function(){function e(t,n){zr(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Br(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function rv(){var e=fv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var iv=function(){function e(){zr(this,e),this.h=this.g=null}return Br(e,[{key:"add",value:function(e,t){var n=av.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),av=new nv((function(){return new ov}),(function(e){return e.reset()})),ov=function(){function e(){zr(this,e),this.next=this.g=this.h=null}return Br(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function sv(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function uv(e){Kh.setTimeout((function(){throw e}),0)}var cv,lv=!1,fv=new iv,dv=function(){var e=Kh.Promise.resolve(void 0);cv=function(){e.then(hv)}},hv=function(){for(var e;e=rv();){try{e.h.call(e.g)}catch(n){uv(n)}var t=av;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}lv=!1};function pv(e,t){Xp.call(this),this.h=e||1,this.g=t||Kh,this.j=ep(this.qb,this),this.l=Date.now()}function vv(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function mv(e,t,n){if("function"===typeof e)n&&(e=ep(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ep(e.handleEvent,e)}return 2147483647<Number(t)?-1:Kh.setTimeout(e,t||0)}function gv(e){e.g=mv((function(){e.g=null,e.i&&(e.i=!1,gv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}np(pv,Xp),(qh=pv.prototype).ga=!1,qh.T=null,qh.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Jp(this,"tick"),this.ga&&(vv(this),this.start()))}},qh.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qh.N=function(){pv.$.N.call(this),vv(this),delete this.g};var yv=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Br(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:gv(this)}},{key:"N",value:function(){vo(Kr(n.prototype),"N",this).call(this),this.g&&(Kh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(rp);function kv(e){rp.call(this),this.h=e,this.g={}}np(kv,rp);var bv=[];function wv(e,t,n,r){Array.isArray(n)||(n&&(bv[0]=n.toString()),n=bv);for(var i=0;i<n.length;i++){var a=Bp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function xv(e){Rp(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Hp(e)}),e),e.g={}}function _v(){this.g=!0}function Sv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return tv(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}kv.prototype.N=function(){kv.$.N.call(this),xv(this)},kv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_v.prototype.Ea=function(){this.g=!1},_v.prototype.info=function(){};var Ev={},Tv=null;function Iv(){return Tv=Tv||new Xp}function Cv(e){sp.call(this,Ev.Ta,e)}function Av(e){var t=Iv();Jp(t,new Cv(t))}function Pv(e,t){sp.call(this,Ev.STAT_EVENT,e),this.stat=t}function Nv(e){var t=Iv();Jp(t,new Pv(t,e))}function Ov(e,t){sp.call(this,Ev.Ua,e),this.size=t}function Rv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Kh.setTimeout((function(){e()}),t)}Ev.Ta="serverreachability",np(Cv,sp),Ev.STAT_EVENT="statevent",np(Pv,sp),Ev.Ua="timingevent",np(Ov,sp);var Dv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Lv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mv(){}function jv(e){return e.h||(e.h=e.i())}function Fv(){}Mv.prototype.h=null;var zv,Vv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Uv(){sp.call(this,"d")}function Bv(){sp.call(this,"c")}function qv(){}function Gv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new kv(this),this.P=Hv,e=yp?125:void 0,this.V=new pv(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Wv}function Wv(){this.i=null,this.g="",this.h=!1}np(Uv,sp),np(Bv,sp),np(qv,Mv),qv.prototype.g=function(){return new XMLHttpRequest},qv.prototype.i=function(){return{}},zv=new qv;var Hv=45e3,Kv={},Zv={};function Qv(e,t,n){e.L=1,e.v=pm(cm(t)),e.s=n,e.S=!0,$v(e,null)}function $v(e,t){e.G=Date.now(),em(e),e.A=cm(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Im(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Wv,e.g=Cg(e.l,n?t:null,!e.s),0<e.O&&(e.M=new yv(ep(e.Pa,e,e.g),e.O)),wv(e.U,e.g,"readystatechange",e.nb),t=e.I?Dp(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Av(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Yv(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Xv(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Jv(e,n))==Zv){4==t&&(e.o=4,Nv(14),i=!1),Sv(e.j,e.m,null,"[Incomplete Response]");break}if(r==Kv){e.o=4,Nv(15),Sv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Sv(e.j,e.m,r,null),am(e,r)}Yv(e)&&r!=Zv&&r!=Kv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Nv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),bg(t),t.M=!0,Nv(11))):(Sv(e.j,e.m,n,"[Invalid Chunked Response]"),im(e),rm(e))}function Jv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Zv:(n=Number(t.substring(n,r)),isNaN(n)?Kv:(r+=1)+n>t.length?Zv:(t=t.slice(r,r+n),e.C=r+n,t))}function em(e){e.Y=Date.now()+e.P,tm(e,e.P)}function tm(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Rv(ep(e.lb,e),t)}function nm(e){e.B&&(Kh.clearTimeout(e.B),e.B=null)}function rm(e){0==e.l.H||e.J||_g(e.l,e)}function im(e){nm(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,vv(e.V),xv(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function am(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Dm(n.i,e)))if(!e.K&&Dm(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;xg(n),dg(n)}kg(n),Nv(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Rv(ep(n.ib,n),6e3));if(1>=Rm(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Eg(n,11)}else if((e.K||n.g==e)&&xg(n),!cp(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Lm(f,f.h),f.h=null))}if(r.F){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.Da=d,hm(r.I,r.F,d))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var h=e;if((r=n).wa=Ig(r,r.J?r.pa:null,r.Y),h.K){Mm(r.i,h);var p=h,v=r.L;v&&p.setTimeout(v),p.B&&(nm(p),em(p)),r.g=h}else yg(r);0<n.j.length&&pg(n)}else"stop"!=a[0]&&"close"!=a[0]||Eg(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Eg(n,7):fg(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Av()}catch(a){}}function om(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Zh(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Zh(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Zh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(qh=Gv.prototype).setTimeout=function(e){this.P=e},qh.nb=function(e){e=e.target;var t=this.M;t&&3==ag(e)?t.l():this.Pa(e)},qh.Pa=function(e){try{if(e==this.g)e:{var t=ag(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||yp||this.g&&(this.h.h||this.g.ja()||og(this.g)))){this.J||4!=t||7==n||Av(),nm(this);var r=this.g.da();this.ca=r;t:if(Yv(this)){var i=og(this.g);e="";var a=i.length,o=4==ag(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){im(this),rm(this);var s="";break t}this.h.i=new Kh.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cp(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Nv(12),im(this),rm(this);break e}Sv(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,am(this,r)}this.S?(Xv(this,t,s),yp&&this.i&&3==t&&(wv(this.U,this.V,"tick",this.mb),this.V.start())):(Sv(this.j,this.m,s,null),am(this,s)),4==t&&im(this),this.i&&!this.J&&(4==t?_g(this.l,this):(this.i=!1,em(this)))}else(function(e){var t={};e=(e.g&&2<=ag(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!cp(e[n])){var r=sv(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Nv(12)):(this.o=0,Nv(13)),im(this),rm(this)}}}catch(t){}},qh.mb=function(){if(this.g){var e=ag(this.g),t=this.g.ja();this.C<t.length&&(nm(this),Xv(this,e,t),this.i&&4!=e&&em(this))}},qh.cancel=function(){this.J=!0,im(this)},qh.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Av(),Nv(17)),im(this),this.o=2,rm(this)):tm(this,this.Y-e)};var sm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function um(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof um){this.h=e.h,lm(this,e.j),this.s=e.s,this.g=e.g,fm(this,e.m),this.l=e.l;var t=e.i,n=new _m;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),dm(this,n),this.o=e.o}else e&&(t=String(e).match(sm))?(this.h=!1,lm(this,t[1]||"",!0),this.s=vm(t[2]||""),this.g=vm(t[3]||"",!0),fm(this,t[4]),this.l=vm(t[5]||"",!0),dm(this,t[6]||"",!0),this.o=vm(t[7]||"")):(this.h=!1,this.i=new _m(null,this.h))}function cm(e){return new um(e)}function lm(e,t,n){e.j=n?vm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function fm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function dm(e,t,n){t instanceof _m?(e.i=t,function(e,t){t&&!e.j&&(Sm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Em(this,t),Im(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=mm(t,wm)),e.i=new _m(t,e.h))}function hm(e,t,n){e.i.set(t,n)}function pm(e){return hm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function vm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function mm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,gm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}um.prototype.toString=function(){var e=[],t=this.j;t&&e.push(mm(t,ym,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(mm(t,ym,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(mm(n,"/"==n.charAt(0)?bm:km,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",mm(n,xm)),e.join("")};var ym=/[#\/\?@]/g,km=/[#\?:]/g,bm=/[#\?]/g,wm=/[#\?@]/g,xm=/#/g;function _m(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Sm(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Em(e,t){Sm(e),t=Cm(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Tm(e,t){return Sm(e),t=Cm(e,t),e.g.has(t)}function Im(e,t,n){Em(e,t),0<n.length&&(e.i=null,e.g.set(Cm(e,t),ap(n)),e.h+=n.length)}function Cm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(qh=_m.prototype).add=function(e,t){Sm(this),this.i=null,e=Cm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},qh.forEach=function(e,t){Sm(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},qh.ta=function(){Sm(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},qh.Z=function(e){Sm(this);var t=[];if("string"===typeof e)Tm(this,e)&&(t=t.concat(this.g.get(Cm(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},qh.set=function(e,t){return Sm(this),this.i=null,Tm(this,e=Cm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},qh.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},qh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Am=Br((function e(t,n){zr(this,e),this.g=t,this.map=n}));function Pm(e){this.l=e||Nm,Kh.PerformanceNavigationTiming?e=0<(e=Kh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Kh.g&&Kh.g.Ka&&Kh.g.Ka()&&Kh.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Nm=10;function Om(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Rm(e){return e.h?1:e.g?e.g.size:0}function Dm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Lm(e,t){e.g?e.g.add(t):e.h=t}function Mm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function jm(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Gr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return ap(e.i)}Pm.prototype.cancel=function(){if(this.i=jm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Gr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Fm,zm=function(){function e(){zr(this,e)}return Br(e,[{key:"stringify",value:function(e){return Kh.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Kh.JSON.parse(e,void 0)}}]),e}();function Vm(){this.g=new zm}function Um(e,t,n){var r=n||"";try{om(e,(function(e,n){var i=e;Qh(e)&&(i=tv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Bm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(de){}}function qm(e){this.l=e.fc||null,this.j=e.ob||!1}function Gm(e,t){Xp.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Wm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}np(qm,Mv),qm.prototype.g=function(){return new Gm(this.l,this.j)},qm.prototype.i=(Fm={},function(){return Fm}),np(Gm,Xp);var Wm=0;function Hm(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Km(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Zm(e)}function Zm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(qh=Gm.prototype).open=function(e,t){if(this.readyState!=Wm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Zm(this)},qh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Kh).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},qh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Km(this)),this.readyState=Wm},qh.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Zm(this)),this.g&&(this.readyState=3,Zm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Kh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hm(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},qh.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Km(this):Zm(this),3==this.readyState&&Hm(this)}},qh.Za=function(e){this.g&&(this.response=this.responseText=e,Km(this))},qh.Ya=function(e){this.g&&(this.response=e,Km(this))},qh.ka=function(){this.g&&Km(this)},qh.setRequestHeader=function(e,t){this.v.append(e,t)},qh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},qh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Gm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Qm=Kh.JSON.parse;function $m(e){Xp.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ym,this.L=this.M=!1}np($m,Xp);var Ym="",Xm=/^https?$/i,Jm=["POST","PUT"];function eg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,tg(e),rg(e)}function tg(e){e.F||(e.F=!0,Jp(e,"complete"),Jp(e,"error"))}function ng(e){if(e.h&&"undefined"!=typeof Hh&&(!e.C[1]||4!=ag(e)||2!=e.da()))if(e.v&&4==ag(e))mv(e.La,0,e);else if(Jp(e,"readystatechange"),4==ag(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(sm)[1]||null;!a&&Kh.self&&Kh.self.location&&(a=Kh.self.location.protocol.slice(0,-1)),i=!Xm.test(a?a.toLowerCase():"")}t=i}if(t)Jp(e,"complete"),Jp(e,"success");else{e.m=6;try{var o=2<ag(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",tg(e)}}finally{rg(e)}}}function rg(e,t){if(e.g){ig(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Jp(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ig(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Kh.clearTimeout(e.A),e.A=null)}function ag(e){return e.g?e.g.readyState:0}function og(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ym:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ve){return null}}function sg(e){var t="";return Rp(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ug(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sg(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):hm(e,t,n))}function cg(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function lg(e){this.Ga=0,this.j=[],this.l=new _v,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cg("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cg("baseRetryDelayMs",5e3,e),this.hb=cg("retryDelaySeedMs",1e4,e),this.eb=cg("forwardChannelMaxRetries",2,e),this.xa=cg("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Pm(e&&e.concurrentRequestLimit),this.Ja=new Vm,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function fg(e){if(hg(e),3==e.H){var t=e.W++,n=cm(e.I);if(hm(n,"SID",e.K),hm(n,"RID",t),hm(n,"TYPE","terminate"),mg(e,n),(t=new Gv(e,e.l,t)).L=2,t.v=pm(cm(n)),n=!1,Kh.navigator&&Kh.navigator.sendBeacon)try{n=Kh.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Kh.Image&&((new Image).src=t.v,n=!0),n||(t.g=Cg(t.l,null),t.g.ha(t.v)),t.G=Date.now(),em(t)}Tg(e)}function dg(e){e.g&&(bg(e),e.g.cancel(),e.g=null)}function hg(e){dg(e),e.u&&(Kh.clearTimeout(e.u),e.u=null),xg(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Kh.clearTimeout(e.m),e.m=null)}function pg(e){if(!Om(e.i)&&!e.m){e.m=!0;var t=e.Na;cv||dv(),lv||(cv(),lv=!0),fv.add(t,e),e.C=0}}function vg(e,t){var n;n=t?t.m:e.W++;var r=cm(e.I);hm(r,"SID",e.K),hm(r,"RID",n),hm(r,"AID",e.V),mg(e,r),e.o&&e.s&&ug(r,e.o,e.s),n=new Gv(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=gg(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Lm(e.i,n),Qv(n,r,t)}function mg(e,t){e.na&&Rp(e.na,(function(e,n){hm(t,n,e)})),e.h&&om({},(function(e,n){hm(t,n,e)}))}function gg(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ep(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Um(l,o,"req"+c+"_")}catch(De){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function yg(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;cv||dv(),lv||(cv(),lv=!0),fv.add(t,e),e.A=0}}function kg(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Rv(ep(e.Ma,e),Sg(e,e.A)),e.A++,!0)}function bg(e){null!=e.B&&(Kh.clearTimeout(e.B),e.B=null)}function wg(e){e.g=new Gv(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=cm(e.wa);hm(t,"RID","rpc"),hm(t,"SID",e.K),hm(t,"AID",e.V),hm(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&hm(t,"TO",e.qa),hm(t,"TYPE","xmlhttp"),mg(e,t),e.o&&e.s&&ug(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=pm(cm(t)),n.s=null,n.S=!0,$v(n,e)}function xg(e){null!=e.v&&(Kh.clearTimeout(e.v),e.v=null)}function _g(e,t){var n=null;if(e.g==t){xg(e),bg(e),e.g=null;var r=2}else{if(!Dm(e.i,t))return;n=t.F,Mm(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Jp(r=Iv(),new Ov(r,n)),pg(e)}else yg(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Rm(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Rv(ep(e.Na,e,t),Sg(e,e.C)),e.C++,!0))}(e,t)||2==r&&kg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Eg(e,5);break;case 4:Eg(e,10);break;case 3:Eg(e,6);break;default:Eg(e,2)}}function Sg(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Eg(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ep(e.pb,e);n||(n=new um("//www.google.com/images/cleardot.gif"),Kh.location&&"http"==Kh.location.protocol||lm(n,"https"),pm(n)),function(e,t){var n=new _v;if(Kh.Image){var r=new Image;r.onload=tp(Bm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=tp(Bm,n,r,"TestLoadImage: error",!1,t),r.onabort=tp(Bm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=tp(Bm,n,r,"TestLoadImage: timeout",!1,t),Kh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Nv(2);e.H=0,e.h&&e.h.za(t),Tg(e),hg(e)}function Tg(e){if(e.H=0,e.ma=[],e.h){var t=jm(e.i);0==t.length&&0==e.j.length||(op(e.ma,t),op(e.ma,e.j),e.i.i.length=0,ap(e.j),e.j.length=0),e.h.ya()}}function Ig(e,t,n){var r=n instanceof um?cm(n):new um(n);if(""!=r.g)t&&(r.g=t+"."+r.g),fm(r,r.m);else{var i=Kh.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new um(null);r&&lm(a,r),t&&(a.g=t),i&&fm(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&hm(r,n,t),hm(r,"VER",e.ra),mg(e,r),r}function Cg(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new $m(new qm({ob:!0})):new $m(e.va)).Oa(e.J),t}function Ag(){}function Pg(){if(mp&&!(10<=Number(Tp)))throw Error("Environmental error: no available transport.")}function Ng(e,t){Xp.call(this),this.g=new lg(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!cp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!cp(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Dg(this)}function Og(e){Uv.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Rg(){Bv.call(this),this.status=1}function Dg(e){this.g=e}function Lg(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Mg(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function jg(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(qh=$m.prototype).Oa=function(e){this.M=e},qh.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zv.g(),this.C=this.u?jv(this.u):jv(zv),this.g.onreadystatechange=ep(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void eg(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,s=Gr(r.keys());try{for(s.s();!(o=s.n()).done;){var u=o.value;n.set(u,r.get(u))}}catch(p){s.e(p)}finally{s.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),a=Kh.FormData&&e instanceof Kh.FormData,!(0<=ip(Jm,t))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=Gr(n);try{for(l.s();!(c=l.n()).done;){var f=(0,i.Z)(c.value,2),d=f[0],h=f[1];this.g.setRequestHeader(d,h)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ig(this),0<this.B&&((this.L=function(e){return mp&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ep(this.ua,this)):this.A=mv(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){eg(this,u)}},qh.ua=function(){"undefined"!=typeof Hh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jp(this,"timeout"),this.abort(8))},qh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Jp(this,"complete"),Jp(this,"abort"),rg(this))},qh.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rg(this,!0)),$m.$.N.call(this)},qh.La=function(){this.s||(this.G||this.v||this.l?ng(this):this.kb())},qh.kb=function(){ng(this)},qh.isActive=function(){return!!this.g},qh.da=function(){try{return 2<ag(this)?this.g.status:-1}catch(Fm){return-1}},qh.ja=function(){try{return this.g?this.g.responseText:""}catch(Fm){return""}},qh.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Qm(t)}},qh.Ia=function(){return this.m},qh.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(qh=lg.prototype).ra=8,qh.H=1,qh.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Gv(this,this.l,e),n=this.s;if(this.U&&(n?Mp(n=Dp(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=gg(this,t,r),hm(i=cm(this.I),"RID",e),hm(i,"CVER",22),this.F&&hm(i,"X-HTTP-Session-Id",this.F),mg(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(sg(n)))+"&"+r:this.o&&ug(i,this.o,n)),Lm(this.i,t),this.bb&&hm(i,"TYPE","init"),this.P?(hm(i,"$req",r),hm(i,"SID","null"),t.aa=!0,Qv(t,i,null)):Qv(t,i,r),this.H=2}}else 3==this.H&&(e?vg(this,e):0==this.j.length||Om(this.i)||vg(this))},qh.Ma=function(){if(this.u=null,wg(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Rv(ep(this.jb,this),e)}},qh.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nv(10),dg(this),wg(this))},qh.ib=function(){null!=this.v&&(this.v=null,dg(this),kg(this),Nv(19))},qh.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Nv(2)):(this.l.info("Failed to ping google.com"),Nv(1))},qh.isActive=function(){return!!this.h&&this.h.isActive(this)},(qh=Ag.prototype).Ba=function(){},qh.Aa=function(){},qh.za=function(){},qh.ya=function(){},qh.isActive=function(){return!0},qh.Va=function(){},Pg.prototype.g=function(e,t){return new Ng(e,t)},np(Ng,Xp),Ng.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Nv(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ig(e,null,e.Y),pg(e)},Ng.prototype.close=function(){fg(this.g)},Ng.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=tv(e),e=n);t.j.push(new Am(t.fb++,e)),3==t.H&&pg(t)},Ng.prototype.N=function(){this.g.h=null,delete this.j,fg(this.g),delete this.g,Ng.$.N.call(this)},np(Og,Uv),np(Rg,Bv),np(Dg,Ag),Dg.prototype.Ba=function(){Jp(this.g,"a")},Dg.prototype.Aa=function(e){Jp(this.g,new Og(e))},Dg.prototype.za=function(e){Jp(this.g,new Rg)},Dg.prototype.ya=function(){Jp(this.g,"b")},np(Lg,(function(){this.blockSize=-1})),Lg.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Lg.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Mg(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Mg(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Mg(this,r),i=0;break}}this.h=i,this.i+=t},Lg.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Fg={};function zg(e){return-128<=e&&128>e?function(e,t){var n=Fg;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new jg([0|e],0>e?-1:0)})):new jg([0|e],0>e?-1:0)}function Vg(e){if(isNaN(e)||!isFinite(e))return Bg;if(0>e)return Kg(Vg(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ug;return new jg(t,0)}var Ug=4294967296,Bg=zg(0),qg=zg(1),Gg=zg(16777216);function Wg(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Hg(e){return-1==e.h}function Kg(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new jg(n,~e.h).add(qg)}function Zg(e,t){return e.add(Kg(t))}function Qg(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function $g(e,t){this.g=e,this.h=t}function Yg(e,t){if(Wg(t))throw Error("division by zero");if(Wg(e))return new $g(Bg,Bg);if(Hg(e))return t=Yg(Kg(e),t),new $g(Kg(t.g),Kg(t.h));if(Hg(t))return t=Yg(e,Kg(t)),new $g(Kg(t.g),t.h);if(30<e.g.length){if(Hg(e)||Hg(t))throw Error("slowDivide_ only works with positive integers.");for(var n=qg,r=t;0>=r.X(e);)n=Xg(n),r=Xg(r);var i=Jg(n,1),a=Jg(r,1);for(r=Jg(r,2),n=Jg(n,2);!Wg(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Jg(r,1),n=Jg(n,1)}return t=Zg(e,i.R(t)),new $g(i,t)}for(i=Bg;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Vg(n)).R(t);Hg(o)||0<o.X(e);)o=(a=Vg(n-=r)).R(t);Wg(a)&&(a=qg),i=i.add(a),e=Zg(e,o)}return new $g(i,e)}function Xg(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new jg(n,e.h)}function Jg(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new jg(i,e.h)}(qh=jg.prototype).ea=function(){if(Hg(this))return-Kg(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ug+r)*t,t*=Ug}return e},qh.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Wg(this))return"0";if(Hg(this))return"-"+Kg(this).toString(e);for(var t=Vg(Math.pow(e,6)),n=this,r="";;){var i=Yg(n,t).g,a=((0<(n=Zg(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Wg(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},qh.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},qh.X=function(e){return Hg(e=Zg(this,e))?-1:Wg(e)?0:1},qh.abs=function(){return Hg(this)?Kg(this):this},qh.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new jg(n,-2147483648&n[n.length-1]?-1:0)},qh.R=function(e){if(Wg(this)||Wg(e))return Bg;if(Hg(this))return Hg(e)?Kg(this).R(Kg(e)):Kg(Kg(this).R(e));if(Hg(e))return Kg(this.R(Kg(e)));if(0>this.X(Gg)&&0>e.X(Gg))return Vg(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Qg(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Qg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Qg(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Qg(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new jg(n,0)},qh.gb=function(e){return Yg(this,e).h},qh.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new jg(n,this.h&e.h)},qh.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new jg(n,this.h|e.h)},qh.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new jg(n,this.h^e.h)},Pg.prototype.createWebChannel=Pg.prototype.g,Ng.prototype.send=Ng.prototype.u,Ng.prototype.open=Ng.prototype.m,Ng.prototype.close=Ng.prototype.close,Dv.NO_ERROR=0,Dv.TIMEOUT=8,Dv.HTTP_ERROR=6,Lv.COMPLETE="complete",Fv.EventType=Vv,Vv.OPEN="a",Vv.CLOSE="b",Vv.ERROR="c",Vv.MESSAGE="d",Xp.prototype.listen=Xp.prototype.O,$m.prototype.listenOnce=$m.prototype.P,$m.prototype.getLastError=$m.prototype.Sa,$m.prototype.getLastErrorCode=$m.prototype.Ia,$m.prototype.getStatus=$m.prototype.da,$m.prototype.getResponseJson=$m.prototype.Wa,$m.prototype.getResponseText=$m.prototype.ja,$m.prototype.send=$m.prototype.ha,$m.prototype.setWithCredentials=$m.prototype.Oa,Lg.prototype.digest=Lg.prototype.l,Lg.prototype.reset=Lg.prototype.reset,Lg.prototype.update=Lg.prototype.j,jg.prototype.add=jg.prototype.add,jg.prototype.multiply=jg.prototype.R,jg.prototype.modulo=jg.prototype.gb,jg.prototype.compare=jg.prototype.X,jg.prototype.toNumber=jg.prototype.ea,jg.prototype.toString=jg.prototype.toString,jg.prototype.getBits=jg.prototype.D,jg.fromNumber=Vg,jg.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Kg(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Vg(Math.pow(n,8)),i=Bg,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Vg(Math.pow(n,o)),i=i.R(o).add(Vg(s))):i=(i=i.R(r)).add(Vg(s))}return i};var ey=Wh.createWebChannelTransport=function(){return new Pg},ty=Wh.getStatEventTarget=function(){return Iv()},ny=Wh.ErrorCode=Dv,ry=Wh.EventType=Lv,iy=Wh.Event=Ev,ay=Wh.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},oy=Wh.FetchXmlHttpFactory=qm,sy=Wh.WebChannel=Fv,uy=Wh.XhrIo=$m,cy=Wh.Md5=Lg,ly=Wh.Integer=jg,fy="@firebase/firestore",dy=function(){function e(t){zr(this,e),this.uid=t}return Br(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();dy.UNAUTHENTICATED=new dy(null),dy.GOOGLE_CREDENTIALS=new dy("google-credentials-uid"),dy.FIRST_PARTY=new dy("first-party-uid"),dy.MOCK_USER=new dy("mock-user");var hy="10.0.0",py=new Hi("@firebase/firestore");function vy(){return py.logLevel}function my(e){if(py.logLevel<=zi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ky);py.debug.apply(py,["Firestore (".concat(hy,"): ").concat(e)].concat((0,Ni.Z)(i)))}}function gy(e){if(py.logLevel<=zi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ky);py.error.apply(py,["Firestore (".concat(hy,"): ").concat(e)].concat((0,Ni.Z)(i)))}}function yy(e){if(py.logLevel<=zi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ky);py.warn.apply(py,["Firestore (".concat(hy,"): ").concat(e)].concat((0,Ni.Z)(i)))}}function ky(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function by(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(hy,") INTERNAL ASSERTION FAILED: ")+e;throw gy(t),new Error(t)}function wy(e,t){e||by()}function xy(e,t){return e}var _y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Sy=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Br(n)}(mi),Ey=Br((function e(){var t=this;zr(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ty=Br((function e(t,n){zr(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Iy=function(){function e(){zr(this,e)}return Br(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(dy.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Cy=function(){function e(t){zr(this,e),this.token=t,this.changeListener=null}return Br(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ay=function(){function e(t){zr(this,e),this.t=t,this.currentUser=dy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Br(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ey;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ey,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){my("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(my("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ey)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(my("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(wy("string"==typeof n.accessToken),new Ty(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return wy(null===e||"string"==typeof e),new dy(e)}}]),e}(),Py=function(){function e(t,n,r){zr(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=dy.FIRST_PARTY,this.I=new Map}return Br(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Ny=function(){function e(t,n,r){zr(this,e),this.l=t,this.h=n,this.P=r}return Br(e,[{key:"getToken",value:function(){return Promise.resolve(new Py(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(dy.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Oy=Br((function e(t){zr(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ry=function(){function e(t){zr(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return Br(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&my("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,my("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){my("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):my("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(wy("string"==typeof t.token),e.R=t.token,new Oy(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Dy(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ly=function(){function e(){zr(this,e)}return Br(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Dy(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function My(e,t){return e<t?-1:e>t?1:0}function jy(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Fy(e){return e+"\0"}var zy=function(){function e(t,n){if(zr(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Sy(_y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Sy(_y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Sy(_y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Sy(_y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Br(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?My(this.nanoseconds,e.nanoseconds):My(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Vy=function(){function e(t){zr(this,e),this.timestamp=t}return Br(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new zy(0,0))}},{key:"max",value:function(){return new e(new zy(253402300799,999999999))}}]),e}(),Uy=function(){function e(t,n,r){zr(this,e),void 0===n?n=0:n>t.length&&by(),void 0===r?r=t.length-n:r>t.length-n&&by(),this.segments=t,this.offset=n,this.len=r}return Br(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),By=function(e){Hr(n,e);var t=$r(n);function n(){return zr(this,n),t.apply(this,arguments)}return Br(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Sy(_y.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,(0,Ni.Z)(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Uy),qy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gy=function(e){Hr(n,e);var t=$r(n);function n(){return zr(this,n),t.apply(this,arguments)}return Br(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return qy.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Sy(_y.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Sy(_y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Sy(_y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Sy(_y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Uy),Wy=function(){function e(t){zr(this,e),this.path=t}return Br(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===By.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(By.fromString(t))}},{key:"fromName",value:function(t){return new e(By.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(By.emptyPath())}},{key:"comparator",value:function(e,t){return By.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new By(t.slice()))}}]),e}(),Hy=Br((function e(t,n,r,i){zr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Ky(e){return e.fields.find((function(e){return 2===e.kind}))}function Zy(e){return e.fields.filter((function(e){return 2!==e.kind}))}Hy.UNKNOWN_ID=-1;var Qy=Br((function e(t,n){zr(this,e),this.fieldPath=t,this.kind=n}));var $y=function(){function e(t,n){zr(this,e),this.sequenceNumber=t,this.offset=n}return Br(e,null,[{key:"empty",value:function(){return new e(0,Jy.min())}}]),e}();function Yy(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Vy.fromTimestamp(1e9===r?new zy(n+1,0):new zy(n,r));return new Jy(i,Wy.empty(),t)}function Xy(e){return new Jy(e.readTime,e.key,-1)}var Jy=function(){function e(t,n,r){zr(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Br(e,null,[{key:"min",value:function(){return new e(Vy.min(),Wy.empty(),-1)}},{key:"max",value:function(){return new e(Vy.max(),Wy.empty(),-1)}}]),e}();function ek(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Wy.comparator(e.documentKey,t.documentKey))?n:My(e.largestBatchId,t.largestBatchId)}var tk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",nk=function(){function e(){zr(this,e),this.onCommittedListeners=[]}return Br(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function rk(e){return ik.apply(this,arguments)}function ik(){return(ik=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===_y.FAILED_PRECONDITION&&t.message===tk){e.next=2;break}throw t;case 2:my("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ak=function(){function e(t){var n=this;zr(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Br(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&by(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Gr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),ok=function(){function e(t,n){var r=this;zr(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new Ey,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new ck(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=pk(e.target.error);r.m.reject(new ck(t,n))}}return Br(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(my("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new fk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ck(n,t)}}}]),e}(),sk=function(){function e(t,n,r){zr(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(li())&&gy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Br(e,[{key:"N",value:function(){var e=Ri(Pi().mark((function e(t){var n=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return my("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ck(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Sy(_y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Sy(_y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ck(t,n))},i.onupgradeneeded=function(e){my("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){my("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ri(Pi().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=Pi().mark((function e(){var n,s,u,l;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=ok.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),ak.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.g;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,my("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return my("SimpleDb","Removing database:",e),dk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"v",value:function(){if(!vi())return!1;if(e.C())return!0;var t=li(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Dippu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),uk=function(){function e(t){zr(this,e),this.q=t,this.K=!1,this.$=null}return Br(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return dk(this.q.delete())}}]),e}(),ck=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,_y.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Br(n)}(Sy);function lk(e){return"IndexedDbTransactionError"===e.name}var fk=function(){function e(t){zr(this,e),this.store=t}return Br(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(my("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(my("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),dk(n)}},{key:"add",value:function(e){return my("SimpleDb","ADD",this.store.name,e,e),dk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return dk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),my("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return my("SimpleDb","DELETE",this.store.name,e),dk(this.store.delete(e))}},{key:"count",value:function(){return my("SimpleDb","COUNT",this.store.name),dk(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ak((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ak((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){my("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new ak((function(n,r){t.onerror=function(e){var t=pk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new ak((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new uk(i),o=t(i.primaryKey,i.value,a);if(o instanceof ak){var s=o.catch((function(e){return a.done(),ak.reject(e)}));n.push(s)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return ak.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function dk(e){return new ak((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=pk(e.target.error);n(t)}}))}var hk=!1;function pk(e){var t=sk.D(li());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Sy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return hk||(hk=!0,setTimeout((function(){throw r}),0)),r}}return e}var vk=function(){function e(t,n){zr(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return Br(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;my("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=my,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!lk(e.t4)){e.next=17;break}my("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,rk(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),mk=function(){function e(t,n){zr(this,e),this.localStore=t,this.persistence=n}return Br(e,[{key:"ne",value:function(){var e=Ri(Pi().mark((function e(){var t,n=this,r=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ak.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return my("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return my("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Xy(t);ek(r,n)>0&&(n=r)})),new Jy(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),gk=function(){function e(t,n){var r=this;zr(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return Br(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function yk(e){return null==e}function kk(e){return 0===e&&1/e==-1/0}function bk(e){return"number"==typeof e&&Number.isInteger(e)&&!kk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function wk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=_k(t)),t=xk(e.get(n),t);return _k(t)}function xk(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function _k(e){return e+"\x01\x01"}function Sk(e){var t=e.length;if(wy(t>=2),2===t)return wy("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),By.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&by(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:by()}a=o+2}return new By(r)}gk.ae=-1;var Ek=["userId","batchId"];function Tk(e,t){return[e,wk(t)]}function Ik(e,t,n){return[e,wk(t),n]}var Ck={},Ak=["prefixPath","collectionGroup","readTime","documentId"],Pk=["prefixPath","collectionGroup","documentId"],Nk=["collectionGroup","readTime","prefixPath","documentId"],Ok=["canonicalId","targetId"],Rk=["targetId","path"],Dk=["path","targetId"],Lk=["collectionId","parent"],Mk=["indexId","uid"],jk=["uid","sequenceNumber"],Fk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zk=["indexId","uid","orderedDocumentKey"],Vk=["userId","collectionPath","documentId"],Uk=["userId","collectionPath","largestBatchId"],Bk=["userId","collectionGroup","largestBatchId"],qk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Gk=[].concat((0,Ni.Z)(qk),["documentOverlays"]),Wk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Hk=Wk,Kk=[].concat(Hk,["indexConfiguration","indexState","indexEntries"]),Zk=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return Br(n)}(nk);function Qk(e,t){var n=xy(e);return sk.O(n.ue,t)}function $k(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yk(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Jk=function(){function e(t,n){zr(this,e),this.comparator=t,this.root=n||tb.EMPTY}return Br(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,tb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new eb(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new eb(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new eb(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new eb(this.root,e,this.comparator,!0)}}]),e}(),eb=function(){function e(t,n,r,i){zr(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Br(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),tb=function(){function e(t,n,r,i,a){zr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Br(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw by();if(this.right.isRed())throw by();var e=this.left.check();if(e!==this.right.check())throw by();return e+(this.isRed()?0:1)}}]),e}();tb.EMPTY=null,tb.RED=!0,tb.BLACK=!1,tb.EMPTY=new(function(){function e(){zr(this,e),this.size=0}return Br(e,[{key:"key",get:function(){throw by()}},{key:"value",get:function(){throw by()}},{key:"color",get:function(){throw by()}},{key:"left",get:function(){throw by()}},{key:"right",get:function(){throw by()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new tb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var nb=function(){function e(t){zr(this,e),this.comparator=t,this.data=new Jk(this.comparator)}return Br(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new rb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new rb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),rb=function(){function e(t){zr(this,e),this.iter=t}return Br(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function ib(e){return e.hasNext()?e.getNext():void 0}var ab=function(){function e(t){zr(this,e),this.fields=t,t.sort(Gy.comparator)}return Br(e,[{key:"unionWith",value:function(t){var n,r=new nb(Gy.comparator),i=Gr(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=Gr(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Gr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return jy(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),ob=function(e){Hr(n,e);var t=$r(n);function n(){var e;return zr(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Br(n)}(Xr(Error));var sb=function(e){function t(e){zr(this,t),this.binaryString=e}return Br(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return function(e){return btoa(e)}(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return My(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ob("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();sb.EMPTY_BYTE_STRING=new sb("");var ub=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cb(e){if(wy(!!e),"string"==typeof e){var t=0,n=ub.exec(e);if(wy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:lb(e.seconds),nanos:lb(e.nanos)}}function lb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function fb(e){return"string"==typeof e?sb.fromBase64String(e):sb.fromUint8Array(e)}function db(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hb(e){var t=e.mapValue.fields.__previous_value__;return db(t)?hb(t):t}function pb(e){var t=cb(e.mapValue.fields.__local_write_time__.timestampValue);return new zy(t.seconds,t.nanos)}var vb=Br((function e(t,n,r,i,a,o,s,u,c){zr(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),mb=function(){function e(t,n){zr(this,e),this.projectId=t,this.database=n||"(default)"}return Br(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),gb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yb={nullValue:"NULL_VALUE"};function kb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?db(e)?4:Rb(e)?9007199254740991:10:by()}function bb(e,t){if(e===t)return!0;var n=kb(e);if(n!==kb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pb(e).isEqual(pb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=cb(e.timestampValue),r=cb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return fb(e.bytesValue).isEqual(fb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return lb(e.geoPointValue.latitude)===lb(t.geoPointValue.latitude)&&lb(e.geoPointValue.longitude)===lb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return lb(e.integerValue)===lb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=lb(e.doubleValue),r=lb(t.doubleValue);return n===r?kk(n)===kk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return jy(e.arrayValue.values||[],t.arrayValue.values||[],bb);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($k(n)!==$k(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bb(n[i],r[i])))return!1;return!0}(e,t);default:return by()}}function wb(e,t){return void 0!==(e.values||[]).find((function(e){return bb(e,t)}))}function xb(e,t){if(e===t)return 0;var n=kb(e),r=kb(t);if(n!==r)return My(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return My(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=lb(e.integerValue||e.doubleValue),r=lb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _b(e.timestampValue,t.timestampValue);case 4:return _b(pb(e),pb(t));case 5:return My(e.stringValue,t.stringValue);case 6:return function(e,t){var n=fb(e),r=fb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=My(n[i],r[i]);if(0!==a)return a}return My(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=My(lb(e.latitude),lb(t.latitude));return 0!==n?n:My(lb(e.longitude),lb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=xb(n[i],r[i]);if(a)return a}return My(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===gb.mapValue&&t===gb.mapValue)return 0;if(e===gb.mapValue)return 1;if(t===gb.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=My(r[o],a[o]);if(0!==s)return s;var u=xb(n[r[o]],i[a[o]]);if(0!==u)return u}return My(r.length,a.length)}(e.mapValue,t.mapValue);default:throw by()}}function _b(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return My(e,t);var n=cb(e),r=cb(t),i=My(n.seconds,r.seconds);return 0!==i?i:My(n.nanos,r.nanos)}function Sb(e){return Eb(e)}function Eb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=cb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return fb(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Wy.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Gr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Eb(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Gr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Eb(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):by()}function Tb(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ib(e){return!!e&&"integerValue"in e}function Cb(e){return!!e&&"arrayValue"in e}function Ab(e){return!!e&&"nullValue"in e}function Pb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Nb(e){return!!e&&"mapValue"in e}function Ob(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Yk(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ob(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ob(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Rb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Db(e){return"nullValue"in e?yb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Tb(mb.empty(),Wy.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:by()}function Lb(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Tb(mb.empty(),Wy.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?gb:by()}function Mb(e,t){var n=xb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function jb(e,t){var n=xb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Fb=function(){function e(t){zr(this,e),this.value=t}return Br(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Nb(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ob(t)}},{key:"setAll",value:function(e){var t=this,n=Gy.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ob(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Nb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return bb(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Nb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Yk(t,(function(t,n){return e[t]=n}));var r,i=Gr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ob(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function zb(e){var t=[];return Yk(e.fields,(function(e,n){var r=new Gy([e]);if(Nb(n)){var i=zb(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Gr(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new ab(t)}var Vb=function(){function e(t,n,r,i,a,o,s){zr(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return Br(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Vy.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Fb.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Fb.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Vy.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Vy.min(),Vy.min(),Vy.min(),Fb.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Vy.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Vy.min(),Vy.min(),Fb.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Vy.min(),Vy.min(),Fb.empty(),2)}}]),e}(),Ub=Br((function e(t,n){zr(this,e),this.position=t,this.inclusive=n}));function Bb(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Wy.comparator(Wy.fromName(o.referenceValue),n.key):xb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function qb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!bb(e.position[n],t.position[n]))return!1;return!0}var Gb=Br((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";zr(this,e),this.field=t,this.dir=n}));function Wb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Hb=Br((function e(){zr(this,e)})),Kb=function(e){Hr(n,e);var t=$r(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Br(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xb(t,this.value)):null!==t&&kb(this.value)===kb(t)&&this.matchesComparison(xb(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return by()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new rw(e,t,r):"array-contains"===t?new sw(e,r):"in"===t?new uw(e,r):"not-in"===t?new cw(e,r):"array-contains-any"===t?new lw(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new iw(e,n):new aw(e,n)}}]),n}(Hb),Zb=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return Br(n,[{key:"matches",value:function(e){return Qb(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=Gr(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Hb);function Qb(e){return"and"===e.op}function $b(e){return"or"===e.op}function Yb(e){return Xb(e)&&Qb(e)}function Xb(e){var t,n=Gr(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Zb)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Jb(e){if(e instanceof Kb)return e.field.canonicalString()+e.op.toString()+Sb(e.value);if(Yb(e))return e.filters.map((function(e){return Jb(e)})).join(",");var t=e.filters.map((function(e){return Jb(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function ew(e,t){return e instanceof Kb?function(e,t){return t instanceof Kb&&e.op===t.op&&e.field.isEqual(t.field)&&bb(e.value,t.value)}(e,t):e instanceof Zb?function(e,t){return t instanceof Zb&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&ew(n,t.filters[r])}),!0)}(e,t):void by()}function tw(e,t){var n=e.filters.concat(t);return Zb.create(n,e.op)}function nw(e){return e instanceof Kb?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Sb(e.value))}(e):e instanceof Zb?function(e){return e.op.toString()+" {"+e.getFilters().map(nw).join(" ,")+"}"}(e):"Filter"}var rw=function(e){Hr(n,e);var t=$r(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this,e,r,i)).key=Wy.fromName(i.referenceValue),a}return Br(n,[{key:"matches",value:function(e){var t=Wy.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Kb),iw=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e,"in",r)).keys=ow("in",r),i}return Br(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Kb),aw=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e,"not-in",r)).keys=ow("not-in",r),i}return Br(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Kb);function ow(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Wy.fromName(e.referenceValue)}))}var sw=function(e){Hr(n,e);var t=$r(n);function n(e,r){return zr(this,n),t.call(this,e,"array-contains",r)}return Br(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Cb(t)&&wb(t.arrayValue,this.value)}}]),n}(Kb),uw=function(e){Hr(n,e);var t=$r(n);function n(e,r){return zr(this,n),t.call(this,e,"in",r)}return Br(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&wb(this.value.arrayValue,t)}}]),n}(Kb),cw=function(e){Hr(n,e);var t=$r(n);function n(e,r){return zr(this,n),t.call(this,e,"not-in",r)}return Br(n,[{key:"matches",value:function(e){if(wb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!wb(this.value.arrayValue,t)}}]),n}(Kb),lw=function(e){Hr(n,e);var t=$r(n);function n(e,r){return zr(this,n),t.call(this,e,"array-contains-any",r)}return Br(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Cb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return wb(t.value.arrayValue,e)}))}}]),n}(Kb),fw=Br((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;zr(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.he=null}));function dw(e){return new fw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function hw(e){var t=xy(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Jb(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),yk(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Sb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Sb(e)})).join(",")),t.he=n}return t.he}function pw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Wb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!ew(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qb(e.startAt,t.startAt)&&qb(e.endAt,t.endAt)}function vw(e){return Wy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function mw(e,t){return e.filters.filter((function(e){return e instanceof Kb&&e.field.isEqual(t)}))}function gw(e,t,n){var r,i=yb,a=!0,o=Gr(mw(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=yb,c=!0;switch(s.op){case"<":case"<=":u=Db(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=yb}Mb({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Mb({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function yw(e,t,n){var r,i=gb,a=!0,o=Gr(mw(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=gb,c=!0;switch(s.op){case">=":case">":u=Lb(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=gb}jb({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];jb({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var kw=Br((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;zr(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.Pe=null,this.Ie=null,this.startAt,this.endAt}));function bw(e,t,n,r,i,a,o,s){return new kw(e,t,n,r,i,a,o,s)}function ww(e){return new kw(e)}function xw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function _w(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Sw(e){var t,n=Gr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Ew(e){return null!==e.collectionGroup}function Tw(e){var t=xy(e);if(null===t.Pe){t.Pe=[];var n=Sw(t),r=_w(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new Gb(n)),t.Pe.push(new Gb(Gy.keyField(),"asc"));else{var i,a=!1,o=Gr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.Pe.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Gb(Gy.keyField(),u))}}}return t.Pe}function Iw(e){var t=xy(e);if(!t.Ie)if("F"===t.limitType)t.Ie=dw(t.path,t.collectionGroup,Tw(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Gr(Tw(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Gb(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Ub(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Ub(t.startAt.position,t.startAt.inclusive):null;t.Ie=dw(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.Ie}function Cw(e,t){t.getFirstInequalityField(),Sw(e);var n=e.filters.concat([t]);return new kw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Aw(e,t,n){return new kw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pw(e,t){return pw(Iw(e),Iw(t))&&e.limitType===t.limitType}function Nw(e){return"".concat(hw(Iw(e)),"|lt:").concat(e.limitType)}function Ow(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return nw(e)})).join(", "),"]")),yk(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Sb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Sb(e)})).join(",")),"Target(".concat(t,")")}(Iw(e)),"; limitType=").concat(e.limitType,")")}function Rw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Gr(Tw(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Gr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Bb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Tw(e),t))&&!(e.endAt&&!function(e,t,n){var r=Bb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Tw(e),t))}(e,t)}function Dw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Lw(e){return function(t,n){var r,i=!1,a=Gr(Tw(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Mw(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Mw(e,t,n){var r=e.field.isKeyField()?Wy.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xb(r,i):by()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return by()}}var jw=function(){function e(t,n){zr(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Br(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=Gr(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),s=o[0],u=o[1];if(this.equalsFn(s,e))return u}}catch(c){a.e(c)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Yk(this.inner,(function(t,n){var r,a=Gr(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),s=o[0],u=o[1];e(s,u)}}catch(c){a.e(c)}finally{a.f()}}))}},{key:"isEmpty",value:function(){return Xk(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Fw=new Jk(Wy.comparator);function zw(){return Fw}var Vw=new Jk(Wy.comparator);function Uw(){for(var e=Vw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Bw(e){var t=Vw;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function qw(){return Ww()}function Gw(){return Ww()}function Ww(){return new jw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Hw=new Jk(Wy.comparator),Kw=new nb(Wy.comparator);function Zw(){for(var e=Kw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Qw=new nb(My);function $w(){return Qw}function Yw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kk(t)?"-0":t}}function Xw(e){return{integerValue:""+e}}function Jw(e,t){return bk(t)?Xw(t):Yw(e,t)}var ex=Br((function e(){zr(this,e),this._=void 0}));function tx(e,t,n){return e instanceof ix?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&db(t)&&(t=hb(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ax?ox(e,t):e instanceof sx?ux(e,t):function(e,t){var n=rx(e,t),r=lx(n)+lx(e.Te);return Ib(n)&&Ib(e.Te)?Xw(r):Yw(e.serializer,r)}(e,t)}function nx(e,t,n){return e instanceof ax?ox(e,t):e instanceof sx?ux(e,t):n}function rx(e,t){return e instanceof cx?function(e){return Ib(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var ix=function(e){Hr(n,e);var t=$r(n);function n(){return zr(this,n),t.apply(this,arguments)}return Br(n)}(ex),ax=function(e){Hr(n,e);var t=$r(n);function n(e){var r;return zr(this,n),(r=t.call(this)).elements=e,r}return Br(n)}(ex);function ox(e,t){var n,r=fx(t),i=Gr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return bb(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var sx=function(e){Hr(n,e);var t=$r(n);function n(e){var r;return zr(this,n),(r=t.call(this)).elements=e,r}return Br(n)}(ex);function ux(e,t){var n,r=fx(t),i=Gr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!bb(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var cx=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return Br(n)}(ex);function lx(e){return lb(e.integerValue||e.doubleValue)}function fx(e){return Cb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var dx=Br((function e(t,n){zr(this,e),this.field=t,this.transform=n}));var hx=Br((function e(t,n){zr(this,e),this.version=t,this.transformResults=n})),px=function(){function e(t,n){zr(this,e),this.updateTime=t,this.exists=n}return Br(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function vx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var mx=Br((function e(){zr(this,e)}));function gx(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ax(e.key,px.none()):new xx(e.key,e.data,px.none());var n,r=e.data,i=Fb.empty(),a=new nb(Gy.comparator),o=Gr(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new _x(e.key,i,new ab(a.toArray()),px.none())}function yx(e,t,n){e instanceof xx?function(e,t,n){var r=e.value.clone(),i=Ex(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _x?function(e,t,n){if(vx(e.precondition,t)){var r=Ex(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Sx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function kx(e,t,n,r){return e instanceof xx?function(e,t,n,r){if(!vx(e.precondition,t))return n;var i=e.value.clone(),a=Tx(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof _x?function(e,t,n,r){if(!vx(e.precondition,t))return n;var i=Tx(e.fieldTransforms,r,t),a=t.data;return a.setAll(Sx(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return vx(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function bx(e,t){var n,r=null,i=Gr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=rx(a.transform,o||null);null!=s&&(null===r&&(r=Fb.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function wx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&jy(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ax&&t instanceof ax||e instanceof sx&&t instanceof sx?jy(e.elements,t.elements,bb):e instanceof cx&&t instanceof cx?bb(e.Te,t.Te):e instanceof ix&&t instanceof ix}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var xx=function(e){Hr(n,e);var t=$r(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return zr(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Br(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mx),_x=function(e){Hr(n,e);var t=$r(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return zr(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Br(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(mx);function Sx(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ex(e,t,n){var r=new Map;wy(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,nx(o,s,n[i]))}return r}function Tx(e,t,n){var r,i=new Map,a=Gr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,tx(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ix,Cx,Ax=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Br(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mx),Px=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Br(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mx),Nx=function(){function e(t,n,r,i){zr(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Br(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&yx(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Gr(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=kx(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Gr(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=kx(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Gw();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=gx(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Vy.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Zw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&jy(this.mutations,e.mutations,(function(e,t){return wx(e,t)}))&&jy(this.baseMutations,e.baseMutations,(function(e,t){return wx(e,t)}))}}]),e}(),Ox=function(){function e(t,n,r,i){zr(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Br(e,null,[{key:"from",value:function(t,n,r){wy(t.mutations.length===r.length);for(var i=Hw,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Rx=function(){function e(t,n){zr(this,e),this.largestBatchId=t,this.mutation=n}return Br(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Dx=Br((function e(t,n){zr(this,e),this.count=t,this.unchangedNames=n}));function Lx(e){switch(e){default:return by();case _y.CANCELLED:case _y.UNKNOWN:case _y.DEADLINE_EXCEEDED:case _y.RESOURCE_EXHAUSTED:case _y.INTERNAL:case _y.UNAVAILABLE:case _y.UNAUTHENTICATED:return!1;case _y.INVALID_ARGUMENT:case _y.NOT_FOUND:case _y.ALREADY_EXISTS:case _y.PERMISSION_DENIED:case _y.FAILED_PRECONDITION:case _y.ABORTED:case _y.OUT_OF_RANGE:case _y.UNIMPLEMENTED:case _y.DATA_LOSS:return!0}}function Mx(e){if(void 0===e)return gy("GRPC error has no .code"),_y.UNKNOWN;switch(e){case Ix.OK:return _y.OK;case Ix.CANCELLED:return _y.CANCELLED;case Ix.UNKNOWN:return _y.UNKNOWN;case Ix.DEADLINE_EXCEEDED:return _y.DEADLINE_EXCEEDED;case Ix.RESOURCE_EXHAUSTED:return _y.RESOURCE_EXHAUSTED;case Ix.INTERNAL:return _y.INTERNAL;case Ix.UNAVAILABLE:return _y.UNAVAILABLE;case Ix.UNAUTHENTICATED:return _y.UNAUTHENTICATED;case Ix.INVALID_ARGUMENT:return _y.INVALID_ARGUMENT;case Ix.NOT_FOUND:return _y.NOT_FOUND;case Ix.ALREADY_EXISTS:return _y.ALREADY_EXISTS;case Ix.PERMISSION_DENIED:return _y.PERMISSION_DENIED;case Ix.FAILED_PRECONDITION:return _y.FAILED_PRECONDITION;case Ix.ABORTED:return _y.ABORTED;case Ix.OUT_OF_RANGE:return _y.OUT_OF_RANGE;case Ix.UNIMPLEMENTED:return _y.UNIMPLEMENTED;case Ix.DATA_LOSS:return _y.DATA_LOSS;default:return by()}}(Cx=Ix||(Ix={}))[Cx.OK=0]="OK",Cx[Cx.CANCELLED=1]="CANCELLED",Cx[Cx.UNKNOWN=2]="UNKNOWN",Cx[Cx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cx[Cx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cx[Cx.NOT_FOUND=5]="NOT_FOUND",Cx[Cx.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cx[Cx.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cx[Cx.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cx[Cx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cx[Cx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cx[Cx.ABORTED=10]="ABORTED",Cx[Cx.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cx[Cx.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cx[Cx.INTERNAL=13]="INTERNAL",Cx[Cx.UNAVAILABLE=14]="UNAVAILABLE",Cx[Cx.DATA_LOSS=15]="DATA_LOSS";var jx=function(){function e(){zr(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return Br(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Fx}},{key:"getOrCreateInstance",value:function(){return null===Fx&&(Fx=new e),Fx}}]),e}(),Fx=null;function zx(){return new TextEncoder}var Vx=new ly([4294967295,4294967295],0);function Ux(e){var t=zx().encode(e),n=new cy;return n.update(t),new Uint8Array(n.digest())}function Bx(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ly([n,r],0),new ly([i,a],0)]}var qx=function(){function e(t,n,r){if(zr(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gx("Invalid padding: ".concat(n));if(r<0)throw new Gx("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Gx("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Gx("Invalid padding when bitmap length is 0: ".concat(n));this.de=8*t.length-n,this.Ae=ly.fromNumber(this.de)}return Br(e,[{key:"Re",value:function(e,t,n){var r=e.add(t.multiply(ly.fromNumber(n)));return 1===r.compare(Vx)&&(r=new ly([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ae).toNumber()}},{key:"Ve",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.de)return!1;for(var t=Bx(Ux(e)),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=0;o<this.hashCount;o++){var s=this.Re(r,a,o);if(!this.Ve(s))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.de)for(var t=Bx(Ux(e)),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=0;o<this.hashCount;o++){var s=this.Re(r,a,o);this.me(s)}}},{key:"me",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Gx=function(e){Hr(n,e);var t=$r(n);function n(){var e;return zr(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return Br(n)}(Xr(Error)),Wx=function(){function e(t,n,r,i,a){zr(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Br(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Hx.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Vy.min(),i,new Jk(My),zw(),Zw())}}]),e}(),Hx=function(){function e(t,n,r,i,a){zr(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Br(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Zw(),Zw(),Zw())}}]),e}(),Kx=Br((function e(t,n,r,i){zr(this,e),this.fe=t,this.removedTargetIds=n,this.key=r,this.ge=i})),Zx=Br((function e(t,n){zr(this,e),this.targetId=t,this.pe=n})),Qx=Br((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sb.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;zr(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),$x=function(){function e(){zr(this,e),this.ye=0,this.we=Jx(),this.Se=sb.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}return Br(e,[{key:"current",get:function(){return this.be}},{key:"resumeToken",get:function(){return this.Se}},{key:"ve",get:function(){return 0!==this.ye}},{key:"Ce",get:function(){return this.De}},{key:"Fe",value:function(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}},{key:"Me",value:function(){var e=Zw(),t=Zw(),n=Zw();return this.we.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:by()}})),new Hx(this.Se,this.be,e,t,n)}},{key:"xe",value:function(){this.De=!1,this.we=Jx()}},{key:"Oe",value:function(e,t){this.De=!0,this.we=this.we.insert(e,t)}},{key:"Ne",value:function(e){this.De=!0,this.we=this.we.remove(e)}},{key:"Be",value:function(){this.ye+=1}},{key:"Le",value:function(){this.ye-=1}},{key:"ke",value:function(){this.De=!0,this.be=!0}}]),e}(),Yx=function(){function e(t){zr(this,e),this.qe=t,this.Qe=new Map,this.Ke=zw(),this.$e=Xx(),this.Ue=new Jk(My)}return Br(e,[{key:"We",value:function(e){var t,n=Gr(e.fe);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.ge&&e.ge.isFoundDocument()?this.Ge(r,e.ge):this.ze(r,e.key,e.ge)}}catch(s){n.e(s)}finally{n.f()}var i,a=Gr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ze(o,e.key,e.ge)}}catch(s){a.e(s)}finally{a.f()}}},{key:"je",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.He(n);switch(e.state){case 0:t.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||t.removeTarget(n);break;case 3:t.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:t.Je(n)&&(t.Ye(n),r.Fe(e.resumeToken));break;default:by()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qe.forEach((function(e,r){n.Je(r)&&t(r)}))}},{key:"Ze",value:function(e){var t,n,r=e.targetId,i=e.pe.count,a=this.Xe(r);if(a){var o=a.target;if(vw(o))if(0===i){var s=new Wy(o.path);this.ze(r,s,Vb.newNoDocument(s,Vy.min()))}else wy(1===i);else{var u=this.et(r);if(u!==i){var c=this.tt(e,u);if(0!==c.status){this.Ye(r);var l=2===c.status?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,l)}null===(t=jx.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n,r){var i,a,o,s,u,c,l={localCacheCount:n,existenceFilterCount:r.count},f=r.unchangedNames;return f&&(l.bloomFilter={applied:0===e,hashCount:null!==(i=null==f?void 0:f.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(s=null===(o=null===(a=null==f?void 0:f.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(c=null===(u=null==f?void 0:f.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0},t&&(l.bloomFilter.mightContain=t)),l}(c.status,null!==(n=c.nt)&&void 0!==n?n:null,u,e.pe))}}}}},{key:"tt",value:function(e,t){var n=this,r=e.pe,i=r.unchangedNames,a=r.count;if(!i||!i.bits)return{status:1};var o,s,u=i.bits,c=u.bitmap,l=void 0===c?"":c,f=u.padding,d=void 0===f?0:f,h=i.hashCount,p=void 0===h?0:h;try{o=fb(l).toUint8Array()}catch(e){if(e instanceof ob)return yy("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw e}try{s=new qx(o,d,p)}catch(e){return yy(e instanceof Gx?"BloomFilter error: ":"Applying bloom filter failed: ",e),{status:1}}var v=function(e){var t=n.qe.rt();return s.mightContain("projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e))};return 0===s.de?{status:1}:{status:a===t-this.it(e.targetId,v)?0:2,nt:v}}},{key:"it",value:function(e,t){var n=this,r=this.qe.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){t(r.path.canonicalString())||(n.ze(e,r,null),i++)})),i}},{key:"st",value:function(e){var t=this,n=new Map;this.Qe.forEach((function(r,i){var a=t.Xe(i);if(a){if(r.current&&vw(a.target)){var o=new Wy(a.target.path);null!==t.Ke.get(o)||t.ot(i,o)||t.ze(i,o,Vb.newNoDocument(o,e))}r.Ce&&(n.set(i,r.Me()),r.xe())}}));var r=Zw();this.$e.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xe(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ke.forEach((function(t,n){return n.setReadTime(e)}));var i=new Wx(e,n,this.Ue,this.Ke,r);return this.Ke=zw(),this.$e=Xx(),this.Ue=new Jk(My),i}},{key:"Ge",value:function(e,t){if(this.Je(e)){var n=this.ot(e,t.key)?2:0;this.He(e).Oe(t.key,n),this.Ke=this.Ke.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e))}}},{key:"ze",value:function(e,t,n){if(this.Je(e)){var r=this.He(e);this.ot(e,t)?r.Oe(t,1):r.Ne(t),this.$e=this.$e.insert(t,this._t(t).delete(e)),n&&(this.Ke=this.Ke.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qe.delete(e)}},{key:"et",value:function(e){var t=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Be",value:function(e){this.He(e).Be()}},{key:"He",value:function(e){var t=this.Qe.get(e);return t||(t=new $x,this.Qe.set(e,t)),t}},{key:"_t",value:function(e){var t=this.$e.get(e);return t||(t=new nb(My),this.$e=this.$e.insert(e,t)),t}},{key:"Je",value:function(e){var t=null!==this.Xe(e);return t||my("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xe",value:function(e){var t=this.Qe.get(e);return t&&t.ve?null:this.qe.ut(e)}},{key:"Ye",value:function(e){var t=this;this.Qe.set(e,new $x),this.qe.getRemoteKeysForTarget(e).forEach((function(n){t.ze(e,n,null)}))}},{key:"ot",value:function(e,t){return this.qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function Xx(){return new Jk(Wy.comparator)}function Jx(){return new Jk(Wy.comparator)}var e_={asc:"ASCENDING",desc:"DESCENDING"},t_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n_={and:"AND",or:"OR"},r_=Br((function e(t,n){zr(this,e),this.databaseId=t,this.useProto3Json=n}));function i_(e,t){return e.useProto3Json||yk(t)?t:{value:t}}function a_(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function o_(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function s_(e,t){return a_(e,t.toTimestamp())}function u_(e){return wy(!!e),Vy.fromTimestamp(function(e){var t=cb(e);return new zy(t.seconds,t.nanos)}(e))}function c_(e,t){return function(e){return new By(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function l_(e){var t=By.fromString(e);return wy(R_(t)),t}function f_(e,t){return c_(e.databaseId,t.path)}function d_(e,t){var n=l_(t);if(n.get(1)!==e.databaseId.projectId)throw new Sy(_y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Sy(_y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wy(m_(n))}function h_(e,t){return c_(e.databaseId,t)}function p_(e){var t=l_(e);return 4===t.length?By.emptyPath():m_(t)}function v_(e){return new By(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function m_(e){return wy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function g_(e,t,n){return{name:f_(e,t),fields:n.value.mapValue.fields}}function y_(e,t,n){var r=d_(e,t.name),i=u_(t.updateTime),a=t.createTime?u_(t.createTime):Vy.min(),o=new Fb({mapValue:{fields:t.fields}}),s=Vb.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function k_(e,t){return"found"in t?function(e,t){wy(!!t.found),t.found.name,t.found.updateTime;var n=d_(e,t.found.name),r=u_(t.found.updateTime),i=t.found.createTime?u_(t.found.createTime):Vy.min(),a=new Fb({mapValue:{fields:t.found.fields}});return Vb.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){wy(!!t.missing),wy(!!t.readTime);var n=d_(e,t.missing),r=u_(t.readTime);return Vb.newNoDocument(n,r)}(e,t):by()}function b_(e,t){var n;if(t instanceof xx)n={update:g_(e,t.key,t.value)};else if(t instanceof Ax)n={delete:f_(e,t.key)};else if(t instanceof _x)n={update:g_(e,t.key,t.data),updateMask:O_(t.fieldMask)};else{if(!(t instanceof Px))return by();n={verify:f_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ix)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ax)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof cx)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw by()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:s_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:by()}(e,t.precondition)),n}function w_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?px.updateTime(u_(e.updateTime)):void 0!==e.exists?px.exists(e.exists):px.none()}(t.currentDocument):px.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)wy("REQUEST_TIME"===t.setToServerValue),n=new ix;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ax(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new sx(i)}else"increment"in t?n=new cx(e,t.increment):by();var a=Gy.fromServerFormat(t.fieldPath);return new dx(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=d_(e,t.update.name),a=new Fb({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ab(t.map((function(e){return Gy.fromServerFormat(e)})))}(t.updateMask);return new _x(i,a,o,n,r)}return new xx(i,a,n,r)}if(t.delete){var s=d_(e,t.delete);return new Ax(s,n)}if(t.verify){var u=d_(e,t.verify);return new Px(u,n)}return by()}function x_(e,t){return{documents:[h_(e,t.path)]}}function __(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=h_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=h_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return N_(Zb.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:A_(e.field),direction:T_(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=i_(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function S_(e){var t=p_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){wy(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=E_(e);return t instanceof Zb&&Yb(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new Gb(P_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return yk(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ub(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ub(n,t)}(n.endAt)),bw(t,i,s,o,u,"F",c,l)}function E_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=P_(e.unaryFilter.field);return Kb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=P_(e.unaryFilter.field);return Kb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=P_(e.unaryFilter.field);return Kb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=P_(e.unaryFilter.field);return Kb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return by()}}(e):void 0!==e.fieldFilter?function(e){return Kb.create(P_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return by()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Zb.create(e.compositeFilter.filters.map((function(e){return E_(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return by()}}(e.compositeFilter.op))}(e):by()}function T_(e){return e_[e]}function I_(e){return t_[e]}function C_(e){return n_[e]}function A_(e){return{fieldPath:e.canonicalString()}}function P_(e){return Gy.fromServerFormat(e.fieldPath)}function N_(e){return e instanceof Kb?function(e){if("=="===e.op){if(Pb(e.value))return{unaryFilter:{field:A_(e.field),op:"IS_NAN"}};if(Ab(e.value))return{unaryFilter:{field:A_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pb(e.value))return{unaryFilter:{field:A_(e.field),op:"IS_NOT_NAN"}};if(Ab(e.value))return{unaryFilter:{field:A_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:A_(e.field),op:I_(e.op),value:e.value}}}(e):e instanceof Zb?function(e){var t=e.getFilters().map((function(e){return N_(e)}));return 1===t.length?t[0]:{compositeFilter:{op:C_(e.op),filters:t}}}(e):by()}function O_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function R_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var D_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vy.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vy.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:sb.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;zr(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return Br(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),L_=Br((function e(t){zr(this,e),this.ct=t}));function M_(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:j_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:f_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:a_(e,t.version.toTimestamp()),createTime:a_(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:F_(t.version)};else{if(!t.isUnknownDocument())return by();r.unknownDocument={path:n.path.toArray(),version:F_(t.version)}}return r}function j_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function F_(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function z_(e){var t=new zy(e.seconds,e.nanoseconds);return Vy.fromTimestamp(t)}function V_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return w_(e.ct,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return w_(e.ct,t)})),s=zy.fromMillis(t.localWriteTimeMs);return new Nx(t.batchId,s,n,o)}function U_(e){var t,n=z_(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?z_(e.lastLimboFreeSnapshotVersion):Vy.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return wy(1===e.documents.length),Iw(ww(p_(e.documents[0])))}(e.query):function(e){return Iw(S_(e))}(e.query),new D_(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,sb.fromBase64String(e.resumeToken))}function B_(e,t){var n,r=F_(t.snapshotVersion),i=F_(t.lastLimboFreeSnapshotVersion);n=vw(t.target)?x_(e.ct,t.target):__(e.ct,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:hw(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function q_(e){var t=S_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Aw(t,t.limit,"L"):t}function G_(e,t){return new Rx(t.largestBatchId,w_(e.ct,t.overlayMutation))}function W_(e,t){var n=t.path.lastSegment();return[e,wk(t.path.popLast()),n]}function H_(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:F_(r.readTime),documentKey:wk(r.documentKey.path),largestBatchId:r.largestBatchId}}var K_=function(){function e(){zr(this,e)}return Br(e,[{key:"getBundleMetadata",value:function(e,t){return Z_(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:z_(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return Z_(e).put(function(e){return{bundleId:e.id,createTime:F_(u_(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return Q_(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:q_(e.bundledQuery),readTime:z_(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return Q_(e).put(function(e){return{name:e.name,readTime:F_(u_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Z_(e){return Qk(e,"bundles")}function Q_(e){return Qk(e,"namedQueries")}var $_=function(){function e(t,n){zr(this,e),this.serializer=t,this.userId=n}return Br(e,[{key:"getOverlay",value:function(e,t){var n=this;return Y_(e).get(W_(this.userId,t)).next((function(e){return e?G_(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=qw();return ak.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Rx(t,a);i.push(r.ht(e,o))})),ak.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(wk(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Y_(e).J("collectionPathOverlayIndex",i))})),ak.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=qw(),a=wk(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Y_(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=Gr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=G_(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=qw(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Y_(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=G_(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ht",value:function(e,t){return Y_(e).put(function(e,t,n){var r=W_(t,n.mutation.key),a=(0,i.Z)(r,3);a[0];return{userId:t,collectionPath:a[1],documentId:a[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:b_(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"lt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Y_(e){return Qk(e,"documentOverlays")}var X_=function(){function e(){zr(this,e)}return Br(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(lb(e.integerValue));else if("doubleValue"in e){var n=lb(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),kk(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(fb(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?Rb(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):by()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=Gr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),Wy.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();function J_(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function eS(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=J_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}X_.bt=new X_;var tS=function(){function e(){zr(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Br(e,[{key:"Dt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.vt(n.value),n=t.next();this.Ct()}},{key:"Ft",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Mt(n.value),n=t.next();this.xt()}},{key:"Ot",value:function(e){var t,n=Gr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.vt(i);else if(i<2048)this.vt(960|i>>>6),this.vt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.vt(480|i>>>12),this.vt(128|63&i>>>6),this.vt(128|63&i);else{var a=r.codePointAt(0);this.vt(240|a>>>18),this.vt(128|63&a>>>12),this.vt(128|63&a>>>6),this.vt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ct()}},{key:"Nt",value:function(e){var t,n=Gr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{var a=r.codePointAt(0);this.Mt(240|a>>>18),this.Mt(128|63&a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.xt()}},{key:"Bt",value:function(e){var t=this.Lt(e),n=eS(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"qt",value:function(e){var t=this.Lt(e),n=eS(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Qt",value:function(){this.Kt(255),this.Kt(255)}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Wt",value:function(){return this.buffer.slice(0,this.position)}},{key:"Lt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"vt",value:function(e){var t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}},{key:"Mt",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}},{key:"Ct",value:function(){this.Kt(0),this.Kt(1)}},{key:"xt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Kt",value:function(e){this.kt(1),this.buffer[this.position++]=e}},{key:"Ut",value:function(e){this.kt(1),this.buffer[this.position++]=~e}},{key:"kt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),nS=function(){function e(t){zr(this,e),this.Gt=t}return Br(e,[{key:"ft",value:function(e){this.Gt.Dt(e)}},{key:"At",value:function(e){this.Gt.Ot(e)}},{key:"dt",value:function(e){this.Gt.Bt(e)}},{key:"Tt",value:function(){this.Gt.Qt()}}]),e}(),rS=function(){function e(t){zr(this,e),this.Gt=t}return Br(e,[{key:"ft",value:function(e){this.Gt.Ft(e)}},{key:"At",value:function(e){this.Gt.Nt(e)}},{key:"dt",value:function(e){this.Gt.qt(e)}},{key:"Tt",value:function(){this.Gt.$t()}}]),e}(),iS=function(){function e(){zr(this,e),this.Gt=new tS,this.zt=new nS(this.Gt),this.jt=new rS(this.Gt)}return Br(e,[{key:"seed",value:function(e){this.Gt.seed(e)}},{key:"Ht",value:function(e){return 0===e?this.zt:this.jt}},{key:"Wt",value:function(){return this.Gt.Wt()}},{key:"reset",value:function(){this.Gt.reset()}}]),e}(),aS=function(){function e(t,n,r,i){zr(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Br(e,[{key:"Jt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function oS(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=sS(e.arrayValue,t.arrayValue))?n:0!==(n=sS(e.directionalValue,t.directionalValue))?n:Wy.comparator(e.documentKey,t.documentKey)}function sS(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var uS=function(){function e(t){zr(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];var n,r=Gr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Xt=i:this.Zt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Br(e,[{key:"en",value:function(e){wy(e.collectionGroup===this.collectionId);var t=Ky(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=Zy(e),r=new Set,i=0,a=0;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Xt){if(!r.has(this.Xt.field.canonicalString())){var o=n[i];if(!this.nn(this.Xt,o)||!this.rn(this.Yt[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Yt.length||!this.rn(this.Yt[a++],s))return!1}return!0}},{key:"tn",value:function(e){var t,n=Gr(this.Zt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"rn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function cS(e){var t,n;if(wy(e instanceof Kb||e instanceof Zb),e instanceof Kb){if(e instanceof uw){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Kb.create(e.field,"==",t)})))||[];return Zb.create(r,"or")}return e}var i=e.filters.map((function(e){return cS(e)}));return Zb.create(i,e.op)}function lS(e){if(0===e.getFilters().length)return[];var t=pS(cS(e));return wy(hS(t)),fS(t)||dS(t)?[t]:t.getFilters()}function fS(e){return e instanceof Kb}function dS(e){return e instanceof Zb&&Yb(e)}function hS(e){return fS(e)||dS(e)||function(e){if(e instanceof Zb&&$b(e)){var t,n=Gr(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!fS(r)&&!dS(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function pS(e){if(wy(e instanceof Kb||e instanceof Zb),e instanceof Kb)return e;if(1===e.filters.length)return pS(e.filters[0]);var t=e.filters.map((function(e){return pS(e)})),n=Zb.create(t,e.op);return hS(n=gS(n))?n:(wy(n instanceof Zb),wy(Qb(n)),wy(n.filters.length>1),n.filters.reduce((function(e,t){return vS(e,t)})))}function vS(e,t){var n;return wy(e instanceof Kb||e instanceof Zb),wy(t instanceof Kb||t instanceof Zb),n=e instanceof Kb?t instanceof Kb?function(e,t){return Zb.create([e,t],"and")}(e,t):mS(e,t):t instanceof Kb?mS(t,e):function(e,t){if(wy(e.filters.length>0&&t.filters.length>0),Qb(e)&&Qb(t))return tw(e,t.getFilters());var n=$b(e)?e:t,r=$b(e)?t:e,i=n.filters.map((function(e){return vS(e,r)}));return Zb.create(i,"or")}(e,t),gS(n)}function mS(e,t){if(Qb(t))return tw(t,e.getFilters());var n=t.filters.map((function(t){return vS(e,t)}));return Zb.create(n,"or")}function gS(e){if(wy(e instanceof Kb||e instanceof Zb),e instanceof Kb)return e;var t=e.getFilters();if(1===t.length)return gS(t[0]);if(Xb(e))return e;var n=t.map((function(e){return gS(e)})),r=[];return n.forEach((function(t){t instanceof Kb?r.push(t):t instanceof Zb&&(t.op===e.op?r.push.apply(r,(0,Ni.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:Zb.create(r,e.op)}var yS=function(){function e(){zr(this,e),this.sn=new kS}return Br(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),ak.resolve()}},{key:"getCollectionParents",value:function(e,t){return ak.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ak.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ak.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ak.resolve(null)}},{key:"getIndexType",value:function(e,t){return ak.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ak.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ak.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ak.resolve(Jy.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ak.resolve(Jy.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ak.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ak.resolve()}}]),e}(),kS=function(){function e(){zr(this,e),this.index={}}return Br(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new nb(By.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new nb(By.comparator)).toArray()}}]),e}(),bS=new Uint8Array(0),wS=function(){function e(t,n){zr(this,e),this.user=t,this.databaseId=n,this.on=new kS,this._n=new jw((function(e){return hw(e)}),(function(e,t){return pw(e,t)})),this.uid=t.uid||""}return Br(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:wk(i)};return xS(e).put(a)}return ak.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Fy(t),""],!1,!0);return xS(e).G(r).next((function(e){var r,i=Gr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Sk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=SS(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ES(e);return a.next((function(e){o.put(H_(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=SS(e),r=ES(e),i=_S(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=_S(e),i=!0,a=new Map;return ak.forEach(this.an(t),(function(t){return n.un(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Zw(),o=[];return ak.forEach(a,(function(i,a){my("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(hw(t)));var s=function(e,t){var n=Ky(t);if(void 0===n)return null;var r,i=Gr(mw(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=Gr(Zy(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Gr(mw(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=Gr(Zy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?gw(e,o.fieldPath,e.startAt):yw(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Ub(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=Gr(Zy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?yw(e,o.fieldPath,e.endAt):gw(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Ub(r,i)}(a,i),f=n.cn(i,a,c),d=n.cn(i,a,l),h=n.ln(i,a,u),p=n.hn(i.indexId,s,f,c.inclusive,d,l.inclusive,h);return ak.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Wy.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ak.resolve(null)}))}},{key:"an",value:function(e){var t=this._n.get(e);return t||(t=0===e.filters.length?[e]:lS(Zb.create(e.filters,"and")).map((function(t){return dw(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this._n.set(e,t),t)}},{key:"hn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.Pn(t[d/c]):bS,f=s.In(e,u,n[d%c],r),h=s.Tn(e,u,i[d%c],a),p=o.map((function(t){return s.In(e,u,t,!0)}));l.push.apply(l,(0,Ni.Z)(s.createRange(f,h,p)))},d=0;d<u;++d)f();return l}},{key:"In",value:function(e,t,n,r){var i=new aS(e,Wy.empty(),t,n);return r?i:i.Jt()}},{key:"Tn",value:function(e,t,n,r){var i=new aS(e,Wy.empty(),t,n);return r?i.Jt():i}},{key:"un",value:function(e,t){var n=new uS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Gr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.en(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.an(t);return ak.forEach(i,(function(t){return n.un(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new nb(Gy.comparator),r=!1,i=Gr(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Gr(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=Gr(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"En",value:function(e,t){var n,r=new iS,i=Gr(Zy(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ht(a.kind);X_.bt.Pt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Wt()}},{key:"Pn",value:function(e){var t=new iS;return X_.bt.Pt(e,t.Ht(0)),t.Wt()}},{key:"dn",value:function(e,t){var n=new iS;return X_.bt.Pt(Tb(this.databaseId,t),n.Ht(function(e){var t=Zy(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new iS);var i,a=0,o=Gr(Zy(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=Gr(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.An(t,u.fieldPath)&&Cb(c))r=this.Rn(r,u,c);else{var d=f.Ht(u.kind);X_.bt.Pt(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.Vn(r)}},{key:"cn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"Vn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Wt();return t}},{key:"Rn",value:function(e,t,n){var r,i=(0,Ni.Z)(e),a=[],o=Gr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=Gr(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new iS;f.seed(l.Wt()),X_.bt.Pt(u,f.Ht(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"An",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Kb&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=SS(e),a=ES(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return ak.forEach(e,(function(e){return a.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new $y(t.sequenceNumber,new Jy(z_(t.readTime),new Wy(Sk(t.documentKey)),t.largestBatchId)):$y.empty(),r=e.fields.map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return new Qy(Gy.fromServerFormat(n),r)}));return new Hy(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:My(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=SS(e),a=ES(e);return this.mn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ak.forEach(t,(function(t){return a.put(H_(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ak.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ak.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ak.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?ak.resolve():n.pn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return _S(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.dn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"wn",value:function(e,t,n,r){return _S(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.dn(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=_S(e),i=new nb(oS);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.dn(n,t)])},(function(e,r){i=i.add(new aS(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new nb(oS),r=this.En(t,e);if(null==r)return n;var i=Ky(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Cb(a)){var o,s=Gr(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new aS(t.indexId,e.key,this.Pn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new aS(t.indexId,e.key,bS,r));return n}},{key:"pn",value:function(e,t,n,r,i){var a=this;my("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=ib(a),u=ib(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=ib(o)):l?(i(s),s=ib(a)):(s=ib(a),u=ib(o))}}(r,i,oS,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.wn(e,t,n,r))})),ak.waitFor(o)}},{key:"mn",value:function(e){var t=1;return ES(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return oS(e,t)})).filter((function(e,t,n){return!t||0!==oS(e,n[t-1])}));var r=[];r.push(e);var i,a=Gr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=oS(o,e),u=oS(o,t);if(0===s)r[0]=e.Jt();else if(s>0&&u<0)r.push(o),r.push(o.Jt());else if(u>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Sn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,bS,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,bS,[]];c.push(IDBKeyRange.bound(f,d))}return c}},{key:"Sn",value:function(e,t){return oS(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(TS)}},{key:"getMinOffset",value:function(e,t){var n=this;return ak.mapArray(this.an(t),(function(t){return n.un(e,t).next((function(e){return e||by()}))})).next(TS)}}]),e}();function xS(e){return Qk(e,"collectionParents")}function _S(e){return Qk(e,"indexEntries")}function SS(e){return Qk(e,"indexConfiguration")}function ES(e){return Qk(e,"indexState")}function TS(e){wy(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;ek(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Jy(t.readTime,t.documentKey,n)}var IS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CS=function(){function e(t,n,r){zr(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Br(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function AS(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){wy(1===s)})));var c,l=[],f=Gr(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=Ik(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return ak.waitFor(a).next((function(){return l}))}function PS(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw by();t=e.noDocument}return JSON.stringify(t).length}CS.DEFAULT_COLLECTION_PERCENTILE=10,CS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,CS.DEFAULT=new CS(41943040,CS.DEFAULT_COLLECTION_PERCENTILE,CS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),CS.DISABLED=new CS(-1,0,0);var NS=function(){function e(t,n,r,i){zr(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}return Br(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return RS(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=DS(e),o=RS(e);return o.add({}).next((function(s){wy("number"==typeof s);var u,c=new Nx(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return b_(e.ct,t)})),i=n.mutations.map((function(t){return b_(e.ct,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],d=new nb((function(e,t){return My(e.canonicalString(),t.canonicalString())})),h=Gr(r);try{for(h.s();!(u=h.n()).done;){var p=u.value,v=Ik(i.userId,p.key.path,s);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Ck))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.bn[s]=c.keys()})),ak.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return RS(e).get(t).next((function(e){return e?(wy(e.userId===n.userId),V_(n.serializer,e)):null}))}},{key:"Dn",value:function(e,t){var n=this;return this.bn[t]?ak.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.bn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return RS(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(wy(t.batchId>=r),a=V_(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return RS(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return RS(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return V_(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Tk(this.userId,t.path),a=IDBKeyRange.lowerBound(r),o=[];return DS(e).Z({range:a},(function(r,a,s){var u=(0,i.Z)(r,3),c=u[0],l=u[1],f=u[2],d=Sk(l);if(c===n.userId&&t.path.isEqual(d))return RS(e).get(f).next((function(e){if(!e)throw by();wy(e.userId===n.userId),o.push(V_(n.serializer,e))}));s.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new nb(My),a=[];return t.forEach((function(t){var o=Tk(n.userId,t.path),s=IDBKeyRange.lowerBound(o),u=DS(e).Z({range:s},(function(e,a,o){var s=(0,i.Z)(e,3),u=s[0],c=s[1],l=s[2],f=Sk(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));a.push(u)})),ak.waitFor(a).next((function(){return n.vn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,a=r.length+1,o=Tk(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new nb(My);return DS(e).Z({range:s},(function(e,t,o){var s=(0,i.Z)(e,3),c=s[0],l=s[1],f=s[2],d=Sk(l);c===n.userId&&r.isPrefixOf(d)?d.length===a&&(u=u.add(f)):o.done()})).next((function(){return n.vn(e,u)}))}},{key:"vn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(RS(e).get(t).next((function(e){if(null===e)throw by();wy(e.userId===n.userId),r.push(V_(n.serializer,e))})))})),ak.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return AS(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),ak.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.bn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ak.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return DS(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Sk(e[1]);i.push(a)}else r.done()})).next((function(){wy(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return OS(e,this.userId,t)}},{key:"Fn",value:function(e){var t=this;return LS(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"lt",value:function(t,n,r,i){return wy(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function OS(e,t,n){var r=Tk(t,n.path),a=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return DS(e).Z({range:o,Y:!0},(function(e,n,r){var o=(0,i.Z)(e,3),u=o[0],c=o[1];o[2];u===t&&c===a&&(s=!0),r.done()})).next((function(){return s}))}function RS(e){return Qk(e,"mutations")}function DS(e){return Qk(e,"documentMutations")}function LS(e){return Qk(e,"mutationQueues")}var MS=function(){function e(t){zr(this,e),this.Mn=t}return Br(e,[{key:"next",value:function(){return this.Mn+=2,this.Mn}}],[{key:"xn",value:function(){return new e(0)}},{key:"On",value:function(){return new e(-1)}}]),e}(),jS=function(){function e(t,n){zr(this,e),this.referenceDelegate=t,this.serializer=n}return Br(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Nn(e).next((function(n){var r=new MS(n.highestTargetId);return n.highestTargetId=r.next(),t.Bn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Nn(e).next((function(e){return Vy.fromTimestamp(new zy(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Nn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Nn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Bn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ln(e,t).next((function(){return n.Nn(e).next((function(r){return r.targetCount+=1,n.kn(t,r),n.Bn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ln(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return FS(e).delete(t.targetId)})).next((function(){return n.Nn(e)})).next((function(t){return wy(t.targetCount>0),t.targetCount-=1,n.Bn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return FS(e).Z((function(o,s){var u=U_(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return ak.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return FS(e).Z((function(e,n){var r=U_(n);t(r)}))}},{key:"Nn",value:function(e){return zS(e).get("targetGlobalKey").next((function(e){return wy(null!==e),e}))}},{key:"Bn",value:function(e,t){return zS(e).put("targetGlobalKey",t)}},{key:"Ln",value:function(e,t){return FS(e).put(B_(this.serializer,t))}},{key:"kn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Nn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=hw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return FS(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=U_(n);pw(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=VS(e);return t.forEach((function(t){var o=wk(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ak.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=VS(e);return ak.forEach(t,(function(t){var a=wk(t.path);return ak.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=VS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=VS(e),i=Zw();return r.Z({range:n,Y:!0},(function(e,t,n){var r=Sk(e[1]),a=new Wy(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=wk(t.path),r=IDBKeyRange.bound([n],[Fy(n)],!1,!0),a=0;return VS(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=(0,i.Z)(e,2),o=r[0];r[1];0!==o&&(a++,n.done())})).next((function(){return a>0}))}},{key:"ut",value:function(e,t){return FS(e).get(t).next((function(e){return e?U_(e):null}))}}]),e}();function FS(e){return Qk(e,"targets")}function zS(e){return Qk(e,"targetGlobal")}function VS(e){return Qk(e,"targetDocuments")}function US(e,t){var n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,i.Z)(t,2),s=o[0],u=o[1],c=My(r,s);return 0===c?My(a,u):c}var BS=function(){function e(t){zr(this,e),this.qn=t,this.buffer=new nb(US),this.Qn=0}return Br(e,[{key:"Kn",value:function(){return++this.Qn}},{key:"$n",value:function(e){var t=[e,this.Kn()];if(this.buffer.size<this.qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();US(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),qS=function(){function e(t,n,r){zr(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Un=null}return Br(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Wn(6e4)}},{key:"stop",value:function(){this.Un&&(this.Un.cancel(),this.Un=null)}},{key:"started",get:function(){return null!==this.Un}},{key:"Wn",value:function(e){var t=this;my("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Un=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Un=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!lk(e.t0)){e.next=12;break}my("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,rk(e.t0);case 14:return e.next=16,t.Wn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),GS=function(){function e(t,n){zr(this,e),this.Gn=t,this.params=n}return Br(e,[{key:"calculateTargetCount",value:function(e,t){return this.Gn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ak.resolve(gk.ae);var r=new BS(t);return this.Gn.forEachTarget(e,(function(e){return r.$n(e.sequenceNumber)})).next((function(){return n.Gn.jn(e,(function(e){return r.$n(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Gn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Gn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(my("LruGarbageCollector","Garbage collection skipped; disabled"),ak.resolve(IS)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(my("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),IS):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Gn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(my("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),vy()<=zi.DEBUG&&my("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),ak.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function WS(e,t){return new GS(e,t)}var HS=function(){function e(t,n){zr(this,e),this.db=t,this.garbageCollector=WS(this,n)}return Br(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"jn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return KS(e,n)}},{key:"removeReference",value:function(e,t,n){return KS(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return KS(e,t)}},{key:"Zn",value:function(e,t){return function(e,t){var n=!1;return LS(e).X((function(r){return OS(e,r,t).next((function(e){return e&&(n=!0),ak.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,s){if(s<=t){var u=n.Zn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Vy.min()),VS(e).delete(function(e){return[0,wk(e.path)]}(o))}))}));i.push(u)}})).next((function(){return ak.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return KS(e,t)}},{key:"Yn",value:function(e,t){var n,r=VS(e),a=gk.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var o=(0,i.Z)(e,2),s=o[0],u=(o[1],r.path),c=r.sequenceNumber;0===s?(a!==gk.ae&&t(new Wy(Sk(n)),a),a=c,n=u):a=gk.ae})).next((function(){a!==gk.ae&&t(new Wy(Sk(n)),a)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function KS(e,t){return VS(e).put(function(e,t){return{targetId:0,path:wk(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var ZS=function(){function e(){zr(this,e),this.changes=new jw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Br(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Vb.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ak.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),QS=function(){function e(t){zr(this,e),this.serializer=t}return Br(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return JS(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return JS(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],j_(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Xn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Vb.newInvalidDocument(t);return JS(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(eE(t))},(function(e,i){r=n.er(t,i)})).next((function(){return r}))}},{key:"tr",value:function(e,t){var n=this,r={size:0,document:Vb.newInvalidDocument(t)};return JS(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(eE(t))},(function(e,i){r={document:n.er(t,i),size:PS(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=zw();return this.nr(e,t,(function(e,t){var i=n.er(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r=zw(),i=new Jk(Wy.comparator);return this.nr(e,t,(function(e,t){var a=n.er(e,t);r=r.insert(e,a),i=i.insert(e,PS(t))})).next((function(){return{documents:r,ir:i}}))}},{key:"nr",value:function(e,t,n){if(t.isEmpty())return ak.resolve();var r=new nb(nE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(eE(r.first()),eE(r.last())),a=r.getIterator(),o=a.getNext();return JS(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Wy.fromSegments([].concat((0,Ni.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&nE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(eE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),j_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return JS(e).G(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=zw(),o=Gr(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.er(Wy.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(Rw(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=zw(),o=tE(t,n),s=tE(t,Jy.max());return JS(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.er(Wy.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new YS(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return XS(e).get("remoteDocumentGlobalKey").next((function(e){return wy(!!e),e}))}},{key:"Xn",value:function(e,t){return XS(e).put("remoteDocumentGlobalKey",t)}},{key:"er",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=y_(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Wy.fromSegments(t.noDocument.path),i=z_(t.noDocument.readTime);n=Vb.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return by();var a=Wy.fromSegments(t.unknownDocument.path),o=z_(t.unknownDocument.version);n=Vb.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new zy(e[0],e[1]);return Vy.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Vy.min()))return n}return Vb.newInvalidDocument(e)}}]),e}();function $S(e){return new QS(e)}var YS=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).sr=e,i.trackRemovals=r,i._r=new jw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Br(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new nb((function(e,t){return My(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t._r.get(a);if(n.push(t.sr.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=M_(t.sr.serializer,o);i=i.add(a.path.popLast());var c=PS(u);r+=c-s.size,n.push(t.sr.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=M_(t.sr.serializer,o.convertToNoDocument(Vy.min()));n.push(t.sr.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.sr.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.sr.updateMetadata(e,r)),ak.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.sr.tr(e,t).next((function(e){return n._r.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.sr.rr(e,t).next((function(e){var t=e.documents;return e.ir.forEach((function(e,r){n._r.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(ZS);function XS(e){return Qk(e,"remoteDocumentGlobal")}function JS(e){return Qk(e,"remoteDocumentsV14")}function eE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function tE(e,t){var n=t.documentKey.path.toArray();return[e,j_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function nE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=My(n[a],r[a]))return i;return(i=My(n.length,r.length))||((i=My(n[n.length-2],r[r.length-2]))||My(n[n.length-1],r[r.length-1]))}var rE=Br((function e(t,n){zr(this,e),this.overlayedDocument=t,this.mutatedFields=n})),iE=function(){function e(t,n,r,i){zr(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Br(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&kx(r.mutation,e,ab.empty(),zy.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Zw()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zw(),i=qw();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Uw();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=qw();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Zw())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=zw(),a=Ww(),o=Ww();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof _x)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),kx(o.mutation,t,o.mutation.getFieldMask(),zy.now())):a.set(t.key,ab.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new rE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Ww(),i=new Jk((function(e,t){return e-t})),a=Zw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Gr(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ab.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Zw()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Gw();c.forEach((function(e){if(!a.has(e)){var n=gx(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return ak.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Wy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ew(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ak.resolve(qw()),s=-1,u=a;return o.next((function(t){return ak.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?ak.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Zw())})).next((function(e){return{batchId:s,changes:Bw(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Wy(t)).next((function(e){var t=Uw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Uw();return this.indexManager.getCollectionParents(e,i).next((function(o){return ak.forEach(o,(function(o){var s=function(e,t){return new kw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Vb.newInvalidDocument(r)))}));var n=Uw();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&kx(a.mutation,i,ab.empty(),zy.now()),Rw(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),aE=function(){function e(t){zr(this,e),this.serializer=t,this.ar=new Map,this.ur=new Map}return Br(e,[{key:"getBundleMetadata",value:function(e,t){return ak.resolve(this.ar.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ar.set(t.id,function(e){return{id:e.id,version:e.version,createTime:u_(e.createTime)}}(t)),ak.resolve()}},{key:"getNamedQuery",value:function(e,t){return ak.resolve(this.ur.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ur.set(t.name,function(e){return{name:e.name,query:q_(e.bundledQuery),readTime:u_(e.readTime)}}(t)),ak.resolve()}}]),e}(),oE=function(){function e(){zr(this,e),this.overlays=new Jk(Wy.comparator),this.cr=new Map}return Br(e,[{key:"getOverlay",value:function(e,t){return ak.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=qw();return ak.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),ak.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.cr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.cr.delete(n)),ak.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=qw(),i=t.length+1,a=new Wy(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return ak.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Jk((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=qw(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=qw(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return ak.resolve(u)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.cr.get(r.largestBatchId).delete(n.key);this.cr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Rx(t,n));var a=this.cr.get(t);void 0===a&&(a=Zw(),this.cr.set(t,a)),this.cr.set(t,a.add(n.key))}}]),e}(),sE=function(){function e(){zr(this,e),this.lr=new nb(uE.hr),this.Pr=new nb(uE.Ir)}return Br(e,[{key:"isEmpty",value:function(){return this.lr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new uE(e,t);this.lr=this.lr.add(n),this.Pr=this.Pr.add(n)}},{key:"Tr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Er(new uE(e,t))}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ar",value:function(e){var t=this,n=new Wy(new By([])),r=new uE(n,e),i=new uE(n,e+1),a=[];return this.Pr.forEachInRange([r,i],(function(e){t.Er(e),a.push(e.key)})),a}},{key:"Rr",value:function(){var e=this;this.lr.forEach((function(t){return e.Er(t)}))}},{key:"Er",value:function(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}},{key:"Vr",value:function(e){var t=new Wy(new By([])),n=new uE(t,e),r=new uE(t,e+1),i=Zw();return this.Pr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new uE(e,0),n=this.lr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),uE=function(){function e(t,n){zr(this,e),this.key=t,this.mr=n}return Br(e,null,[{key:"hr",value:function(e,t){return Wy.comparator(e.key,t.key)||My(e.mr,t.mr)}},{key:"Ir",value:function(e,t){return My(e.mr,t.mr)||Wy.comparator(e.key,t.key)}}]),e}(),cE=function(){function e(t,n){zr(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new nb(uE.hr)}return Br(e,[{key:"checkEmpty",value:function(e){return ak.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Nx(i,t,n,r);this.mutationQueue.push(a);var o,s=Gr(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.pr=this.pr.add(new uE(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return ak.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ak.resolve(this.yr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.wr(n),i=r<0?0:r;return ak.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ak.resolve(0===this.mutationQueue.length?-1:this.gr-1)}},{key:"getAllMutationBatches",value:function(e){return ak.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new uE(t,0),i=new uE(t,Number.POSITIVE_INFINITY),a=[];return this.pr.forEachInRange([r,i],(function(e){var t=n.yr(e.mr);a.push(t)})),ak.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new nb(My);return t.forEach((function(e){var t=new uE(e,0),i=new uE(e,Number.POSITIVE_INFINITY);n.pr.forEachInRange([t,i],(function(e){r=r.add(e.mr)}))})),ak.resolve(this.Sr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Wy.isDocumentKey(i)||(i=i.child(""));var a=new uE(new Wy(i),0),o=new nb(My);return this.pr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.mr)),!0)}),a),ak.resolve(this.Sr(o))}},{key:"Sr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.yr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;wy(0===this.br(t.batchId,"removed")),this.mutationQueue.shift();var r=this.pr;return ak.forEach(t.mutations,(function(i){var a=new uE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.pr=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new uE(t,0),r=this.pr.firstAfterOrEqual(n);return ak.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ak.resolve()}},{key:"br",value:function(e,t){return this.wr(e)}},{key:"wr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"yr",value:function(e){var t=this.wr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),lE=function(){function e(t){zr(this,e),this.Dr=t,this.docs=new Jk(Wy.comparator),this.size=0}return Br(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Dr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ak.resolve(n?n.document.mutableCopy():Vb.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=zw();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Vb.newInvalidDocument(e))})),ak.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=zw(),a=t.path,o=new Wy(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||ek(Xy(l),n)<=0||(r.has(l.key)||Rw(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return ak.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){by()}},{key:"vr",value:function(e,t){return ak.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new fE(this)}},{key:"getSize",value:function(e){return ak.resolve(this.size)}}]),e}(),fE=function(e){Hr(n,e);var t=$r(n);function n(e){var r;return zr(this,n),(r=t.call(this)).sr=e,r}return Br(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.sr.addEntry(e,i)):t.sr.removeEntry(r)})),ak.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.sr.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.sr.getEntries(e,t)}}]),n}(ZS),dE=function(){function e(t){zr(this,e),this.persistence=t,this.Cr=new jw((function(e){return hw(e)}),pw),this.lastRemoteSnapshotVersion=Vy.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new sE,this.targetCount=0,this.Or=MS.xn()}return Br(e,[{key:"forEachTarget",value:function(e,t){return this.Cr.forEach((function(e,n){return t(n)})),ak.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ak.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ak.resolve(this.Fr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Or.next(),ak.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fr&&(this.Fr=t),ak.resolve()}},{key:"Ln",value:function(e){this.Cr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Or=new MS(t),this.highestTargetId=t),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ln(t),this.targetCount+=1,ak.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ln(t),ak.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cr.delete(t.target),this.Mr.Ar(t.targetId),this.targetCount-=1,ak.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Cr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),ak.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ak.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cr.get(t)||null;return ak.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Mr.Tr(t,n),ak.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Mr.dr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ak.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Mr.Ar(t),ak.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Mr.Vr(t);return ak.resolve(n)}},{key:"containsKey",value:function(e,t){return ak.resolve(this.Mr.containsKey(t))}}]),e}(),hE=function(){function e(t,n){var r=this;zr(this,e),this.Nr={},this.overlays={},this.Br=new gk(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new dE(this),this.indexManager=new yS,this.remoteDocumentCache=function(e){return new lE(e)}((function(e){return r.referenceDelegate.qr(e)})),this.serializer=new L_(n),this.Qr=new aE(this.serializer)}return Br(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Lr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Lr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new oE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Nr[e.toKey()];return n||(n=new cE(t,this.referenceDelegate),this.Nr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Qr}},{key:"runTransaction",value:function(e,t,n){var r=this;my("MemoryPersistence","Starting transaction:",e);var i=new pE(this.Br.next());return this.referenceDelegate.Kr(),n(i).next((function(e){return r.referenceDelegate.$r(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ur",value:function(e,t){return ak.or(Object.values(this.Nr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),pE=function(e){Hr(n,e);var t=$r(n);function n(e){var r;return zr(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Br(n)}(nk),vE=function(){function e(t){zr(this,e),this.persistence=t,this.Wr=new sE,this.Gr=null}return Br(e,[{key:"jr",get:function(){if(this.Gr)return this.Gr;throw by()}},{key:"addReference",value:function(e,t,n){return this.Wr.addReference(n,t),this.jr.delete(n.toString()),ak.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Wr.removeReference(n,t),this.jr.add(n.toString()),ak.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.jr.add(t.toString()),ak.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Wr.Ar(t.targetId).forEach((function(e){return n.jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Kr",value:function(){this.Gr=new Set}},{key:"$r",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ak.forEach(this.jr,(function(r){var i=Wy.fromPath(r);return t.Hr(e,i).next((function(e){e||n.removeEntry(i,Vy.min())}))})).next((function(){return t.Gr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hr(e,t).next((function(e){e?n.jr.delete(t.toString()):n.jr.add(t.toString())}))}},{key:"qr",value:function(e){return 0}},{key:"Hr",value:function(e,t){var n=this;return ak.or([function(){return ak.resolve(n.Wr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ur(e,t)}])}}],[{key:"zr",value:function(t){return new e(t)}}]),e}(),mE=function(){function e(t){zr(this,e),this.serializer=t}return Br(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new ok("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ek,{unique:!0}),e.createObjectStore("documentMutations")}(e),gE(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ak.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),gE(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vy.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ek,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ak.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Yr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Zr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Xr(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ei(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ti(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Vk});t.createIndex("collectionPathOverlayIndex",Uk,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Bk,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ak});t.createIndex("documentKeyIndex",Pk),t.createIndex("collectionGroupIndex",Nk)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ri(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Mk}).createIndex("sequenceNumberIndex",jk,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Fk}).createIndex("documentKeyIndex",zk,{unique:!1})}(e)}))),o}},{key:"Zr",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=PS(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Yr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return ak.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return ak.forEach(r,(function(r){wy(r.userId===n.userId);var i=V_(t.serializer,r);return AS(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Xr",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new By(n),o=function(e){return[0,wk(e)]}(a);r.push(t.get(o).next((function(n){return n?ak.resolve():function(n){return t.put({targetId:0,path:wk(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ak.waitFor(r)}))}))}},{key:"ei",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Lk});var n=t.store("collectionParents"),r=new kS,a=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:wk(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new By(e);return a(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=(0,i.Z)(e,3),r=(n[0],n[1]),o=(n[2],Sk(r));return a(o.popLast())}))}))}},{key:"ti",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=U_(r),a=B_(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Wy(By.fromString(e.document.name).popFirst(5)):e.noDocument?Wy.fromSegments(e.noDocument.path):e.unknownDocument?Wy.fromSegments(e.unknownDocument.path):by()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return ak.waitFor(r)}))}},{key:"ri",value:function(e,t){var n=this,r=t.store("mutations"),i=$S(this.serializer),a=new hE(vE.zr,this.serializer.ct);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Zw();V_(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ak.forEach(r,(function(e,r){var o=new dy(r),s=$_.lt(n.serializer,o),u=a.getIndexManager(o),c=NS.lt(o,n.serializer,u,a.referenceDelegate);return new iE(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Zk(t,gk.ae),e).next()}))}))}}]),e}();function gE(e){e.createObjectStore("targetDocuments",{keyPath:Rk}).createIndex("documentTargetsIndex",Dk,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ok,{unique:!0}),e.createObjectStore("targetGlobal")}var yE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kE=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(zr(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=s,this.si=c,this.oi=l,this._i=f,this.Br=null,this.Lr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ai=null,this.inForeground=!1,this.ui=null,this.ci=null,this.li=Number.NEGATIVE_INFINITY,this.hi=function(e){return Promise.resolve()},!e.v())throw new Sy(_y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HS(this,i),this.Pi=n+"main",this.serializer=new L_(u),this.Ii=new sk(this.Pi,this._i,new mE(this.serializer)),this.kr=new jS(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$S(this.serializer),this.Qr=new K_,this.window&&this.window.localStorage?this.Ti=this.window.localStorage:(this.Ti=null,!1===l&&gy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Br(e,[{key:"start",value:function(){var e=this;return this.Ei().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Sy(_y.FAILED_PRECONDITION,yE);return e.di(),e.Ai(),e.Ri(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.kr.getHighestSequenceNumber(t)}))})).then((function(t){e.Br=new gk(t,e.si)})).then((function(){e.Lr=!0})).catch((function(t){return e.Ii&&e.Ii.close(),Promise.reject(t)}))}},{key:"Vi",value:function(e){var t=this;return this.hi=function(){var n=Ri(Pi().mark((function n(r){return Pi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ii.k(function(){var t=Ri(Pi().mark((function t(n){return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ei();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ei",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return wE(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.mi(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.hi(!1)})))}))})).next((function(){return e.fi(t)})).next((function(n){return e.isPrimary&&!n?e.gi(t).next((function(){return!1})):!!n&&e.pi(t).next((function(){return!0}))}))})).catch((function(t){if(lk(t))return my("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return my("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.hi(t)})),e.isPrimary=t}))}},{key:"mi",value:function(e){var t=this;return bE(e).get("owner").next((function(e){return ak.resolve(t.yi(e))}))}},{key:"wi",value:function(e){return wE(e).delete(this.clientId)}},{key:"Si",value:function(){var e=Ri(Pi().mark((function e(){var t,n,r,i,a=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.bi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Qk(e,"clientMetadata");return t.G().next((function(e){var n=a.Di(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ak.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ti){n=Gr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ti.removeItem(this.vi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ri",value:function(){var e=this;this.ci=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ei().then((function(){return e.Si()})).then((function(){return e.Ri()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"fi",value:function(e){var t=this;return this.oi?ak.resolve(!0):bE(e).get("owner").next((function(n){if(null!==n&&t.bi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new Sy(_y.FAILED_PRECONDITION,yE);return!1}}return!(!t.networkEnabled||!t.inForeground)||wE(e).G().next((function(e){return void 0===t.Di(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&my("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ri(Pi().mark((function e(){var t=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lr=!1,this.Fi(),this.ci&&(this.ci.cancel(),this.ci=null),this.Mi(),this.xi(),e.next=7,this.Ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Zk(e,gk.ae);return t.gi(n).next((function(){return t.wi(n)}))}));case 7:this.Ii.close(),this.Oi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Di",value:function(e,t){var n=this;return e.filter((function(e){return n.bi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"Ni",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return wE(t).G().next((function(t){return e.Di(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Lr}},{key:"getMutationQueue",value:function(e,t){return NS.lt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new wS(e,this.serializer.ct.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return $_.lt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Qr}},{key:"runTransaction",value:function(e,t,n){var r=this;my("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?Kk:14===e?Hk:13===e?Wk:12===e?Gk:11===e?qk:void by()}(this._i);return this.Ii.runTransaction(e,a,o,(function(a){return i=new Zk(a,r.Br?r.Br.next():gk.ae),"readwrite-primary"===t?r.mi(i).next((function(e){return!!e||r.fi(i)})).next((function(t){if(!t)throw gy("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.hi(!1)})),new Sy(_y.FAILED_PRECONDITION,tk);return n(i)})).next((function(e){return r.pi(i).next((function(){return e}))})):r.Bi(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Bi",value:function(e){var t=this;return bE(e).get("owner").next((function(e){if(null!==e&&t.bi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.yi(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Sy(_y.FAILED_PRECONDITION,yE)}))}},{key:"pi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bE(e).put("owner",t)}},{key:"gi",value:function(e){var t=this,n=bE(e);return n.get("owner").next((function(e){return t.yi(e)?(my("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ak.resolve()}))}},{key:"bi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(gy("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"di",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ui=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ei()}))},this.document.addEventListener("visibilitychange",this.ui),this.inForeground="visible"===this.document.visibilityState)}},{key:"Mi",value:function(){this.ui&&(this.document.removeEventListener("visibilitychange",this.ui),this.ui=null)}},{key:"Ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ai=function(){t.Fi();var e=/(?:Version|Mobile)\/1[456]/;!fi()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ai))}},{key:"xi",value:function(){this.ai&&(this.window.removeEventListener("pagehide",this.ai),this.ai=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this.Ti)||void 0===t?void 0:t.getItem(this.vi(e)));return my("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return gy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Fi",value:function(){if(this.Ti)try{this.Ti.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){gy("Failed to set zombie client id.",e)}}},{key:"Oi",value:function(){if(this.Ti)try{this.Ti.removeItem(this.vi(this.clientId))}catch(e){}}},{key:"vi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"v",value:function(){return sk.v()}}]),e}();function bE(e){return Qk(e,"owner")}function wE(e){return Qk(e,"clientMetadata")}function xE(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var _E=function(){function e(t,n,r,i){zr(this,e),this.targetId=t,this.fromCache=n,this.Li=r,this.ki=i}return Br(e,null,[{key:"qi",value:function(t,n){var r,i=Zw(),a=Zw(),o=Gr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),SE=function(){function e(){zr(this,e),this.Qi=!1}return Br(e,[{key:"initialize",value:function(e,t){this.Ki=e,this.indexManager=t,this.Qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.$i(e,t).next((function(a){return a||i.Ui(e,t,r,n)})).next((function(n){return n||i.Wi(e,t)}))}},{key:"$i",value:function(e,t){var n=this;if(xw(t))return ak.resolve(null);var r=Iw(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Aw(t,null,"F"),r=Iw(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Zw.apply(void 0,(0,Ni.Z)(i));return n.Ki.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Gi(t,i);return n.zi(t,o,a,r.readTime)?n.$i(e,Aw(t,null,"F")):n.ji(e,o,t,r)}))}))})))}))}},{key:"Ui",value:function(e,t,n,r){var i=this;return xw(t)||r.isEqual(Vy.min())?this.Wi(e,t):this.Ki.getDocuments(e,n).next((function(a){var o=i.Gi(t,a);return i.zi(t,o,n,r)?i.Wi(e,t):(vy()<=zi.DEBUG&&my("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ow(t)),i.ji(e,o,t,Yy(r,-1)))}))}},{key:"Gi",value:function(e,t){var n=new nb(Lw(e));return t.forEach((function(t,r){Rw(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Wi",value:function(e,t){return vy()<=zi.DEBUG&&my("QueryEngine","Using full collection scan to execute query:",Ow(t)),this.Ki.getDocumentsMatchingQuery(e,t,Jy.min())}},{key:"ji",value:function(e,t,n,r){return this.Ki.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),EE=function(){function e(t,n,r,i){zr(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Jk(My),this.Yi=new jw((function(e){return hw(e)}),pw),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(r)}return Br(e,[{key:"es",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iE(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function TE(e,t,n,r){return new EE(e,t,n,r)}function IE(e,t){return CE.apply(this,arguments)}function CE(){return CE=Ri(Pi().mark((function e(t,n){var r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xy(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.es(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Zw(),u=Gr(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Gr(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;s=s.add(d.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var h,p=Gr(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,g=Gr(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ts:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),CE.apply(this,arguments)}function AE(e,t){var n=xy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ak.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);wy(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Zw(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function PE(e){var t=xy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.kr.getLastRemoteSnapshotVersion(e)}))}function NE(e,t){var n=xy(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.kr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.kr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(sb.EMPTY_BYTE_STRING,Vy.min()).withLastLimboFreeSnapshotVersion(Vy.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.kr.updateTargetData(e,c))}}));var s=zw(),u=Zw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(OE(e,a,t.documentUpdates).next((function(e){s=e.ns,u=e.rs}))),!r.isEqual(Vy.min())){var c=n.kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ak.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function OE(e,t,n){var r=Zw(),i=Zw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=zw();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Vy.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):my("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ns:r,rs:i}}))}function RE(e,t){var n=xy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function DE(e,t){var n=xy(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.kr.getTargetData(e,t).next((function(i){return i?(r=i,ak.resolve(r)):n.kr.allocateTargetId(e).next((function(i){return r=new D_(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function LE(e,t,n){return ME.apply(this,arguments)}function ME(){return ME=Ri(Pi().mark((function e(t,n,r){var i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xy(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),lk(e.t1)){e.next=12;break}throw e.t1;case 12:my("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ME.apply(this,arguments)}function jE(e,t,n){var r=xy(e),i=Vy.min(),a=Zw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=xy(e),i=r.Yi.get(n);return void 0!==i?ak.resolve(r.Ji.get(i)):r.kr.getTargetData(t,n)}(r,e,Iw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Vy.min(),n?a:Zw())})).next((function(e){return VE(r,Dw(t),e),{documents:e,ss:a}}))}))}function FE(e,t){var n=xy(e),r=xy(n.kr),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ut(e,t).next((function(e){return e?e.target:null}))}))}function zE(e,t){var n=xy(e),r=n.Zi.get(t)||Vy.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Xi.getAllFromCollectionGroup(e,t,Yy(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return VE(n,t,e),e}))}function VE(e,t,n){var r=e.Zi.get(t)||Vy.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Zi.set(t,r)}function UE(e,t,n,r){return BE.apply(this,arguments)}function BE(){return BE=Ri(Pi().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,d,h,p;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=xy(t),o=Zw(),s=zw(),u=Gr(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.os(l.metadata.name),l.document&&(o=o.add(f)),(d=n._s(l)).setReadTime(n.us(l.metadata.readTime)),s=s.insert(f,d)}catch(v){u.e(v)}finally{u.f()}return h=a.Xi.newChangeBuffer({trackRemovals:!0}),e.next=7,DE(a,function(e){return Iw(ww(By.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return OE(e,h,s).next((function(t){return h.apply(e),t})).next((function(t){return a.kr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.kr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.ns,t.rs)})).next((function(){return t.ns}))}))})));case 9:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function qE(e,t){return GE.apply(this,arguments)}function GE(){return GE=Ri(Pi().mark((function e(t,n){var r,i,a,o=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Zw(),e.next=3,DE(t,Iw(q_(n.bundledQuery)));case 3:return i=e.sent,a=xy(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=u_(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Qr.saveNamedQuery(e,n);var o=i.withResumeToken(sb.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.kr.updateTargetData(e,o).next((function(){return a.kr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.kr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Qr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function WE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function HE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function KE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var ZE=function(){function e(t,n,r,i){zr(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Br(e,[{key:"ls",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Sy(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(gy("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),QE=function(){function e(t,n,r){zr(this,e),this.targetId=t,this.state=n,this.error=r}return Br(e,[{key:"ls",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Sy(i.error.code,i.error.message))),a?new e(t,i.state,r):(gy("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),$E=function(){function e(t,n){zr(this,e),this.clientId=t,this.activeTargetIds=n}return Br(e,null,[{key:"cs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=$w(),o=0;i&&o<r.activeTargetIds.length;++o)i=bk(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(gy("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),YE=function(){function e(t,n){zr(this,e),this.clientId=t,this.onlineState=n}return Br(e,null,[{key:"cs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(gy("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),XE=function(){function e(){zr(this,e),this.activeTargetIds=$w()}return Br(e,[{key:"hs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ps",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ls",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),JE=function(){function e(t,n,r,i,a){zr(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.Is=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ts=this.Es.bind(this),this.ds=new Jk(My),this.started=!1,this.As=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Rs=WE(this.persistenceKey,this.Is),this.Vs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ds=this.ds.insert(this.Is,new XE),this.fs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.gs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.ps=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.ys=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.ws=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Ts)}return Br(e,[{key:"start",value:function(){var e=Ri(Pi().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,d=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ni();case 2:t=e.sent,n=Gr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Is){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(WE(this.persistenceKey,i)))&&(o=$E.cs(i,a))&&(this.ds=this.ds.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ss(),(s=this.storage.getItem(this.ys))&&(u=this.bs(s))&&this.Ds(u),c=Gr(this.As);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Es(f)}catch(h){c.e(h)}finally{c.f()}this.As=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Vs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.vs(this.ds)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ds.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Cs(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Cs(e,t,n),this.Fs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(KE(this.persistenceKey,e));if(n){var r=QE.cs(e,n);r&&(t=r.state)}}return this.Ms.hs(e),this.Ss(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ms.Ps(e),this.Ss()}},{key:"isLocalQueryTarget",value:function(e){return this.Ms.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(KE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.xs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Fs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Os(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ns(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Ts),this.removeItem(this.Rs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return my("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){my("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){my("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Es",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(my("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Rs)return void gy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(Ri(Pi().mark((function e(){var r,i,a,o,s,u,c;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.fs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Bs(n.key),e.abrupt("return",t.Ls(r,null));case 6:if(!(i=t.ks(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Ls(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.gs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.qs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Qs(a));case 16:e.next=41;break;case 18:if(!t.ps.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ks(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.$s(o));case 23:e.next=41;break;case 25:if(n.key!==t.ys){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.bs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ds(s));case 30:e.next=41;break;case 32:if(n.key!==t.Vs){e.next=37;break}u=function(e){var t=gk.ae;if(null!=e)try{var n=JSON.parse(e);wy("number"==typeof n),t=n}catch(e){gy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==gk.ae&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.ws){e.next=41;break}return c=t.Us(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Ws(e)})));case 41:e.next=44;break;case 43:t.As.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ms",get:function(){return this.ds.get(this.Is)}},{key:"Ss",value:function(){this.setItem(this.Rs,this.Ms.ls())}},{key:"Cs",value:function(e,t,n){var r=new ZE(this.currentUser,e,t,n),i=HE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ls())}},{key:"Fs",value:function(e){var t=HE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Os",value:function(e){var t={clientId:this.Is,onlineState:e};this.storage.setItem(this.ys,JSON.stringify(t))}},{key:"xs",value:function(e,t,n){var r=KE(this.persistenceKey,e),i=new QE(e,t,n);this.setItem(r,i.ls())}},{key:"Ns",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.ws,t)}},{key:"Bs",value:function(e){var t=this.fs.exec(e);return t?t[1]:null}},{key:"ks",value:function(e,t){var n=this.Bs(e);return $E.cs(n,t)}},{key:"qs",value:function(e,t){var n=this.gs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ZE.cs(new dy(i),r,t)}},{key:"Ks",value:function(e,t){var n=this.ps.exec(e),r=Number(n[1]);return QE.cs(r,t)}},{key:"bs",value:function(e){return YE.cs(e)}},{key:"Us",value:function(e){return JSON.parse(e)}},{key:"Qs",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Gs(t.batchId,t.state,t.error));case 2:my("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"$s",value:function(e){return this.syncEngine.zs(e.targetId,e.state,e.error)}},{key:"Ls",value:function(e,t){var n=this,r=t?this.ds.insert(e,t):this.ds.remove(e),i=this.vs(this.ds),a=this.vs(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.js(o,s).then((function(){n.ds=r}))}},{key:"Ds",value:function(e){this.ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"vs",value:function(e){var t=$w();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"v",value:function(e){return!(!e||!e.localStorage)}}]),e}(),eT=function(){function e(){zr(this,e),this.Hs=new XE,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Br(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hs.hs(e),this.Js[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Js[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hs.Ps(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Js[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hs.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hs=new XE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),tT=function(){function e(){zr(this,e)}return Br(e,[{key:"Ys",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),nT=function(){function e(){var t=this;zr(this,e),this.Zs=function(){return t.Xs()},this.eo=function(){return t.no()},this.ro=[],this.io()}return Br(e,[{key:"Ys",value:function(e){this.ro.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}},{key:"Xs",value:function(){my("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Gr(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){my("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Gr(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),rT=null;function iT(){return null===rT?rT=268435456+Math.round(2147483648*Math.random()):rT++,"0x"+rT.toString(16)}var aT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},oT=function(){function e(t){zr(this,e),this.so=t.so,this.oo=t.oo}return Br(e,[{key:"_o",value:function(e){this.ao=e}},{key:"uo",value:function(e){this.co=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.so(e)}},{key:"ho",value:function(){this.ao()}},{key:"Po",value:function(e){this.co(e)}},{key:"Io",value:function(e){this.lo(e)}}]),e}(),sT="WebChannelConnection",uT=function(e){Hr(n,e);var t=$r(n);function n(e){var r;return zr(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return Br(n,[{key:"fo",value:function(e,t,n,r){var i=iT();return new Promise((function(a,o){var s=new uy;s.setWithCredentials(!0),s.listenOnce(ry.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case ny.NO_ERROR:var t=s.getResponseJson();my(sT,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case ny.TIMEOUT:my(sT,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Sy(_y.DEADLINE_EXCEEDED,"Request time out"));break;case ny.HTTP_ERROR:var n=s.getStatus();if(my(sT,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(_y).indexOf(t)>=0?t:_y.UNKNOWN}(u.status);o(new Sy(c,u.message))}else o(new Sy(_y.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Sy(_y.UNAVAILABLE,"Connection failed."));break;default:by()}}finally{my(sT,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);my(sT,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"yo",value:function(e,t,n){var r=iT(),i=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ey(),o=ty(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new oy({})),this.mo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");my(sT,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,d=!1,h=new oT({so:function(t){d?my(sT,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(my(sT,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),my(sT,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,sy.EventType.OPEN,(function(){d||my(sT,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,sy.EventType.CLOSE,(function(){d||(d=!0,my(sT,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.Po())})),p(l,sy.EventType.ERROR,(function(t){d||(d=!0,yy(sT,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.Po(new Sy(_y.UNAVAILABLE,"The operation could not be completed")))})),p(l,sy.EventType.MESSAGE,(function(t){var n;if(!d){var i=t.data[0];wy(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){my(sT,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Ix[e];if(void 0!==t)return Mx(t)}(s),c=o.message;void 0===u&&(u=_y.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),d=!0,h.Po(new Sy(u,c)),l.close()}else my(sT,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.Io(i)}})),p(o,iy.STAT_EVENT,(function(t){t.stat===ay.PROXY?my(sT,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ay.NOPROXY&&my(sT,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.ho()}),0),h}}]),n}(function(){function e(t){zr(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.To=n+"://"+t.host,this.Eo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Br(e,[{key:"Ao",get:function(){return!1}},{key:"Ro",value:function(e,t,n,r,i){var a=iT(),o=this.Vo(e,t);my("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.mo(s,r,i),this.fo(e,o,s,n).then((function(t){return my("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw yy("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"po",value:function(e,t,n,r,i,a){return this.Ro(e,t,n,r,i)}},{key:"mo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+hy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Vo",value:function(e,t){var n=aT[e];return"".concat(this.To,"/v1/").concat(t,":").concat(n)}}]),e}());function cT(){return"undefined"!=typeof window?window:null}function lT(){return"undefined"!=typeof document?document:null}function fT(e){return new r_(e,!0)}var dT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;zr(this,e),this.ii=t,this.timerId=n,this.wo=r,this.So=i,this.bo=a,this.Do=0,this.vo=null,this.Co=Date.now(),this.reset()}return Br(e,[{key:"reset",value:function(){this.Do=0}},{key:"Fo",value:function(){this.Do=this.bo}},{key:"Mo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Do+this.xo()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&my("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Do," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.vo=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.Do*=this.So,this.Do<this.wo&&(this.Do=this.wo),this.Do>this.bo&&(this.Do=this.bo)}},{key:"Oo",value:function(){null!==this.vo&&(this.vo.skipDelay(),this.vo=null)}},{key:"cancel",value:function(){null!==this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"xo",value:function(){return(Math.random()-.5)*this.Do}}]),e}(),hT=function(){function e(t,n,r,i,a,o,s,u){zr(this,e),this.ii=t,this.No=r,this.Bo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Lo=0,this.ko=null,this.qo=null,this.stream=null,this.Qo=new dT(t,n)}return Br(e,[{key:"Ko",value:function(){return 1===this.state||5===this.state||this.$o()}},{key:"$o",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Uo()}},{key:"stop",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wo",value:function(){this.state=0,this.Qo.reset()}},{key:"Go",value:function(){var e=this;this.$o()&&null===this.ko&&(this.ko=this.ii.enqueueAfterDelay(this.No,6e4,(function(){return e.zo()})))}},{key:"jo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$o()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.ko&&(this.ko.cancel(),this.ko=null)}},{key:"Jo",value:function(){this.qo&&(this.qo.cancel(),this.qo=null)}},{key:"close",value:function(){var e=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.Qo.cancel(),this.Lo++,4!==t?this.Qo.reset():n&&n.code===_y.RESOURCE_EXHAUSTED?(gy(n.toString()),gy("Using maximum backoff delay to prevent overloading the backend."),this.Qo.Fo()):n&&n.code===_y.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.uo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Zo(this.Lo),n=this.Lo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,i.Z)(t,2),a=r[0],o=r[1];e.Lo===n&&e.Xo(a,o)}),(function(n){t((function(){var t=new Sy(_y.UNKNOWN,"Fetching auth token failed: "+n.message);return e.e_(t)}))}))}},{key:"Xo",value:function(e,t){var n=this,r=this.Zo(this.Lo);this.stream=this.t_(e,t),this.stream._o((function(){r((function(){return n.state=2,n.qo=n.ii.enqueueAfterDelay(n.Bo,1e4,(function(){return n.$o()&&(n.state=3),Promise.resolve()})),n.listener._o()}))})),this.stream.uo((function(e){r((function(){return n.e_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Uo",value:function(){var e=this;this.state=5,this.Qo.Mo(Ri(Pi().mark((function t(){return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"e_",value:function(e){return my("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Zo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Lo===e?n():(my("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),pT=function(e){Hr(n,e);var t=$r(n);function n(e,r,i,a,o,s){var u;return zr(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return Br(n,[{key:"t_",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:by()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(wy(void 0===t||"string"==typeof t),sb.fromBase64String(t||"")):(wy(void 0===t||t instanceof Uint8Array),sb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?_y.UNKNOWN:Mx(e.code);return new Sy(t,e.message||"")}(o);n=new Qx(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=d_(e,u.document.name),l=u_(u.document.updateTime),f=u.document.createTime?u_(u.document.createTime):Vy.min(),d=new Fb({mapValue:{fields:u.document.fields}}),h=Vb.newFoundDocument(c,l,f,d),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Kx(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=d_(e,m.document),y=m.readTime?u_(m.readTime):Vy.min(),k=Vb.newNoDocument(g,y),b=m.removedTargetIds||[];n=new Kx([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=d_(e,w.document),_=w.removedTargetIds||[];n=new Kx([],_,x,null)}else{if(!("filter"in t))return by();t.filter;var S=t.filter;S.targetId;var E=S.count,T=void 0===E?0:E,I=S.unchangedNames,C=new Dx(T,I),A=S.targetId;n=new Zx(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Vy.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Vy.min():t.readTime?u_(t.readTime):Vy.min()}(e);return this.listener.n_(t,n)}},{key:"r_",value:function(e){var t={};t.database=v_(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=vw(r)?{documents:x_(e,r)}:{query:__(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=o_(e,t.resumeToken);var i=i_(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Vy.min())>0){n.readTime=a_(e,t.snapshotVersion.toTimestamp());var a=i_(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return by()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.jo(t)}},{key:"i_",value:function(e){var t={};t.database=v_(this.serializer),t.removeTarget=e,this.jo(t)}}]),n}(hT),vT=function(e){Hr(n,e);var t=$r(n);function n(e,r,i,a,o,s){var u;return zr(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.s_=!1,u}return Br(n,[{key:"o_",get:function(){return this.s_}},{key:"start",value:function(){this.s_=!1,this.lastStreamToken=void 0,vo(Kr(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.s_&&this.__([])}},{key:"t_",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(wy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.s_){this.Qo.reset();var t=function(e,t){return e&&e.length>0?(wy(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?u_(e.updateTime):u_(t);return n.isEqual(Vy.min())&&(n=u_(t)),new hx(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=u_(e.commitTime);return this.listener.a_(n,t)}return wy(!e.writeResults||0===e.writeResults.length),this.s_=!0,this.listener.u_()}},{key:"c_",value:function(){var e={};e.database=v_(this.serializer),this.jo(e)}},{key:"__",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return b_(t.serializer,e)}))};this.jo(n)}}]),n}(hT),mT=function(e){Hr(n,e);var t=$r(n);function n(e,r,i,a){var o;return zr(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.l_=!1,o}return Br(n,[{key:"h_",value:function(){if(this.l_)throw new Sy(_y.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Ro",value:function(e,t,n){var r=this;return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,i.Z)(a,2),s=o[0],u=o[1];return r.connection.Ro(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_y.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Sy(_y.UNKNOWN,e.toString())}))}},{key:"po",value:function(e,t,n,r){var a=this;return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var s=(0,i.Z)(o,2),u=s[0],c=s[1];return a.connection.po(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_y.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new Sy(_y.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.l_=!0}}]),n}(Br((function e(){zr(this,e)})));var gT=function(){function e(t,n){zr(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.I_=0,this.T_=null,this.E_=!0}return Br(e,[{key:"d_",value:function(){var e=this;0===this.I_&&(this.A_("Unknown"),this.T_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.T_=null,e.R_("Backend didn't respond within 10 seconds."),e.A_("Offline"),Promise.resolve()})))}},{key:"V_",value:function(e){"Online"===this.state?this.A_("Unknown"):(this.I_++,this.I_>=1&&(this.m_(),this.R_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.A_("Offline")))}},{key:"set",value:function(e){this.m_(),this.I_=0,"Online"===e&&(this.E_=!1),this.A_(e)}},{key:"A_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"R_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.E_?(gy(t),this.E_=!1):my("OnlineStateTracker",t)}},{key:"m_",value:function(){null!==this.T_&&(this.T_.cancel(),this.T_=null)}}]),e}(),yT=Br((function e(t,n,r,i,a){var o=this;zr(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.f_=[],this.g_=new Map,this.p_=new Set,this.y_=[],this.w_=a,this.w_.Ys((function(e){r.enqueueAndForget(Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=AT(o),!e.t0){e.next=5;break}return my("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xy(t)).p_.add(4),e.next=4,wT(n);case 4:return n.S_.set("Unknown"),n.p_.delete(4),e.next=8,kT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.S_=new gT(r,i)}));function kT(e){return bT.apply(this,arguments)}function bT(){return(bT=Ri(Pi().mark((function e(t){var n,r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!AT(t)){e.next=18;break}n=Gr(t.y_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function wT(e){return xT.apply(this,arguments)}function xT(){return(xT=Ri(Pi().mark((function e(t){var n,r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Gr(t.y_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function _T(e,t){var n=xy(e);n.g_.has(t.targetId)||(n.g_.set(t.targetId,t),CT(n)?IT(n):iI(n).$o()&&ET(n,t))}function ST(e,t){var n=xy(e),r=iI(n);n.g_.delete(t),r.$o()&&TT(n,t),0===n.g_.size&&(r.$o()?r.Go():AT(n)&&n.S_.set("Unknown"))}function ET(e,t){if(e.b_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vy.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}iI(e).r_(t)}function TT(e,t){e.b_.Be(t),iI(e).i_(t)}function IT(e){e.b_=new Yx({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ut:function(t){return e.g_.get(t)||null},rt:function(){return e.datastore.serializer.databaseId}}),iI(e).start(),e.S_.d_()}function CT(e){return AT(e)&&!iI(e).Ko()&&e.g_.size>0}function AT(e){return 0===xy(e).p_.size}function PT(e){e.b_=void 0}function NT(e){return OT.apply(this,arguments)}function OT(){return(OT=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.g_.forEach((function(e,n){ET(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RT(e,t){return DT.apply(this,arguments)}function DT(){return(DT=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:PT(t),CT(t)?(t.S_.V_(n),IT(t)):t.S_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LT(e,t,n){return MT.apply(this,arguments)}function MT(){return MT=Ri(Pi().mark((function e(t,n,r){var i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.S_.set("Online"),!(n instanceof Qx&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ri(Pi().mark((function e(t,n){var r,i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Gr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.g_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.g_.delete(o),t.b_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),my("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,jT(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Kx?t.b_.We(n):n instanceof Zx?t.b_.Ze(n):t.b_.je(n),r.isEqual(Vy.min())){e.next=29;break}return e.prev=14,e.next=17,PE(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.b_.st(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.g_.get(r);i&&e.g_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.g_.get(t);if(r){e.g_.set(t,r.withResumeToken(sb.EMPTY_BYTE_STRING,r.snapshotVersion)),TT(e,t);var i=new D_(r.target,t,n,r.sequenceNumber);ET(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),my("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,jT(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),MT.apply(this,arguments)}function jT(e,t,n){return FT.apply(this,arguments)}function FT(){return(FT=Ri(Pi().mark((function e(t,n,r){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lk(n)){e.next=2;break}throw n;case 2:return t.p_.add(1),e.next=5,wT(t);case 5:t.S_.set("Offline"),r||(r=function(){return PE(t.localStore)}),t.asyncQueue.enqueueRetryable(Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return my("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.p_.delete(1),e.next=6,kT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zT(e,t){return t().catch((function(n){return jT(e,n,t)}))}function VT(e){return UT.apply(this,arguments)}function UT(){return UT=Ri(Pi().mark((function e(t){var n,r,i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xy(t),r=aI(n),i=n.f_.length>0?n.f_[n.f_.length-1].batchId:-1;case 2:if(!BT(n)){e.next=19;break}return e.prev=3,e.next=6,RE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.f_.length&&r.Go(),e.abrupt("break",19);case 10:i=a.batchId,qT(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,jT(n,e.t0);case 17:e.next=2;break;case 19:GT(n)&&WT(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),UT.apply(this,arguments)}function BT(e){return AT(e)&&e.f_.length<10}function qT(e,t){e.f_.push(t);var n=aI(e);n.$o()&&n.o_&&n.__(t.mutations)}function GT(e){return AT(e)&&!aI(e).Ko()&&e.f_.length>0}function WT(e){aI(e).start()}function HT(e){return KT.apply(this,arguments)}function KT(){return(KT=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:aI(t).c_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZT(e){return QT.apply(this,arguments)}function QT(){return(QT=Ri(Pi().mark((function e(t){var n,r,i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=aI(t),r=Gr(t.f_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.__(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $T(e,t,n){return YT.apply(this,arguments)}function YT(){return YT=Ri(Pi().mark((function e(t,n,r){var i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.f_.shift(),a=Ox.from(i,n,r),e.next=3,zT(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,VT(t);case 5:case"end":return e.stop()}}),e)}))),YT.apply(this,arguments)}function XT(e,t){return JT.apply(this,arguments)}function JT(){return JT=Ri(Pi().mark((function e(t,n){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&aI(t).o_,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ri(Pi().mark((function e(t,n){var r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Lx(e)&&e!==_y.ABORTED}(n.code)){e.next=7;break}return r=t.f_.shift(),aI(t).Wo(),e.next=5,zT(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,VT(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:GT(t)&&WT(t);case 5:case"end":return e.stop()}}),e)}))),JT.apply(this,arguments)}function eI(e,t){return tI.apply(this,arguments)}function tI(){return tI=Ri(Pi().mark((function e(t,n){var r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=xy(t)).asyncQueue.verifyOperationInProgress(),my("RemoteStore","RemoteStore received new credentials"),i=AT(r),r.p_.add(3),e.next=6,wT(r);case 6:return i&&r.S_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.p_.delete(3),e.next=12,kT(r);case 12:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e,t){return rI.apply(this,arguments)}function rI(){return(rI=Ri(Pi().mark((function e(t,n){var r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xy(t),!n){e.next=7;break}return r.p_.delete(2),e.next=5,kT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.p_.add(2),e.next=12,wT(r);case 12:r.S_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iI(e){return e.D_||(e.D_=function(e,t,n){var r=xy(e);return r.h_(),new pT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:NT.bind(null,e),uo:RT.bind(null,e),n_:LT.bind(null,e)}),e.y_.push(function(){var t=Ri(Pi().mark((function t(n){return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.D_.Wo(),CT(e)?IT(e):e.S_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.D_.stop();case 6:PT(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.D_}function aI(e){return e.v_||(e.v_=function(e,t,n){var r=xy(e);return r.h_(),new vT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:HT.bind(null,e),uo:XT.bind(null,e),u_:ZT.bind(null,e),a_:$T.bind(null,e)}),e.y_.push(function(){var t=Ri(Pi().mark((function t(n){return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.v_.Wo(),t.next=4,VT(e);case 4:t.next=9;break;case 6:return t.next=8,e.v_.stop();case 8:e.f_.length>0&&(my("RemoteStore","Stopping write stream with ".concat(e.f_.length," pending writes")),e.f_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.v_}var oI=function(){function e(t,n,r,i,a){zr(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ey,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Br(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sy(_y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function sI(e,t){if(gy("AsyncQueue","".concat(t,": ").concat(e)),lk(e))return new Sy(_y.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var uI=function(){function e(t){zr(this,e),this.comparator=t?function(e,n){return t(e,n)||Wy.comparator(e.key,n.key)}:function(e,t){return Wy.comparator(e.key,t.key)},this.keyedMap=Uw(),this.sortedSet=new Jk(this.comparator)}return Br(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),cI=function(){function e(){zr(this,e),this.C_=new Jk(Wy.comparator)}return Br(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.C_.get(t);n?0!==e.type&&3===n.type?this.C_=this.C_.insert(t,e):3===e.type&&1!==n.type?this.C_=this.C_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.C_=this.C_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.C_=this.C_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.C_=this.C_.remove(t):1===e.type&&2===n.type?this.C_=this.C_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.C_=this.C_.insert(t,{type:2,doc:e.doc}):by():this.C_=this.C_.insert(t,e)}},{key:"F_",value:function(){var e=[];return this.C_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),lI=function(){function e(t,n,r,i,a,o,s,u,c){zr(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return Br(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,uI.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),fI=Br((function e(){zr(this,e),this.M_=void 0,this.listeners=[]})),dI=Br((function e(){zr(this,e),this.queries=new jw((function(e){return Nw(e)}),Pw),this.onlineState="Unknown",this.x_=new Set}));function hI(e,t){return pI.apply(this,arguments)}function pI(){return pI=Ri(Pi().mark((function e(t,n){var r,i,a,o,s;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xy(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new fI),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.M_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=sI(e.t0,"Initialization of query '".concat(Ow(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.O_(r.onlineState),o.M_&&n.N_(o.M_)&&kI(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),pI.apply(this,arguments)}function vI(e,t){return mI.apply(this,arguments)}function mI(){return mI=Ri(Pi().mark((function e(t,n){var r,i,a,o,s;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xy(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function gI(e,t){var n,r=xy(e),i=!1,a=Gr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Gr(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.N_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.M_=o}}}catch(f){a.e(f)}finally{a.f()}i&&kI(r)}function yI(e,t,n){var r=xy(e),i=r.queries.get(t);if(i){var a,o=Gr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function kI(e){e.x_.forEach((function(e){e.next()}))}var bI=function(){function e(t,n,r){zr(this,e),this.query=t,this.B_=n,this.L_=!1,this.k_=null,this.onlineState="Unknown",this.options=r||{}}return Br(e,[{key:"N_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Gr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new lI(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.L_?this.q_(e)&&(this.B_.next(e),a=!0):this.Q_(e,this.onlineState)&&(this.K_(e),a=!0),this.k_=e,a}},{key:"onError",value:function(e){this.B_.error(e)}},{key:"O_",value:function(e){this.onlineState=e;var t=!1;return this.k_&&!this.L_&&this.Q_(this.k_,e)&&(this.K_(this.k_),t=!0),t}},{key:"Q_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.U_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"q_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.k_&&this.k_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"K_",value:function(e){e=lI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.L_=!0,this.B_.next(e)}}]),e}(),wI=function(){function e(t,n){zr(this,e),this.W_=t,this.byteLength=n}return Br(e,[{key:"G_",value:function(){return"metadata"in this.W_}}]),e}(),xI=function(){function e(t){zr(this,e),this.serializer=t}return Br(e,[{key:"os",value:function(e){return d_(this.serializer,e)}},{key:"_s",value:function(e){return e.metadata.exists?y_(this.serializer,e.document,!1):Vb.newNoDocument(this.os(e.metadata.name),this.us(e.metadata.readTime))}},{key:"us",value:function(e){return u_(e)}}]),e}(),_I=function(){function e(t,n,r){zr(this,e),this.z_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=SI(t)}return Br(e,[{key:"j_",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.W_.namedQuery)this.queries.push(e.W_.namedQuery);else if(e.W_.documentMetadata){this.documents.push({metadata:e.W_.documentMetadata}),e.W_.documentMetadata.exists||++t;var n=By.fromString(e.W_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.W_.document&&(this.documents[this.documents.length-1].document=e.W_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"H_",value:function(e){var t,n=new Map,r=new xI(this.serializer),i=Gr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.os(a.metadata.name),u=Gr(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Zw()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ri(Pi().mark((function e(){var t,n,r,i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UE(this.localStore,new xI(this.serializer),this.documents,this.z_.id);case 2:t=e.sent,n=this.H_(this.documents),r=Gr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,qE(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,J_:this.collectionGroups,Y_:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function SI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var EI=Br((function e(t){zr(this,e),this.key=t})),TI=Br((function e(t){zr(this,e),this.key=t})),II=function(){function e(t,n){zr(this,e),this.query=t,this.Z_=n,this.X_=null,this.hasCachedResults=!1,this.current=!1,this.ea=Zw(),this.mutatedKeys=Zw(),this.ta=Lw(t),this.na=new uI(this.ta)}return Br(e,[{key:"ra",get:function(){return this.Z_}},{key:"ia",value:function(e,t){var n=this,r=t?t.sa:new cI,i=t?t.na:this.na,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Rw(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.oa(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.ta(f,u)>0||c&&n.ta(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{na:o,sa:r,zi:s,mutatedKeys:a}}},{key:"oa",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.na;this.na=e.na,this.mutatedKeys=e.mutatedKeys;var a=e.sa.F_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return by()}};return n(e)-n(t)}(e.type,t.type)||r.ta(e.doc,t.doc)})),this._a(n);var o=t?this.aa():[],s=0===this.ea.size&&this.current?1:0,u=s!==this.X_;return this.X_=s,0!==a.length||u?{snapshot:new lI(this.query,e.na,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),ua:o}:{ua:o}}},{key:"O_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({na:this.na,sa:new cI,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ua:[]}}},{key:"ca",value:function(e){return!this.Z_.has(e)&&!!this.na.has(e)&&!this.na.get(e).hasLocalMutations}},{key:"_a",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Z_=t.Z_.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Z_=t.Z_.delete(e)})),this.current=e.current)}},{key:"aa",value:function(){var e=this;if(!this.current)return[];var t=this.ea;this.ea=Zw(),this.na.forEach((function(t){e.ca(t.key)&&(e.ea=e.ea.add(t.key))}));var n=[];return t.forEach((function(t){e.ea.has(t)||n.push(new TI(t))})),this.ea.forEach((function(e){t.has(e)||n.push(new EI(e))})),n}},{key:"la",value:function(e){this.Z_=e.ss,this.ea=Zw();var t=this.ia(e.documents);return this.applyChanges(t,!0)}},{key:"ha",value:function(){return lI.fromInitialDocuments(this.query,this.na,this.mutatedKeys,0===this.X_,this.hasCachedResults)}}]),e}(),CI=Br((function e(t,n,r){zr(this,e),this.query=t,this.targetId=n,this.view=r})),AI=Br((function e(t){zr(this,e),this.key=t,this.Pa=!1})),PI=function(){function e(t,n,r,i,a,o){zr(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ia={},this.Ta=new jw((function(e){return Nw(e)}),Pw),this.Ea=new Map,this.da=new Set,this.Aa=new Jk(Wy.comparator),this.Ra=new Map,this.Va=new sE,this.ma={},this.fa=new Map,this.ga=MS.On(),this.onlineState="Unknown",this.pa=void 0}return Br(e,[{key:"isPrimaryClient",get:function(){return!0===this.pa}}]),e}();function NI(e,t){return OI.apply(this,arguments)}function OI(){return OI=Ri(Pi().mark((function e(t,n){var r,i,a,o,s,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=SC(t),!(o=r.Ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ha(),e.next=15;break;case 6:return e.next=8,DE(r.localStore,Iw(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,RI(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&_T(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}function RI(e,t,n,r,i){return DI.apply(this,arguments)}function DI(){return DI=Ri(Pi().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ya=function(e,n,r){return function(){var e=Ri(Pi().mark((function e(t,n,r,i){var a,o,s;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ia(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,jE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ia(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(eC(t,n.targetId,s.ua),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,jE(t.localStore,n,!0);case 3:return o=e.sent,s=new II(n,o.ss),u=s.ia(o.documents),c=Hx.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),eC(t,r,l.ua),f=new CI(n,r,s),e.abrupt("return",(t.Ta.set(n,f),t.Ea.has(r)?t.Ea.get(r).push(n):t.Ea.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}function LI(e,t){return MI.apply(this,arguments)}function MI(){return MI=Ri(Pi().mark((function e(t,n){var r,i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xy(t),i=r.Ta.get(n),!((a=r.Ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Ea.set(i.targetId,a.filter((function(e){return!Pw(e,n)}))),void r.Ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,LE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ST(r.remoteStore,i.targetId),XI(r,i.targetId)})).catch(rk);case 9:e.next=14;break;case 11:return XI(r,i.targetId),e.next=14,LE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}function jI(e,t,n){return FI.apply(this,arguments)}function FI(){return FI=Ri(Pi().mark((function e(t,n,r){var i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=EC(t),e.prev=1,e.next=4,function(e,t){var n,r,i=xy(e),a=zy.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Zw());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=zw(),u=Zw();return i.Xi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Gr(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=bx(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new _x(c.key,l,zb(l.value.mapValue),px.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Bw(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ma[e.currentUser.toKey()];r||(r=new Jk(My)),r=r.insert(t,n),e.ma[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,rC(i,a.changes);case 9:return e.next=11,VT(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=sI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),FI.apply(this,arguments)}function zI(e,t){return VI.apply(this,arguments)}function VI(){return VI=Ri(Pi().mark((function e(t,n){var r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xy(t),e.prev=1,e.next=4,NE(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Ra.get(t);n&&(wy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Pa=!0:e.modifiedDocuments.size>0?wy(n.Pa):e.removedDocuments.size>0&&(wy(n.Pa),n.Pa=!1))})),e.next=8,rC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,rk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),VI.apply(this,arguments)}function UI(e,t,n){var r=xy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ta.forEach((function(e,n){var r=n.view.O_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=xy(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Gr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.O_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&kI(n)}(r.eventManager,t),i.length&&r.Ia.n_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function BI(e,t,n){return qI.apply(this,arguments)}function qI(){return qI=Ri(Pi().mark((function e(t,n,r){var i,a,o,s,u,c;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=xy(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Ra.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Jk(Wy.comparator)).insert(o,Vb.newNoDocument(o,Vy.min())),u=Zw().add(o),c=new Wx(Vy.min(),new Map,new Jk(My),s,u),e.next=9,zI(i,c);case 9:i.Aa=i.Aa.remove(o),i.Ra.delete(n),nC(i),e.next=16;break;case 14:return e.next=16,LE(i.localStore,n,!1).then((function(){return XI(i,n,r)})).catch(rk);case 16:case"end":return e.stop()}}),e)}))),qI.apply(this,arguments)}function GI(e,t){return WI.apply(this,arguments)}function WI(){return WI=Ri(Pi().mark((function e(t,n){var r,i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xy(t),i=n.batch.batchId,e.prev=1,e.next=4,AE(r.localStore,n);case 4:return a=e.sent,YI(r,i,null),$I(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,rC(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,rk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),WI.apply(this,arguments)}function HI(e,t,n){return KI.apply(this,arguments)}function KI(){return KI=Ri(Pi().mark((function e(t,n,r){var i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xy(t),e.prev=1,e.next=4,function(e,t){var n=xy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return wy(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,YI(i,n,r),$I(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,rC(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,rk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),KI.apply(this,arguments)}function ZI(e,t){return QI.apply(this,arguments)}function QI(){return QI=Ri(Pi().mark((function e(t,n){var r,i,a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AT((r=xy(t)).remoteStore)||my("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=xy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.fa.get(i)||[]).push(n),r.fa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=sI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),QI.apply(this,arguments)}function $I(e,t){(e.fa.get(t)||[]).forEach((function(e){e.resolve()})),e.fa.delete(t)}function YI(e,t,n){var r=xy(e),i=r.ma[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ma[r.currentUser.toKey()]=i}}function XI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Gr(e.Ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ta.delete(a),n&&e.Ia.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Ea.delete(t),e.isPrimaryClient&&e.Va.Ar(t).forEach((function(t){e.Va.containsKey(t)||JI(e,t)}))}function JI(e,t){e.da.delete(t.path.canonicalString());var n=e.Aa.get(t);null!==n&&(ST(e.remoteStore,n),e.Aa=e.Aa.remove(t),e.Ra.delete(n),nC(e))}function eC(e,t,n){var r,i=Gr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof EI?(e.Va.addReference(a.key,t),tC(e,a)):a instanceof TI?(my("SyncEngine","Document no longer in limbo: "+a.key),e.Va.removeReference(a.key,t),e.Va.containsKey(a.key)||JI(e,a.key)):by()}}catch(o){i.e(o)}finally{i.f()}}function tC(e,t){var n=t.key,r=n.path.canonicalString();e.Aa.get(n)||e.da.has(r)||(my("SyncEngine","New document in limbo: "+n),e.da.add(r),nC(e))}function nC(e){for(;e.da.size>0&&e.Aa.size<e.maxConcurrentLimboResolutions;){var t=e.da.values().next().value;e.da.delete(t);var n=new Wy(By.fromString(t)),r=e.ga.next();e.Ra.set(r,new AI(n)),e.Aa=e.Aa.insert(n,r),_T(e.remoteStore,new D_(Iw(ww(n.path)),r,"TargetPurposeLimboResolution",gk.ae))}}function rC(e,t,n){return iC.apply(this,arguments)}function iC(){return iC=Ri(Pi().mark((function e(t,n,r){var i,a,o,s;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xy(t),a=[],o=[],s=[],e.t0=i.Ta.isEmpty(),e.t0){e.next=9;break}return i.Ta.forEach((function(e,t){s.push(i.ya(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=_E.qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Ia.n_(a),e.next=9,function(){var e=Ri(Pi().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xy(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ak.forEach(n,(function(t){return ak.forEach(t.Li,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ak.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),lk(e.t0)){e.next=10;break}throw e.t0;case 10:my("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Gr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ji.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),iC.apply(this,arguments)}function aC(e,t){return oC.apply(this,arguments)}function oC(){return(oC=Ri(Pi().mark((function e(t,n){var r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=xy(t)).currentUser.isEqual(n)){e.next=11;break}return my("SyncEngine","User change. New user:",n.toKey()),e.next=5,IE(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.fa.forEach((function(e){e.forEach((function(e){e.reject(new Sy(_y.CANCELLED,t))}))})),e.fa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,rC(r,i.ts);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sC(e,t){var n=xy(e),r=n.Ra.get(t);if(r&&r.Pa)return Zw().add(r.key);var i=Zw(),a=n.Ea.get(t);if(!a)return i;var o,s=Gr(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Ta.get(u);i=i.unionWith(c.view.ra)}}catch(l){s.e(l)}finally{s.f()}return i}function uC(e,t){return cC.apply(this,arguments)}function cC(){return cC=Ri(Pi().mark((function e(t,n){var r,i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xy(t),e.next=3,jE(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.la(i),e.abrupt("return",(r.isPrimaryClient&&eC(r,n.targetId,a.ua),a));case 6:case"end":return e.stop()}}),e)}))),cC.apply(this,arguments)}function lC(e,t){return fC.apply(this,arguments)}function fC(){return(fC=Ri(Pi().mark((function e(t,n){var r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xy(t),e.abrupt("return",zE(r.localStore,n).then((function(e){return rC(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dC(e,t,n,r){return hC.apply(this,arguments)}function hC(){return hC=Ri(Pi().mark((function e(t,n,r,i){var a,o;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xy(t),e.next=3,function(e,t){var n=xy(e),r=xy(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Dn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ak.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,VT(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(YI(a,n,i||null),$I(a,n),function(e,t){xy(xy(e).mutationQueue).Cn(t)}(a.localStore,n)):by();case 11:return e.next=13,rC(a,o);case 13:e.next=16;break;case 15:my("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function pC(e,t){return vC.apply(this,arguments)}function vC(){return(vC=Ri(Pi().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(SC(r=xy(t)),EC(r),!0!==n||!0===r.pa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,mC(r,i.toArray());case 5:return a=e.sent,r.pa=!0,e.next=9,nI(r.remoteStore,!0);case 9:o=Gr(a);try{for(o.s();!(s=o.n()).done;)u=s.value,_T(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.pa){e.next=25;break}return c=[],l=Promise.resolve(),r.Ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return XI(r,t),LE(r.localStore,t,!0)})),ST(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,mC(r,c);case 21:return function(e){var t=xy(e);t.Ra.forEach((function(e,n){ST(t.remoteStore,n)})),t.Va.Rr(),t.Ra=new Map,t.Aa=new Jk(Wy.comparator)}(r),r.pa=!1,e.next=25,nI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mC(e,t,n){return gC.apply(this,arguments)}function gC(){return gC=Ri(Pi().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,h,p,v,m,g;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=xy(t),a=[],o=[],s=Gr(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Ea.get(c))||0===f.length){e.next=34;break}return e.next=11,DE(i.localStore,Iw(f[0]));case 11:l=e.sent,d=Gr(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.Ta.get(p),e.next=20,uC(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,FE(i.localStore,c);case 36:return g=e.sent,e.next=39,DE(i.localStore,g);case 39:return l=e.sent,e.next=42,RI(i,yC(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ia.n_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),gC.apply(this,arguments)}function yC(e){return bw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function kC(e){return function(e){return xy(xy(e).persistence).Ni()}(xy(e).localStore)}function bC(e,t,n,r){return wC.apply(this,arguments)}function wC(){return wC=Ri(Pi().mark((function e(t,n,r,i){var a,o,s,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=xy(t)).pa){e.next=3;break}return e.abrupt("return",void my("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.Ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,zE(a.localStore,Dw(o[0]));case 10:return s=e.sent,u=Wx.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,sb.EMPTY_BYTE_STRING),e.next=14,rC(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,LE(a.localStore,n,!0);case 17:return XI(a,n,i),e.abrupt("break",20);case 19:by();case 20:case"end":return e.stop()}}),e)}))),wC.apply(this,arguments)}function xC(e,t,n){return _C.apply(this,arguments)}function _C(){return _C=Ri(Pi().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=SC(t)).pa){e.next=45;break}a=Gr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Ea.has(s)){e.next=10;break}return my("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,FE(i.localStore,s);case 12:return u=e.sent,e.next=15,DE(i.localStore,u);case 15:return c=e.sent,e.next=18,RI(i,yC(u),c.targetId,!1,c.resumeToken);case 18:_T(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Gr(r),e.prev=30,d=Pi().mark((function e(){var t;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Ea.has(t),!e.t0){e.next=5;break}return e.next=5,LE(i.localStore,t,!1).then((function(){ST(i.remoteStore,t),XI(i,t)})).catch(rk);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),_C.apply(this,arguments)}function SC(e){var t=xy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BI.bind(null,t),t.Ia.n_=gI.bind(null,t.eventManager),t.Ia.wa=yI.bind(null,t.eventManager),t}function EC(e){var t=xy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HI.bind(null,t),t}function TC(e,t,n){var r=xy(e);(function(){var e=Ri(Pi().mark((function e(t,n,r){var i,a,o,s,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=xy(e),r=u_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Qr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(SI(i)),a=new _I(i,t.localStore,n.serializer),e.next=15,n.Sa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.j_(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.Sa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,rC(t,u.Y_,void 0);case 31:return e.next=33,function(e,t){var n=xy(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Qr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.J_));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(yy("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var IC=function(){function e(){zr(this,e),this.synchronizeTabs=!1}return Br(e,[{key:"initialize",value:function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=fT(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return TE(this.persistence,new SE,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new hE(vE.zr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new eT}},{key:"terminate",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),CC=function(e){Hr(n,e);var t=$r(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this)).ba=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Br(n,[{key:"initialize",value:function(){var e=Ri(Pi().mark((function e(t){var r=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vo(Kr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ba.initialize(this,t);case 4:return e.next=6,EC(this.ba.syncEngine);case 6:return e.next=8,VT(this.ba.remoteStore);case 8:return e.next=10,this.persistence.Vi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return TE(this.persistence,new SE,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new qS(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new mk(t,this.persistence);return new vk(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=xE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?CS.withCacheSize(this.cacheSizeBytes):CS.DEFAULT;return new kE(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,cT(),lT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new eT}}]),n}(IC),AC=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e,r,!1)).ba=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Br(n,[{key:"initialize",value:function(){var e=Ri(Pi().mark((function e(t){var r,i=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vo(Kr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ba.syncEngine,e.t0=this.sharedClientState instanceof JE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Gs:dC.bind(null,r),zs:bC.bind(null,r),js:xC.bind(null,r),Ni:kC.bind(null,r),Ws:lC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Vi(function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pC(i.ba.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=cT();if(!JE.v(t))throw new Sy(_y.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=xE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new JE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(CC),PC=function(){function e(){zr(this,e)}return Br(e,[{key:"initialize",value:function(){var e=Ri(Pi().mark((function e(t,n){var r=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return UI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=aC.bind(null,this.syncEngine),e.next=12,nI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new dI}},{key:"createDatastore",value:function(e){var t=fT(e.databaseInfo.databaseId),n=function(e){return new uT(e)}(e.databaseInfo);return function(e,t,n,r){return new mT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new yT(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return UI(t.syncEngine,e,0)}),nT.v()?new nT:new tT)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new PI(e,t,n,r,i,a);return o&&(s.pa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xy(t),my("RemoteStore","RemoteStore shutting down."),n.p_.add(5),e.next=5,wT(n);case 5:n.w_.shutdown(),n.S_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function NC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ri(Pi().mark((function r(){var i;return Pi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var OC=function(){function e(t){zr(this,e),this.observer=t,this.muted=!1}return Br(e,[{key:"next",value:function(e){this.observer.next&&this.Da(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Da(this.observer.error,e):gy("Uncaught Error in snapshot listener:",e.toString())}},{key:"va",value:function(){this.muted=!0}},{key:"Da",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),RC=function(){function e(t,n){var r=this;zr(this,e),this.Ca=t,this.serializer=n,this.metadata=new Ey,this.buffer=new Uint8Array,this.Fa=new TextDecoder("utf-8"),this.Ma().then((function(e){e&&e.G_()?r.metadata.resolve(e.W_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.W_))))}),(function(e){return r.metadata.reject(e)}))}return Br(e,[{key:"close",value:function(){return this.Ca.cancel()}},{key:"getMetadata",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ma());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ma",value:function(){var e=Ri(Pi().mark((function e(){var t,n,r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.xa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Fa.decode(t),r=Number(n),isNaN(r)&&this.Oa("length string (".concat(n,") is not valid number")),e.next=9,this.Na(r);case 9:return i=e.sent,e.abrupt("return",new wI(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ba",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"xa",value:function(){var e=Ri(Pi().mark((function e(){var t,n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Ba()<0)){e.next=7;break}return e.next=3,this.La();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Ba())<0&&this.Oa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Na",value:function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.La();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Oa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Fa.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Oa",value:function(e){throw this.Ca.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"La",value:function(){var e=Ri(Pi().mark((function e(){var t,n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ca.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),DC=function(){function e(t){zr(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Br(e,[{key:"lookup",value:function(){var e=Ri(Pi().mark((function e(t){var n,r=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Sy(_y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ri(Pi().mark((function e(t,n){var r,i,a,o,s,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xy(t),i=v_(r.serializer)+"/documents",a={documents:n.map((function(e){return f_(r.serializer,e)}))},e.next=5,r.po("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=k_(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());wy(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ax(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ri(Pi().mark((function e(){var t,n=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Wy.fromPath(t);n.mutations.push(new Px(r,n.precondition(r)))})),e.next=7,function(){var e=Ri(Pi().mark((function e(t,n){var r,i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xy(t),i=v_(r.serializer)+"/documents",a={writes:n.map((function(e){return b_(r.serializer,e)}))},e.next=3,r.Ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw by();t=Vy.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Sy(_y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Vy.min())?px.exists(!1):px.updateTime(t):px.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vy.min()))throw new Sy(_y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return px.updateTime(t)}return px.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),LC=function(){function e(t,n,r,i,a){zr(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.ka=r.maxAttempts,this.Qo=new dT(this.asyncQueue,"transaction_retry")}return Br(e,[{key:"run",value:function(){this.ka-=1,this.qa()}},{key:"qa",value:function(){var e=this;this.Qo.Mo(Ri(Pi().mark((function t(){var n,r;return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new DC(e.datastore),(r=e.Qa(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ka(t)}))}))})).catch((function(t){e.Ka(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Qa",value:function(e){try{var t=this.updateFunction(e);return!yk(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ka",value:function(e){var t=this;this.ka>0&&this.$a(e)?(this.ka-=1,this.asyncQueue.enqueueAndForget((function(){return t.qa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Lx(t)}return!1}}]),e}(),MC=function(){function e(t,n,r,i){var a=this;zr(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dy.UNAUTHENTICATED,this.clientId=Ly.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return my("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return my("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Br(e,[{key:"getConfiguration",value:function(){var e=Ri(Pi().mark((function e(){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Sy(_y.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ey;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ri(Pi().mark((function n(){var r;return Pi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=sI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function jC(e,t){return FC.apply(this,arguments)}function FC(){return FC=Ri(Pi().mark((function e(t,n){var r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),my("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,IE(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),FC.apply(this,arguments)}function zC(e,t){return VC.apply(this,arguments)}function VC(){return VC=Ri(Pi().mark((function e(t,n){var r,i;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,BC(t);case 3:return r=e.sent,my("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return eI(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return eI(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),VC.apply(this,arguments)}function UC(e){return"FirebaseError"===e.name?e.code===_y.FAILED_PRECONDITION||e.code===_y.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function BC(e){return qC.apply(this,arguments)}function qC(){return(qC=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return my("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,jC(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),UC(n=e.t0)){e.next=13;break}throw n;case 13:return yy("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,jC(t,new IC);case 16:e.next=21;break;case 18:return my("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,jC(t,new IC);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function GC(e){return WC.apply(this,arguments)}function WC(){return(WC=Ri(Pi().mark((function e(t){return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return my("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,zC(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return my("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,zC(t,new PC);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HC(e){return BC(e).then((function(e){return e.persistence}))}function KC(e){return BC(e).then((function(e){return e.localStore}))}function ZC(e){return GC(e).then((function(e){return e.remoteStore}))}function QC(e){return GC(e).then((function(e){return e.syncEngine}))}function $C(e){return GC(e).then((function(e){return e.datastore}))}function YC(e){return XC.apply(this,arguments)}function XC(){return(XC=Ri(Pi().mark((function e(t){var n,r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GC(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=NI.bind(null,n.syncEngine),r.onUnlisten=LI.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ey;return e.asyncQueue.enqueueAndForget(Ri(Pi().mark((function i(){return Pi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new OC({next:function(a){t.enqueueAndForget((function(){return vI(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Sy(_y.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Sy(_y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new bI(ww(n.path),a,{includeMetadataChanges:!0,U_:!0});return hI(e,o)},i.next=3,YC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function eA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ey;return e.asyncQueue.enqueueAndForget(Ri(Pi().mark((function i(){return Pi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new OC({next:function(n){t.enqueueAndForget((function(){return vI(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Sy(_y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new bI(n,a,{includeMetadataChanges:!0,U_:!0});return hI(e,o)},i.next=3,YC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function tA(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var nA=new Map;function rA(e,t,n){if(!n)throw new Sy(_y.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function iA(e,t,n,r){if(!0===t&&!0===r)throw new Sy(_y.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function aA(e){if(!Wy.isDocumentKey(e))throw new Sy(_y.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function oA(e){if(Wy.isDocumentKey(e))throw new Sy(_y.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function sA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":by()}function uA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Sy(_y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=sA(e);throw new Sy(_y.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function cA(e,t){if(t<=0)throw new Sy(_y.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var lA=function(){function e(t){var n,r;if(zr(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Sy(_y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Sy(_y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}iA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tA(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Sy(_y.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Sy(_y.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Sy(_y.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return Br(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),fA=function(){function e(t,n,r,i){zr(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lA({}),this._settingsFrozen=!1}return Br(e,[{key:"app",get:function(){if(!this._app)throw new Sy(_y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Sy(_y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Iy;switch(e.type){case"firstParty":return new Ny(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Sy(_y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=nA.get(e);t&&(my("ComponentProvider","Removing Datastore"),nA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function dA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=uA(e,fA))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&yy("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=dy.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ni(JSON.stringify({alg:"none",type:"JWT"})),ni(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Sy(_y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new dy(c)}e._authCredentials=new Cy(new Ty(s,u))}}var hA=function(){function e(t,n,r){zr(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Br(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),pA=function(){function e(t,n,r){zr(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Br(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new vA(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),vA=function(e){Hr(n,e);var t=$r(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this,e,r,ww(i)))._path=i,a.type="collection",a}return Br(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new pA(this.firestore,null,new Wy(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(hA);function mA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ai(e),rA("collection","path",t),e instanceof fA){var a=By.fromString.apply(By,[t].concat(r));return oA(a),new vA(e,null,a)}if(!(e instanceof pA||e instanceof vA))throw new Sy(_y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(By.fromString.apply(By,[t].concat(r)));return oA(o),new vA(e.firestore,null,o)}function gA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ai(e),1===arguments.length&&(t=Ly.V()),rA("doc","path",t),e instanceof fA){var a=By.fromString.apply(By,[t].concat(r));return aA(a),new pA(e,null,new Wy(a))}if(!(e instanceof pA||e instanceof vA))throw new Sy(_y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(By.fromString.apply(By,[t].concat(r)));return aA(o),new pA(e.firestore,e instanceof vA?e.converter:null,new Wy(o))}function yA(e,t){return e=Ai(e),t=Ai(t),(e instanceof pA||e instanceof vA)&&(t instanceof pA||t instanceof vA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function kA(e,t){return e=Ai(e),t=Ai(t),e instanceof hA&&t instanceof hA&&e.firestore===t.firestore&&Pw(e._query,t._query)&&e.converter===t.converter}var bA=function(){function e(){var t=this;zr(this,e),this.Ua=Promise.resolve(),this.Wa=[],this.Ga=!1,this.za=[],this.ja=null,this.Ha=!1,this.Ja=!1,this.Ya=[],this.Qo=new dT(this,"async_queue_retry"),this.Za=function(){var e=lT();e&&my("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Qo.Oo()};var n=lT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Za)}return Br(e,[{key:"isShuttingDown",get:function(){return this.Ga}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Xa(),this.eu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ga){this.Ga=!0,this.Ja=e||!1;var t=lT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Za)}}},{key:"enqueue",value:function(e){var t=this;if(this.Xa(),this.Ga)return new Promise((function(){}));var n=new Ey;return this.eu((function(){return t.Ga&&t.Ja?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Wa.push(e),t.tu()}))}},{key:"tu",value:function(){var e=Ri(Pi().mark((function e(){var t=this;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Wa.length){e.next=14;break}return e.prev=1,e.next=4,this.Wa[0]();case 4:this.Wa.shift(),this.Qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),lk(e.t0)){e.next=12;break}throw e.t0;case 12:my("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Wa.length>0&&this.Qo.Mo((function(){return t.tu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"eu",value:function(e){var t=this,n=this.Ua.then((function(){return t.Ha=!0,e().catch((function(e){t.ja=e,t.Ha=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw gy("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ha=!1,e}))}));return this.Ua=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Xa(),this.Ya.indexOf(e)>-1&&(t=0);var i=oI.createAndSchedule(this,e,t,n,(function(e){return r.nu(e)}));return this.za.push(i),i}},{key:"Xa",value:function(){this.ja&&by()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ru",value:function(){var e=Ri(Pi().mark((function e(){var t;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ua,e.next=3,t;case 3:if(t!==this.Ua){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"iu",value:function(e){var t,n=Gr(this.za);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"su",value:function(e){var t=this;return this.ru().then((function(){t.za.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Gr(t.za);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ru()}))}},{key:"ou",value:function(e){this.Ya.push(e)}},{key:"nu",value:function(e){var t=this.za.indexOf(e);this.za.splice(t,1)}}]),e}();function wA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Gr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var xA=function(){function e(){zr(this,e),this._progressObserver={},this._taskCompletionResolver=new Ey,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Br(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),_A=function(e){Hr(n,e);var t=$r(n);function n(e,r,i,a){var o;return zr(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new bA,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Br(n,[{key:"_terminate",value:function(){return this._firestoreClient||EA(this),this._firestoreClient.terminate()}}]),n}(fA);function SA(e){return e._firestoreClient||EA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function EA(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new vb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,tA(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new MC(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function TA(e,t,n){var r=new Ey;return e.asyncQueue.enqueue(Ri(Pi().mark((function i(){var a;return Pi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,jC(e,n);case 3:return i.next=5,zC(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),UC(a=i.t0)){i.next=13;break}throw a;case 13:yy("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function IA(e){return function(e){var t=new Ey;return e.asyncQueue.enqueueAndForget(Ri(Pi().mark((function n(){return Pi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ZI,n.next=3,QC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(SA(e=uA(e,_A)))}function CA(e){return function(e){return e.asyncQueue.enqueue(Ri(Pi().mark((function t(){var n,r;return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,HC(e);case 2:return n=t.sent,t.next=5,ZC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=xy(e);return t.p_.delete(0),kT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(SA(e=uA(e,_A)))}function AA(e){return function(e){return e.asyncQueue.enqueue(Ri(Pi().mark((function t(){var n,r;return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,HC(e);case 2:return n=t.sent,t.next=5,ZC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xy(t)).p_.add(0),e.next=4,wT(n);case 4:n.S_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(SA(e=uA(e,_A)))}function PA(e,t){var n=SA(e=uA(e,_A)),r=new xA;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new RC(e,t)}(function(e,t){if(e instanceof Uint8Array)return NC(e,t);if(e instanceof ArrayBuffer)return NC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?zx().encode(e):e),t)}(n,fT(t));e.asyncQueue.enqueueAndForget(Ri(Pi().mark((function t(){return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=TC,t.next=3,QC(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function NA(e,t){return function(e,t){return e.asyncQueue.enqueue(Ri(Pi().mark((function n(){return Pi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=xy(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Qr.getNamedQuery(e,t)}))},n.next=3,KC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(SA(e=uA(e,_A)),t).then((function(t){return t?new hA(e,null,t.query):null}))}function OA(e){if(e._initialized||e._terminated)throw new Sy(_y.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var RA=function(){function e(t){zr(this,e),this._byteString=t}return Br(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(sb.fromBase64String(t))}catch(t){throw new Sy(_y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(sb.fromUint8Array(t))}}]),e}(),DA=function(){function e(){zr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Sy(_y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gy(n)}return Br(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var LA=Br((function e(t){zr(this,e),this._methodName=t})),MA=function(){function e(t,n){if(zr(this,e),!isFinite(t)||t<-90||t>90)throw new Sy(_y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Sy(_y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Br(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return My(this._lat,e._lat)||My(this._long,e._long)}}]),e}(),jA=/^__.*__$/,FA=function(){function e(t,n,r){zr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Br(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new _x(e,this.data,this.fieldMask,t,this.fieldTransforms):new xx(e,this.data,t,this.fieldTransforms)}}]),e}(),zA=function(){function e(t,n,r){zr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Br(e,[{key:"toMutation",value:function(e,t){return new _x(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function VA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw by()}}var UA=function(){function e(t,n,r,i,a,o){zr(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this._u(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Br(e,[{key:"path",get:function(){return this.settings.path}},{key:"au",get:function(){return this.settings.au}},{key:"uu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"cu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.uu({path:n,lu:!1});return r.hu(e),r}},{key:"Pu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.uu({path:n,lu:!1});return r._u(),r}},{key:"Iu",value:function(e){return this.uu({path:void 0,lu:!0})}},{key:"Tu",value:function(e){return sP(e,this.settings.methodName,this.settings.Eu||!1,this.path,this.settings.du)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"_u",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.hu(this.path.get(e))}},{key:"hu",value:function(e){if(0===e.length)throw this.Tu("Document fields must not be empty");if(VA(this.au)&&jA.test(e))throw this.Tu('Document fields cannot begin and end with "__"')}}]),e}(),BA=function(){function e(t,n,r){zr(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||fT(t)}return Br(e,[{key:"Au",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new UA({au:e,methodName:t,du:n,path:Gy.emptyPath(),lu:!1,Eu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function qA(e){var t=e._freezeSettings(),n=fT(e._databaseId);return new BA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function GA(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Au(a.merge||a.mergeFields?2:0,t,n,i);rP("Data must be an object, but it was:",o,r);var s,u,c=tP(r,o);if(a.merge)s=new ab(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=Gr(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=iP(t,l.value,n);if(!o.contains(h))throw new Sy(_y.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));uP(f,h)||f.push(h)}}catch(p){d.e(p)}finally{d.f()}s=new ab(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new FA(new Fb(c),s,u)}var WA=function(e){Hr(n,e);var t=$r(n);function n(){return zr(this,n),t.apply(this,arguments)}return Br(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.au)throw 1===e.au?e.Tu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Tu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(LA);function HA(e,t,n){return new UA({au:3,du:t.settings.du,methodName:e._methodName,lu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var KA=function(e){Hr(n,e);var t=$r(n);function n(){return zr(this,n),t.apply(this,arguments)}return Br(n,[{key:"_toFieldTransform",value:function(e){return new dx(e.path,new ix)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(LA),ZA=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e)).Ru=r,i}return Br(n,[{key:"_toFieldTransform",value:function(e){var t=HA(this,e,!0),n=this.Ru.map((function(e){return eP(e,t)})),r=new ax(n);return new dx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(LA),QA=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e)).Ru=r,i}return Br(n,[{key:"_toFieldTransform",value:function(e){var t=HA(this,e,!0),n=this.Ru.map((function(e){return eP(e,t)})),r=new sx(n);return new dx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(LA),$A=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e)).Vu=r,i}return Br(n,[{key:"_toFieldTransform",value:function(e){var t=new cx(e.serializer,Jw(e.serializer,this.Vu));return new dx(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(LA);function YA(e,t,n,r){var i=e.Au(1,t,n);rP("Data must be an object, but it was:",i,r);var a=[],o=Fb.empty();Yk(r,(function(e,r){var s=oP(t,e,n);r=Ai(r);var u=i.Pu(s);if(r instanceof WA)a.push(s);else{var c=eP(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new ab(a);return new zA(o,s,i.fieldTransforms)}function XA(e,t,n,r,i,a){var o=e.Au(1,t,n),s=[iP(t,r,n)],u=[i];if(a.length%2!=0)throw new Sy(_y.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(iP(t,a[c])),u.push(a[c+1]);for(var l=[],f=Fb.empty(),d=s.length-1;d>=0;--d)if(!uP(l,s[d])){var h=s[d],p=u[d];p=Ai(p);var v=o.Pu(h);if(p instanceof WA)l.push(h);else{var m=eP(p,v);null!=m&&(l.push(h),f.set(h,m))}}var g=new ab(l);return new zA(f,g,o.fieldTransforms)}function JA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return eP(n,e.Au(r?4:3,t))}function eP(e,t){if(nP(e=Ai(e)))return rP("Unsupported field value:",t,e),tP(e,t);if(e instanceof LA)return function(e,t){if(!VA(t.au))throw t.Tu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Tu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.lu&&4!==t.au)throw t.Tu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Gr(e);try{for(a.s();!(n=a.n()).done;){var o=eP(n.value,t.Iu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ai(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Jw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=zy.fromDate(e);return{timestampValue:a_(t.serializer,n)}}if(e instanceof zy){var r=new zy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:a_(t.serializer,r)}}if(e instanceof MA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof RA)return{bytesValue:o_(t.serializer,e._byteString)};if(e instanceof pA){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Tu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:c_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Tu("Unsupported field value: ".concat(sA(e)))}(e,t)}function tP(e,t){var n={};return Xk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yk(e,(function(e,r){var i=eP(r,t.cu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function nP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof zy||e instanceof MA||e instanceof RA||e instanceof pA||e instanceof LA)}function rP(e,t,n){if(!nP(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=sA(n);throw"an object"===r?t.Tu(e+" a custom object"):t.Tu(e+" "+r)}}function iP(e,t,n){if((t=Ai(t))instanceof DA)return t._internalPath;if("string"==typeof t)return oP(e,t);throw sP("Field path arguments must be of type string or ",e,!1,void 0,n)}var aP=new RegExp("[~\\*/\\[\\]]");function oP(e,t,n){if(t.search(aP)>=0)throw sP("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Yr(DA,(0,Ni.Z)(t.split(".")))._internalPath}catch(np){throw sP("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sP(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Sy(_y.INVALID_ARGUMENT,s+e+u)}function uP(e,t){return e.some((function(e){return e.isEqual(t)}))}var cP=function(){function e(t,n,r,i,a){zr(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Br(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new pA(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new lP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(fP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),lP=function(e){Hr(n,e);var t=$r(n);function n(){return zr(this,n),t.apply(this,arguments)}return Br(n,[{key:"data",value:function(){return vo(Kr(n.prototype),"data",this).call(this)}}]),n}(cP);function fP(e,t){return"string"==typeof t?oP(e,t):t instanceof DA?t._internalPath:t._delegate._internalPath}function dP(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Sy(_y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var hP=Br((function e(){zr(this,e)})),pP=function(e){Hr(n,e);var t=$r(n);function n(){return zr(this,n),t.apply(this,arguments)}return Br(n)}(hP);function vP(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof hP&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof gP})).length,n=e.filter((function(e){return e instanceof mP})).length;if(t>1||t>0&&n>0)throw new Sy(_y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=Gr(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var mP=function(e){Hr(n,e);var t=$r(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Br(n,[{key:"_apply",value:function(e){var t=this._parse(e);return AP(e._query,t),new hA(e.firestore,e.converter,Cw(e._query,t))}},{key:"_parse",value:function(e){var t=qA(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Sy(_y.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){CP(o,a);var u,c=[],l=Gr(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(IP(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=IP(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||CP(o,a),s=JA(n,t,o,"in"===a||"not-in"===a);return Kb.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(pP);var gP=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Br(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Zb.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Gr(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;AP(r,a),r=Cw(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new hA(e.firestore,e.converter,Cw(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(hP);var yP=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Br(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Sy(_y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Sy(_y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Gb(t,n);return function(e,t){if(null===_w(e)){var n=Sw(e);null!==n&&PP(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new hA(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new kw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(pP);var kP=function(e){Hr(n,e);var t=$r(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Br(n,[{key:"_apply",value:function(e){return new hA(e.firestore,e.converter,Aw(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(pP);var bP=function(e){Hr(n,e);var t=$r(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Br(n,[{key:"_apply",value:function(e){var t=TP(e,this.type,this._docOrFields,this._inclusive);return new hA(e.firestore,e.converter,function(e,t){return new kw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(pP);function wP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bP._create("startAt",t,!0)}function xP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bP._create("startAfter",t,!1)}var _P=function(e){Hr(n,e);var t=$r(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Br(n,[{key:"_apply",value:function(e){var t=TP(e,this.type,this._docOrFields,this._inclusive);return new hA(e.firestore,e.converter,function(e,t){return new kw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(pP);function SP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _P._create("endBefore",t,!1)}function EP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _P._create("endAt",t,!0)}function TP(e,t,n,r){if(n[0]=Ai(n[0]),n[0]instanceof cP)return function(e,t,n,r,i){if(!r)throw new Sy(_y.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Gr(Tw(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Tb(t,r.key));else{var c=r.data.field(u.field);if(db(c))throw new Sy(_y.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Sy(_y.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Ub(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=qA(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Sy(_y.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Sy(_y.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Ew(e)&&-1!==c.indexOf("/"))throw new Sy(_y.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(By.fromString(c));if(!Wy.isDocumentKey(l))throw new Sy(_y.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Wy(l);s.push(Tb(t,f))}else{var d=JA(n,r,c);s.push(d)}}return new Ub(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function IP(e,t,n){if("string"==typeof(n=Ai(n))){if(""===n)throw new Sy(_y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ew(t)&&-1!==n.indexOf("/"))throw new Sy(_y.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(By.fromString(n));if(!Wy.isDocumentKey(r))throw new Sy(_y.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Tb(e,new Wy(r))}if(n instanceof pA)return Tb(e,n._key);throw new Sy(_y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(sA(n),"."))}function CP(e,t){if(!Array.isArray(e)||0===e.length)throw new Sy(_y.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function AP(e,t){if(t.isInequality()){var n=Sw(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Sy(_y.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=_w(e);null!==i&&PP(e,r,i)}var a=function(e,t){var n,r=Gr(e);try{for(r.s();!(n=r.n()).done;){var i,a=Gr(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Sy(_y.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Sy(_y.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function PP(e,t,n){if(!n.isEqual(t))throw new Sy(_y.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var NP=function(){function e(){zr(this,e)}return Br(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(kb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw by()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Yk(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new MA(lb(e.latitude),lb(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=hb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pb(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=cb(e);return new zy(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=By.fromString(e);wy(R_(n));var r=new mb(n.get(1),n.get(3)),i=new Wy(n.popFirst(5));return r.isEqual(t)||gy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function OP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var RP=function(e){Hr(n,e);var t=$r(n);function n(e){var r;return zr(this,n),(r=t.call(this)).firestore=e,r}return Br(n,[{key:"convertBytes",value:function(e){return new RA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new pA(this.firestore,null,t)}}]),n}(NP);var DP=function(){function e(t,n){zr(this,e),this.hasPendingWrites=t,this.fromCache=n}return Br(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),LP=function(e){Hr(n,e);var t=$r(n);function n(e,r,i,a,o,s){var u;return zr(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Br(n,[{key:"exists",value:function(){return vo(Kr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new MP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(fP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(cP),MP=function(e){Hr(n,e);var t=$r(n);function n(){return zr(this,n),t.apply(this,arguments)}return Br(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vo(Kr(n.prototype),"data",this).call(this,e)}}]),n}(LP),jP=function(){function e(t,n,r,i){zr(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new DP(i.hasPendingWrites,i.fromCache),this.query=r}return Br(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new MP(n._firestore,n._userDataWriter,r.key,r,new DP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Sy(_y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new MP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new MP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:FP(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function FP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return by()}}function zP(e,t){return e instanceof LP&&t instanceof LP?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jP&&t instanceof jP&&e._firestore===t._firestore&&kA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var VP=function(e){Hr(n,e);var t=$r(n);function n(e){var r;return zr(this,n),(r=t.call(this)).firestore=e,r}return Br(n,[{key:"convertBytes",value:function(e){return new RA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new pA(this.firestore,null,t)}}]),n}(NP);function UP(e){e=uA(e,pA);var t=uA(e.firestore,_A),n=SA(t),r=new VP(t);return function(e,t){var n=new Ey;return e.asyncQueue.enqueueAndForget(Ri(Pi().mark((function r(){return Pi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ri(Pi().mark((function e(t,n,r){var i,a;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=xy(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Sy(_y.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=sI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,KC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new LP(t,r,e._key,n,new DP(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function BP(e){e=uA(e,hA);var t=uA(e.firestore,_A),n=SA(t),r=new VP(t);return dP(e._query),eA(n,e._query).then((function(n){return new jP(t,r,e,n)}))}function qP(e){e=uA(e,hA);var t=uA(e.firestore,_A),n=SA(t),r=new VP(t);return function(e,t){var n=new Ey;return e.asyncQueue.enqueueAndForget(Ri(Pi().mark((function r(){return Pi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ri(Pi().mark((function e(t,n,r){var i,a,o,s,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jE(t,n,!0);case 3:i=e.sent,a=new II(n,i.ss),o=a.ia(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=sI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,KC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new jP(t,r,e,n)}))}function GP(e){e=uA(e,hA);var t=uA(e.firestore,_A),n=SA(t),r=new VP(t);return eA(n,e._query,{source:"server"}).then((function(n){return new jP(t,r,e,n)}))}function WP(e,t,n){e=uA(e,pA);var r=uA(e.firestore,_A),i=OP(e.converter,t,n);return QP(r,[GA(qA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,px.none())])}function HP(e,t,n){e=uA(e,pA);for(var r=uA(e.firestore,_A),i=qA(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return QP(r,[("string"==typeof(t=Ai(t))||t instanceof DA?XA(i,"updateDoc",e._key,t,n,o):YA(i,"updateDoc",e._key,t)).toMutation(e._key,px.exists(!0))])}function KP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ai(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||wA(n[u])||(s=n[u],u++);var c,l,f,d={includeMetadataChanges:s.includeMetadataChanges};if(wA(n[u])){var h=n[u];n[u]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[u+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[u+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof pA)l=uA(e.firestore,_A),f=ww(e._key.path),c={next:function(t){n[u]&&n[u]($P(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=uA(e,hA);l=uA(p.firestore,_A),f=p._query;var v=new VP(l);c={next:function(e){n[u]&&n[u](new jP(l,v,p,e))},error:n[u+1],complete:n[u+2]},dP(e._query)}return function(e,t,n,r){var i=new OC(r),a=new bI(t,i,n);return e.asyncQueue.enqueueAndForget(Ri(Pi().mark((function t(){return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=hI,t.next=3,YC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.va(),e.asyncQueue.enqueueAndForget(Ri(Pi().mark((function t(){return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vI,t.next=3,YC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(SA(l),f,d,c)}function ZP(e,t){return function(e,t){var n=new OC(t);return e.asyncQueue.enqueueAndForget(Ri(Pi().mark((function t(){return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){xy(e).x_.add(t),t.next()},t.next=3,YC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.va(),e.asyncQueue.enqueueAndForget(Ri(Pi().mark((function t(){return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){xy(e).x_.delete(t)},t.next=3,YC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(SA(e=uA(e,_A)),wA(t)?t:{next:t})}function QP(e,t){return function(e,t){var n=new Ey;return e.asyncQueue.enqueueAndForget(Ri(Pi().mark((function r(){return Pi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=jI,r.next=3,QC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(SA(e),t)}function $P(e,t,n){var r=n.docs.get(t._key),i=new VP(e);return new LP(e,i,t._key,r,new DP(n.hasPendingWrites,n.fromCache),t.converter)}var YP={maxAttempts:5},XP=function(){function e(t,n){zr(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qA(t)}return Br(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=JP(e,this._firestore),i=OP(r.converter,t,n),a=GA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,px.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=JP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Ai(t))||t instanceof DA?XA(this._dataReader,"WriteBatch.update",i._key,t,n,o):YA(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,px.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=JP(e,this._firestore);return this._mutations=this._mutations.concat(new Ax(t._key,px.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Sy(_y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function JP(e,t){if((e=Ai(e)).firestore!==t)throw new Sy(_y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var eN=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e,r))._firestore=e,i}return Br(n,[{key:"get",value:function(e){var t=this,r=JP(e,this._firestore),i=new VP(this._firestore);return vo(Kr(n.prototype),"get",this).call(this,e).then((function(e){return new LP(t._firestore,i,r._key,e._document,new DP(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){zr(this,e),this._firestore=t,this._transaction=n,this._dataReader=qA(t)}return Br(e,[{key:"get",value:function(e){var t=this,n=JP(e,this._firestore),r=new RP(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return by();var i=e[0];if(i.isFoundDocument())return new cP(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new cP(t._firestore,r,n._key,null,n.converter);throw by()}))}},{key:"set",value:function(e,t,n){var r=JP(e,this._firestore),i=OP(r.converter,t,n),a=GA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=JP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Ai(t))||t instanceof DA?XA(this._dataReader,"Transaction.update",i._key,t,n,o):YA(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=JP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function tN(e,t,n){e=uA(e,_A);var r=Object.assign(Object.assign({},YP),n);return function(e){if(e.maxAttempts<1)throw new Sy(_y.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Ey;return e.asyncQueue.enqueueAndForget(Ri(Pi().mark((function i(){var a;return Pi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,$C(e);case 2:a=i.sent,new LC(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(SA(e),(function(n){return t(new eN(e,n))}),r)}function nN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZA("arrayUnion",t)}function rN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QA("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){hy=e}(Na),Sa(new Di("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new _A(new Ay(e.getProvider("auth-internal")),new Ry(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Sy(_y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mb(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ja(fy,"4.0.0",e),ja(fy,"4.0.0","esm2017")}();function iN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Sy("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function aN(){if("undefined"===typeof Uint8Array)throw new Sy("unimplemented","Uint8Arrays are not available in this environment.")}function oN(){if("undefined"==typeof atob)throw new Sy("unimplemented","Blobs are unavailable in Firestore in this environment.")}var sN=function(){function e(t){zr(this,e),this._delegate=t}return Br(e,[{key:"toBase64",value:function(){return oN(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return aN(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return oN(),new e(RA.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return aN(),new e(RA.fromUint8Array(t))}}]),e}();function uN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Gr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var cN=function(){function e(){zr(this,e)}return Br(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){OA(e=uA(e,_A));var n=SA(e);if(n._uninitializedComponentsProvider)throw new Sy(_y.FAILED_PRECONDITION,"SDK cache is already specified.");yy("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new PC;return TA(n,i,new CC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){OA(e=uA(e,_A));var t=SA(e);if(t._uninitializedComponentsProvider)throw new Sy(_y.FAILED_PRECONDITION,"SDK cache is already specified.");yy("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new PC;return TA(t,r,new AC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Sy(_y.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ey;return e._queue.enqueueAndForgetEvenWhileRestricted(Ri(Pi().mark((function n(){return Pi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ri(Pi().mark((function e(t){var n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sk.v()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,sk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(xE(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),lN=function(){function e(t,n,r){var i=this;zr(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof mb||(this._appCompat=t)}return Br(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||yy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dA(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return CA(this._delegate)}},{key:"disableNetwork",value:function(){return AA(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&iA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return IA(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return ZP(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Sy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new SN(this,mA(this._delegate,e))}catch(t){throw mN(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new vN(this,gA(this._delegate,e))}catch(t){throw mN(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new wN(this,function(e,t){if(e=uA(e,fA),rA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Sy(_y.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new hA(e,null,function(e){return new kw(By.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw mN(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return tN(this._delegate,(function(n){return e(new dN(t,n))}))}},{key:"batch",value:function(){var e=this;return SA(this._delegate),new hN(new XP(this._delegate,(function(t){return QP(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return PA(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return NA(this._delegate,e).then((function(e){return e?new wN(t,e):null}))}}]),e}(),fN=function(e){Hr(n,e);var t=$r(n);function n(e){var r;return zr(this,n),(r=t.call(this)).firestore=e,r}return Br(n,[{key:"convertBytes",value:function(e){return new sN(new RA(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return vN.forKey(t,this.firestore,null)}}]),n}(NP);var dN=function(){function e(t,n){zr(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new fN(t)}return Br(e,[{key:"get",value:function(e){var t=this,n=EN(e);return this._delegate.get(n).then((function(e){return new kN(t._firestore,new LP(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=EN(e);return n?(iN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=EN(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=EN(e);return this._delegate.delete(t),this}}]),e}(),hN=function(){function e(t){zr(this,e),this._delegate=t}return Br(e,[{key:"set",value:function(e,t,n){var r=EN(e);return n?(iN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=EN(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=EN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),pN=function(){function e(t,n,r){zr(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Br(e,[{key:"fromFirestore",value:function(e,t){var n=new MP(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bN(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new fN(t),n),i.set(n,a)),a}}]),e}();pN.INSTANCES=new WeakMap;var vN=function(){function e(t,n){zr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new fN(t)}return Br(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new SN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new SN(this.firestore,mA(this._delegate,e))}catch(t){throw mN(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ai(e))instanceof pA&&yA(this._delegate,e)}},{key:"set",value:function(e,t){t=iN("DocumentReference.set",t);try{return t?WP(this._delegate,e,t):WP(this._delegate,e)}catch(n){throw mN(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?HP(this._delegate,e):HP.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw mN(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return QP(uA(e.firestore,_A),[new Ax(e._key,px.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=gN(n),a=yN(n,(function(t){return new kN(e.firestore,new LP(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return KP(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?UP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=uA(e,pA);var t=uA(e.firestore,_A);return JC(SA(t),e._key,{source:"server"}).then((function(n){return $P(t,e,n)}))}(this._delegate):function(e){e=uA(e,pA);var t=uA(e.firestore,_A);return JC(SA(t),e._key).then((function(n){return $P(t,e,n)}))}(this._delegate)).then((function(e){return new kN(t.firestore,new LP(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(pN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Sy("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new pA(n._delegate,r,new Wy(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new pA(n._delegate,r,t))}}]),e}();function mN(e,t,n){return e.message=e.message.replace(t,n),e}function gN(e){var t,n=Gr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!uN(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function yN(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=uN(e[0])?e[0]:uN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var kN=function(){function e(t,n){zr(this,e),this._firestore=t,this._delegate=n}return Br(e,[{key:"ref",get:function(){return new vN(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return zP(this._delegate,e._delegate)}}]),e}(),bN=function(e){Hr(n,e);var t=$r(n);function n(){return zr(this,n),t.apply(this,arguments)}return Br(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||by()}(void 0!==t),t}}]),n}(kN),wN=function(){function e(t,n){zr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new fN(t)}return Br(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,vP(this._delegate,function(e,t,n){var r=t,i=fP("where",e);return mP._create(i,r,n)}(t,n,r)))}catch(i){throw mN(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,vP(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=fP("orderBy",e);return yP._create(n,t)}(t,n)))}catch(r){throw mN(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,vP(this._delegate,function(e){return cA("limit",e),kP._create("limit",e,"F")}(t)))}catch(n){throw mN(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,vP(this._delegate,function(e){return cA("limitToLast",e),kP._create("limitToLast",e,"L")}(t)))}catch(n){throw mN(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,vP(this._delegate,wP.apply(void 0,arguments)))}catch(t){throw mN(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,vP(this._delegate,xP.apply(void 0,arguments)))}catch(t){throw mN(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,vP(this._delegate,SP.apply(void 0,arguments)))}catch(t){throw mN(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,vP(this._delegate,EP.apply(void 0,arguments)))}catch(t){throw mN(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return kA(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?qP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?GP(this._delegate):BP(this._delegate)).then((function(e){return new _N(t.firestore,new jP(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=gN(n),a=yN(n,(function(t){return new _N(e.firestore,new jP(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return KP(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(pN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),xN=function(){function e(t,n){zr(this,e),this._firestore=t,this._delegate=n}return Br(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new bN(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),_N=function(){function e(t,n){zr(this,e),this._firestore=t,this._delegate=n}return Br(e,[{key:"query",get:function(){return new wN(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new bN(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new xN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new bN(n._firestore,r))}))}},{key:"isEqual",value:function(e){return zP(this._delegate,e._delegate)}}]),e}(),SN=function(e){Hr(n,e);var t=$r(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Br(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new vN(this.firestore,e):null}},{key:"doc",value:function(e){try{return new vN(this.firestore,void 0===e?gA(this._delegate):gA(this._delegate,e))}catch(t){throw mN(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=uA(e.firestore,_A),r=gA(e),i=OP(e.converter,t);return QP(n,[GA(qA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,px.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new vN(t.firestore,e)}))}},{key:"isEqual",value:function(e){return yA(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(pN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(wN);function EN(e){return uA(e,pA)}var TN=function(){function e(){zr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Yr(DA,n)}return Br(e,[{key:"isEqual",value:function(e){return(e=Ai(e))instanceof DA&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Gy.keyField().canonicalString())}}]),e}(),IN=function(){function e(t){zr(this,e),this._delegate=t}return Br(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new KA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new WA("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=nN.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=rN.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new $A("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),CN={Firestore:lN,GeoPoint:MA,Timestamp:zy,Blob:sN,Transaction:dN,WriteBatch:hN,DocumentReference:vN,DocumentSnapshot:kN,Query:wN,QueryDocumentSnapshot:bN,QuerySnapshot:_N,CollectionReference:SN,FieldPath:TN,FieldValue:IN,setLogLevel:function(e){!function(e){py.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Di("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},CN)))}(e,(function(e,t){return new lN(e,t,new cN)})),e.registerVersion("@firebase/firestore-compat","0.3.13")}(co);var AN,PN,NN,ON,RN,DN,LN,MN,jN,FN,zN,VN=co.initializeApp({apiKey:"AIzaSyDyINIuj2kaeftGpqDhCu9xq8Y4gcF-JD0",authDomain:"clone-a2862.firebaseapp.com",projectId:"clone-a2862",storageBucket:"clone-a2862.appspot.com",messagingSenderId:"475349026337",appId:"1:475349026337:web:249a35059f8ad766430560",measurementId:"G-JMRHWYM5HQ"}),UN=VN.firestore(),BN=VN.auth(),qN=new co.auth.GoogleAuthProvider,GN=function(e){for(var t=e.id,n=e.item,r=[],i=1;i<Math.max(n.quantity+1,20);i++)r.push((0,kr.jsxs)("option",{value:i,children:[" Qty: ",i]}));return(0,kr.jsxs)(WN,{children:[(0,kr.jsx)(HN,{children:(0,kr.jsx)("img",{src:n.image})}),(0,kr.jsxs)(KN,{children:[(0,kr.jsx)(ZN,{children:(0,kr.jsx)("h2",{children:n.name})}),(0,kr.jsxs)(QN,{children:[(0,kr.jsx)($N,{children:(0,kr.jsx)("select",{value:n.quantity,onChange:function(e){return n=e.target.value,void UN.collection("cartItems").doc(t).update({quantity:parseInt(n)});var n},children:r})}),(0,kr.jsx)(YN,{onClick:function(e){e.preventDefault(),UN.collection("cartItems").doc(t).delete()},children:"Delete"})]})]}),(0,kr.jsxs)(XN,{children:["$",n.price]})]})},WN=Gt.div(AN||(AN=a(["\n    padding-top: 12px;\n    padding-bottom:12px;\n    display: flex;\n    border-bottom: 1px solid #DDD; //This is for line between the product in cart\n"]))),HN=Gt.div(PN||(PN=a(["\n    width: 180px;\n    height: 180px;\n    flex-shrink:0; // This container never shrink\n    flex-grow:0;\n    margin-right: 16px;\n    img{\n        object-fit: contain;\n        height: 100%;\n        width:100%;\n    }\n"]))),KN=Gt.div(NN||(NN=a(["\n    flex-grow: 1; \n"]))),ZN=Gt.div(ON||(ON=a(["\n    color: #007185;\n    h2{\n        font-size: 18px;\n    }\n"]))),QN=Gt.div(RN||(RN=a(["\n    display: flex;\n    margin-top: 4px;\n"]))),$N=Gt.div(DN||(DN=a(["\n    select{\n        border-radius: 7px;\n        background-color: F0F2F2;\n        padding: 8px;\n        box-shadow: 0 2px 5px rgba(15,17,17,.15);\n    }\n    select:focus{ // When you goto that button it light up  so this is going to remove that\n        outline: none;\n    }\n"]))),YN=Gt.div(LN||(LN=a(["\n    color: #007185;\n    margin-left: 16px;\n    cursor: pointer; // When the cursur goes on delete it change into cursor\n"]))),XN=Gt.div(MN||(MN=a(["\n    font-size: 18px;\n    font-weight: 700;\n    margin-left: 16px;\n"])));var JN,eO,tO,nO=function(e){var t=e.cartItems;return(0,kr.jsxs)(rO,{children:[(0,kr.jsx)(aO,{children:"Shopping Cart"}),(0,kr.jsx)("hr",{}),(0,kr.jsx)(iO,{children:t.map((function(e){return(0,kr.jsx)(GN,{id:e.id,item:e.product})}))})]})},rO=Gt.div(jN||(jN=a(["\n    flex: 0.8;\n    margin-right: 18px;\n    padding: 20px;\n    height: 100%;\n    background-color: White;\n"]))),iO=Gt.div(FN||(FN=a([""]))),aO=Gt.h1(zN||(zN=a(["\n    margin-bottom: 8px;\n"])));var oO,sO,uO=function(e){var t=e.getTotalPrice,n=e.getCount;return(0,kr.jsxs)(cO,{children:[(0,kr.jsxs)(lO,{children:["SubTotal(",n()," items): $",t()]}),(0,kr.jsx)(fO,{children:"Proceed to Checkout"})]})},cO=Gt.div(JN||(JN=a(["\n    height: 200px; // Always give the semi colun\n    flex:0.2;\n    background-color: white;\n    padding: 20px;\n"]))),lO=Gt.h2(eO||(eO=a(["\n    margin-bottom: 16px;  \n"]))),fO=Gt.button(tO||(tO=a(["\n    background-color: #f0c14b;\n    width: 100%;\n    padding: 4px 8px;\n    border: 2px solid #a88734;\n    border-radius: 4px;\n    font-size: 16px;\n    :hover{\n        background: #ddb347;\n    }\n"])));var dO,hO,pO,vO,mO,gO,yO=function(e){var t=e.cartItems;return(0,kr.jsxs)(kO,{children:[(0,kr.jsx)(nO,{cartItems:t}),(0,kr.jsx)(uO,{getCount:function(){var e=0;return t.forEach((function(t){e+=t.product.quantity})),e},getTotalPrice:function(){var e=0;return t.forEach((function(t){e+=t.product.price*t.product.quantity})),e}})]})},kO=Gt.div(oO||(oO=a(["\n    display: flex;\n    padding: 14px 18px 0 18px;\n    align-items; flex-start; // Take the only needed space\n"]))),bO=(Gt.div(sO||(sO=a([""]))),function(e){var t=e.title,n=e.price,r=e.rating,i=e.image,a=e.id;return(0,kr.jsx)("div",{className:"Container1",children:(0,kr.jsxs)(wO,{className:"Contain1",children:[(0,kr.jsx)(xO,{className:"Title1",children:t}),(0,kr.jsxs)(_O,{className:"Price1",children:["$",n]}),(0,kr.jsx)(SO,{className:"Rating1",children:Array(r).fill().map((function(e){return(0,kr.jsx)("p",{children:"\u2b50\ufe0f"})}))}),(0,kr.jsx)(EO,{className:"imga1",src:i}),(0,kr.jsx)(TO,{className:"CartButton1",onClick:function(){var e=UN.collection("cartItems").doc(a);e.get().then((function(r){console.log(r),r.exists?e.update({quantity:r.data().quantity+1}):UN.collection("cartItems").doc(a).set({name:t,image:i,price:n,quantity:1})}))},children:"Add To Cart"})]})})}),wO=Gt.div(dO||(dO=a(["\n    // background-color: white;\n    // z-index: 100;\n    // width:100%;\n    // width: 550px;\n    /* height: 904px; */\n    // flex: 1;\n    // padding: 0px;\n    // margin: 25px;\n    // max-height: 420px;\n    // display: flex;\n    // flex-direction: column;\n"]))),xO=Gt.h3(hO||(hO=a(["\n    margin-top:10px;\n    padding-left: 15px;\n"]))),_O=Gt.span(pO||(pO=a(["\n    font-weight: 500;\n    margin-top: 10px;\n    margin-left: 14px;\n\n"]))),SO=Gt.div(vO||(vO=a(["\n\n    // display: flex;\n    // margin-left: 14px;\n\n"]))),EO=Gt.img(mO||(mO=a(["\n    // max-height: 302px;\n    // object-fit: contain;\n    // margin-top: -1px;\n    // margin-left: 0px;\n"]))),TO=Gt.button(gO||(gO=a(["\n    // width: 98px;\n    // height: 89px;\n    // margin-left: 228px;\n    // margin-top: 10px;\n    // background-color: #f0c14b;\n    // border: 3px solid #a88734;\n    // border-radius: 2px;\n    // cursor: pointer;\n"])));function IO(e,t){if(null==e)return{};var n,r,i=(0,Cn.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CO(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function AO(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:CO(t[n])&&CO(e[n])&&Object.keys(t[n]).length>0&&AO(e[n],t[n])}))}var PO={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function NO(){var e="undefined"!==typeof document?document:{};return AO(e,PO),e}var OO,RO,DO,LO={document:PO,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function MO(){var e="undefined"!==typeof window?window:{};return AO(e,LO),e}function jO(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function FO(){return Date.now()}function zO(e,t){void 0===t&&(t="x");var n,r,i,a=MO(),o=function(e){var t,n=MO();return n.getComputedStyle&&(t=n.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return a.WebKitCSSMatrix?((r=o.transform||o.webkitTransform).split(",").length>6&&(r=r.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),i=new a.WebKitCSSMatrix("none"===r?"":r)):n=(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=a.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=a.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}function VO(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function UO(e){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function BO(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(void 0!==r&&null!==r&&!UO(r))for(var i=Object.keys(Object(r)).filter((function(e){return t.indexOf(e)<0})),a=0,o=i.length;a<o;a+=1){var s=i[a],u=Object.getOwnPropertyDescriptor(r,s);void 0!==u&&u.enumerable&&(VO(e[s])&&VO(r[s])?r[s].__swiper__?e[s]=r[s]:BO(e[s],r[s]):!VO(e[s])&&VO(r[s])?(e[s]={},r[s].__swiper__?e[s]=r[s]:BO(e[s],r[s])):e[s]=r[s])}}return e}function qO(e,t,n){e.style.setProperty(t,n)}function GO(e){var t,n=e.swiper,r=e.targetPosition,i=e.side,a=MO(),o=-n.translate,s=null,u=n.params.speed;n.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(n.cssModeFrameID);var c=r>o?"next":"prev",l=function(e,t){return"next"===c&&e>=t||"prev"===c&&e<=t};!function e(){t=(new Date).getTime(),null===s&&(s=t);var c=Math.max(Math.min((t-s)/u,1),0),f=.5-Math.cos(c*Math.PI)/2,d=o+f*(r-o);if(l(d,r)&&(d=r),n.wrapperEl.scrollTo((0,Fr.Z)({},i,d)),l(d,r))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout((function(){n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo((0,Fr.Z)({},i,d))})),void a.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=a.requestAnimationFrame(e)}()}function WO(e,t){return void 0===t&&(t=""),(0,Ni.Z)(e.children).filter((function(e){return e.matches(t)}))}function HO(e,t){var n;void 0===t&&(t=[]);var r=document.createElement(e);return(n=r.classList).add.apply(n,(0,Ni.Z)(Array.isArray(t)?t:[t])),r}function KO(e,t){return MO().getComputedStyle(e,null).getPropertyValue(t)}function ZO(e){var t,n=e;if(n){for(t=0;null!==(n=n.previousSibling);)1===n.nodeType&&(t+=1);return t}}function QO(e,t,n){var r=MO();return n?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}function $O(){return OO||(OO=function(){var e=MO(),t=NO();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),OO}function YO(e){return void 0===e&&(e={}),RO||(RO=function(e){var t=(void 0===e?{}:e).userAgent,n=$O(),r=MO(),i=r.navigator.platform,a=t||r.navigator.userAgent,o={ios:!1,android:!1},s=r.screen.width,u=r.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/),l=a.match(/(iPad).*OS\s([\d_]+)/),f=a.match(/(iPod)(.*OS\s([\d_]+))?/),d=!l&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===i,p="MacIntel"===i;return!l&&p&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(s,"x").concat(u))>=0&&((l=a.match(/(Version)\/([\d.]+)/))||(l=[0,1,"13_0_0"]),p=!1),c&&!h&&(o.os="android",o.android=!0),(l||d||f)&&(o.os="ios",o.ios=!0),o}(e)),RO}function XO(){return DO||(DO=function(){var e=MO(),t=!1;function n(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(n()){var r=String(e.navigator.userAgent);if(r.includes("Version/")){var a=r.split("Version/")[1].split(" ")[0].split(".").map((function(e){return Number(e)})),o=(0,i.Z)(a,2),s=o[0],u=o[1];t=s<16||16===s&&u<2}}return{isSafari:t||n(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),DO}var JO={on:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;var i=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)})),r},once:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];t.apply(r,a)}return i.__emitterProxy=t,r.on(e,i,n)},onAny:function(e,t){var n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!==typeof e)return n;var r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny:function(e){var t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;var n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off:function(e,t){var n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((function(e){"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,i){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)}))})),n):n},emit:function(){var e,t,n,r=this;if(!r.eventsListeners||r.destroyed)return r;if(!r.eventsListeners)return r;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return"string"===typeof a[0]||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),n=r):(e=a[0].events,t=a[0].data,n=a[0].context||r),t.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach((function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[e].concat((0,Ni.Z)(t)))})),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(e){e.apply(n,t)}))})),r}};var eR=function(e,t){if(e&&!e.destroyed&&e.params){var n=t.closest(e.isElement?"swiper-slide":".".concat(e.params.slideClass));if(n){var r=n.querySelector(".".concat(e.params.lazyPreloaderClass));r&&r.remove()}}},tR=function(e,t){if(e.slides[t]){var n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")}},nR=function(e){if(e&&!e.destroyed&&e.params){var t=e.params.lazyPreloadPrevNext,n=e.slides.length;if(n&&t&&!(t<0)){t=Math.min(t,n);var r="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),i=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){var a=i,o=[a-t];return o.push.apply(o,(0,Ni.Z)(Array.from({length:t}).map((function(e,t){return a+r+t})))),void e.slides.forEach((function(t,n){o.includes(t.column)&&tR(e,n)}))}var s=i+r-1;if(e.params.rewind||e.params.loop)for(var u=i-t;u<=s+t;u+=1){var c=(u%n+n)%n;(c<i||c>s)&&tR(e,c)}else for(var l=Math.max(i-t,0);l<=Math.min(s+t,n-1);l+=1)l!==i&&(l>s||l<i)&&tR(e,l)}}};var rR={updateSize:function(){var e,t,n=this,r=n.el;e="undefined"!==typeof n.params.width&&null!==n.params.width?n.params.width:r.clientWidth,t="undefined"!==typeof n.params.height&&null!==n.params.height?n.params.height:r.clientHeight,0===e&&n.isHorizontal()||0===t&&n.isVertical()||(e=e-parseInt(KO(r,"padding-left")||0,10)-parseInt(KO(r,"padding-right")||0,10),t=t-parseInt(KO(r,"padding-top")||0,10)-parseInt(KO(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}var r=e.params,i=e.wrapperEl,a=e.slidesEl,o=e.size,s=e.rtlTranslate,u=e.wrongRTL,c=e.virtual&&r.virtual.enabled,l=c?e.virtual.slides.length:e.slides.length,f=WO(a,".".concat(e.params.slideClass,", swiper-slide")),d=c?e.virtual.slides.length:f.length,h=[],p=[],v=[],m=r.slidesOffsetBefore;"function"===typeof m&&(m=r.slidesOffsetBefore.call(e));var g=r.slidesOffsetAfter;"function"===typeof g&&(g=r.slidesOffsetAfter.call(e));var y=e.snapGrid.length,k=e.slidesGrid.length,b=r.spaceBetween,w=-m,x=0,_=0;if("undefined"!==typeof o){"string"===typeof b&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*o:"string"===typeof b&&(b=parseFloat(b)),e.virtualSize=-b,f.forEach((function(e){s?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),r.centeredSlides&&r.cssMode&&(qO(i,"--swiper-centered-offset-before",""),qO(i,"--swiper-centered-offset-after",""));var S,E=r.grid&&r.grid.rows>1&&e.grid;E&&e.grid.initSlides(d);for(var T="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((function(e){return"undefined"!==typeof r.breakpoints[e].slidesPerView})).length>0,I=0;I<d;I+=1){S=0;var C=void 0;if(f[I]&&(C=f[I]),E&&e.grid.updateSlide(I,C,d,t),!f[I]||"none"!==KO(C,"display")){if("auto"===r.slidesPerView){T&&(f[I].style[t("width")]="");var A=getComputedStyle(C),P=C.style.transform,N=C.style.webkitTransform;if(P&&(C.style.transform="none"),N&&(C.style.webkitTransform="none"),r.roundLengths)S=e.isHorizontal()?QO(C,"width",!0):QO(C,"height",!0);else{var O=n(A,"width"),R=n(A,"padding-left"),D=n(A,"padding-right"),L=n(A,"margin-left"),M=n(A,"margin-right"),j=A.getPropertyValue("box-sizing");if(j&&"border-box"===j)S=O+L+M;else{var F=C,z=F.clientWidth;S=O+R+D+L+M+(F.offsetWidth-z)}}P&&(C.style.transform=P),N&&(C.style.webkitTransform=N),r.roundLengths&&(S=Math.floor(S))}else S=(o-(r.slidesPerView-1)*b)/r.slidesPerView,r.roundLengths&&(S=Math.floor(S)),f[I]&&(f[I].style[t("width")]="".concat(S,"px"));f[I]&&(f[I].swiperSlideSize=S),v.push(S),r.centeredSlides?(w=w+S/2+x/2+b,0===x&&0!==I&&(w=w-o/2-b),0===I&&(w=w-o/2-b),Math.abs(w)<.001&&(w=0),r.roundLengths&&(w=Math.floor(w)),_%r.slidesPerGroup===0&&h.push(w),p.push(w)):(r.roundLengths&&(w=Math.floor(w)),(_-Math.min(e.params.slidesPerGroupSkip,_))%e.params.slidesPerGroup===0&&h.push(w),p.push(w),w=w+S+b),e.virtualSize+=S+b,x=S,_+=1}}if(e.virtualSize=Math.max(e.virtualSize,o)+g,s&&u&&("slide"===r.effect||"coverflow"===r.effect)&&(i.style.width="".concat(e.virtualSize+b,"px")),r.setWrapperSize&&(i.style[t("width")]="".concat(e.virtualSize+b,"px")),E&&e.grid.updateWrapperSize(S,h,t),!r.centeredSlides){for(var V=[],U=0;U<h.length;U+=1){var B=h[U];r.roundLengths&&(B=Math.floor(B)),h[U]<=e.virtualSize-o&&V.push(B)}h=V,Math.floor(e.virtualSize-o)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-o)}if(c&&r.loop){var q=v[0]+b;if(r.slidesPerGroup>1)for(var G=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),W=q*r.slidesPerGroup,H=0;H<G;H+=1)h.push(h[h.length-1]+W);for(var K=0;K<e.virtual.slidesBefore+e.virtual.slidesAfter;K+=1)1===r.slidesPerGroup&&h.push(h[h.length-1]+q),p.push(p[p.length-1]+q),e.virtualSize+=q}if(0===h.length&&(h=[0]),0!==b){var Z=e.isHorizontal()&&s?"marginLeft":t("marginRight");f.filter((function(e,t){return!(r.cssMode&&!r.loop)||t!==f.length-1})).forEach((function(e){e.style[Z]="".concat(b,"px")}))}if(r.centeredSlides&&r.centeredSlidesBounds){var Q=0;v.forEach((function(e){Q+=e+(b||0)}));var $=(Q-=b)-o;h=h.map((function(e){return e<=0?-m:e>$?$+g:e}))}if(r.centerInsufficientSlides){var Y=0;if(v.forEach((function(e){Y+=e+(b||0)})),(Y-=b)<o){var X=(o-Y)/2;h.forEach((function(e,t){h[t]=e-X})),p.forEach((function(e,t){p[t]=e+X}))}}if(Object.assign(e,{slides:f,snapGrid:h,slidesGrid:p,slidesSizesGrid:v}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){qO(i,"--swiper-centered-offset-before","".concat(-h[0],"px")),qO(i,"--swiper-centered-offset-after","".concat(e.size/2-v[v.length-1]/2,"px"));var J=-e.snapGrid[0],ee=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((function(e){return e+J})),e.slidesGrid=e.slidesGrid.map((function(e){return e+ee}))}if(d!==l&&e.emit("slidesLengthChange"),h.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==k&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!c&&!r.cssMode&&("slide"===r.effect||"fade"===r.effect)){var te="".concat(r.containerModifierClass,"backface-hidden"),ne=e.el.classList.contains(te);d<=r.maxBackfaceHiddenSlides?ne||e.el.classList.add(te):ne&&e.el.classList.remove(te)}}},updateAutoHeight:function(e){var t,n=this,r=[],i=n.virtual&&n.params.virtual.enabled,a=0;"number"===typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed);var o=function(e){return i?n.slides[n.getSlideIndexByData(e)]:n.slides[e]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||[]).forEach((function(e){r.push(e)}));else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var s=n.activeIndex+t;if(s>n.slides.length&&!i)break;r.push(o(s))}else r.push(o(n.activeIndex));for(t=0;t<r.length;t+=1)if("undefined"!==typeof r[t]){var u=r[t].offsetHeight;a=u>a?u:a}(a||0===a)&&(n.wrapperEl.style.height="".concat(a,"px"))},updateSlidesOffset:function(){for(var e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0,r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,n=t.params,r=t.slides,i=t.rtlTranslate,a=t.snapGrid;if(0!==r.length){"undefined"===typeof r[0].swiperSlideOffset&&t.updateSlidesOffset();var o=-e;i&&(o=e),r.forEach((function(e){e.classList.remove(n.slideVisibleClass)})),t.visibleSlidesIndexes=[],t.visibleSlides=[];var s=n.spaceBetween;"string"===typeof s&&s.indexOf("%")>=0?s=parseFloat(s.replace("%",""))/100*t.size:"string"===typeof s&&(s=parseFloat(s));for(var u=0;u<r.length;u+=1){var c=r[u],l=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(l-=r[0].swiperSlideOffset);var f=(o+(n.centeredSlides?t.minTranslate():0)-l)/(c.swiperSlideSize+s),d=(o-a[0]+(n.centeredSlides?t.minTranslate():0)-l)/(c.swiperSlideSize+s),h=-(o-l),p=h+t.slidesSizesGrid[u];(h>=0&&h<t.size-1||p>1&&p<=t.size||h<=0&&p>=t.size)&&(t.visibleSlides.push(c),t.visibleSlidesIndexes.push(u),r[u].classList.add(n.slideVisibleClass)),c.progress=i?-f:f,c.originalProgress=i?-d:d}}},updateProgress:function(e){var t=this;if("undefined"===typeof e){var n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}var r=t.params,i=t.maxTranslate()-t.minTranslate(),a=t.progress,o=t.isBeginning,s=t.isEnd,u=t.progressLoop,c=o,l=s;if(0===i)a=0,o=!0,s=!0;else{a=(e-t.minTranslate())/i;var f=Math.abs(e-t.minTranslate())<1,d=Math.abs(e-t.maxTranslate())<1;o=f||a<=0,s=d||a>=1,f&&(a=0),d&&(a=1)}if(r.loop){var h=t.getSlideIndexByData(0),p=t.getSlideIndexByData(t.slides.length-1),v=t.slidesGrid[h],m=t.slidesGrid[p],g=t.slidesGrid[t.slidesGrid.length-1],y=Math.abs(e);(u=y>=v?(y-v)/g:(y+g-m)/g)>1&&(u-=1)}Object.assign(t,{progress:a,progressLoop:u,isBeginning:o,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),o&&!c&&t.emit("reachBeginning toEdge"),s&&!l&&t.emit("reachEnd toEdge"),(c&&!o||l&&!s)&&t.emit("fromEdge"),t.emit("progress",a)},updateSlidesClasses:function(){var e,t=this,n=t.slides,r=t.params,i=t.slidesEl,a=t.activeIndex,o=t.virtual&&r.virtual.enabled,s=function(e){return WO(i,".".concat(r.slideClass).concat(e,", swiper-slide").concat(e))[0]};if(n.forEach((function(e){e.classList.remove(r.slideActiveClass,r.slideNextClass,r.slidePrevClass)})),o)if(r.loop){var u=a-t.virtual.slidesBefore;u<0&&(u=t.virtual.slides.length+u),u>=t.virtual.slides.length&&(u-=t.virtual.slides.length),e=s('[data-swiper-slide-index="'.concat(u,'"]'))}else e=s('[data-swiper-slide-index="'.concat(a,'"]'));else e=n[a];if(e){e.classList.add(r.slideActiveClass);var c=function(e,t){for(var n=[];e.nextElementSibling;){var r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}(e,".".concat(r.slideClass,", swiper-slide"))[0];r.loop&&!c&&(c=n[0]),c&&c.classList.add(r.slideNextClass);var l=function(e,t){for(var n=[];e.previousElementSibling;){var r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}(e,".".concat(r.slideClass,", swiper-slide"))[0];r.loop&&0===!l&&(l=n[n.length-1]),l&&l.classList.add(r.slidePrevClass)}t.emitSlidesClasses()},updateActiveIndex:function(e){var t,n,r=this,i=r.rtlTranslate?r.translate:-r.translate,a=r.snapGrid,o=r.params,s=r.activeIndex,u=r.realIndex,c=r.snapIndex,l=e,f=function(e){var t=e-r.virtual.slidesBefore;return t<0&&(t=r.virtual.slides.length+t),t>=r.virtual.slides.length&&(t-=r.virtual.slides.length),t};if("undefined"===typeof l&&(l=function(e){for(var t,n=e.slidesGrid,r=e.params,i=e.rtlTranslate?e.translate:-e.translate,a=0;a<n.length;a+=1)"undefined"!==typeof n[a+1]?i>=n[a]&&i<n[a+1]-(n[a+1]-n[a])/2?t=a:i>=n[a]&&i<n[a+1]&&(t=a+1):i>=n[a]&&(t=a);return r.normalizeSlideIndex&&(t<0||"undefined"===typeof t)&&(t=0),t}(r)),a.indexOf(i)>=0)t=a.indexOf(i);else{var d=Math.min(o.slidesPerGroupSkip,l);t=d+Math.floor((l-d)/o.slidesPerGroup)}if(t>=a.length&&(t=a.length-1),l===s)return t!==c&&(r.snapIndex=t,r.emit("snapIndexChange")),void(r.params.loop&&r.virtual&&r.params.virtual.enabled&&(r.realIndex=f(l)));n=r.virtual&&o.virtual.enabled&&o.loop?f(l):r.slides[l]?parseInt(r.slides[l].getAttribute("data-swiper-slide-index")||l,10):l,Object.assign(r,{previousSnapIndex:c,snapIndex:t,previousRealIndex:u,realIndex:n,previousIndex:s,activeIndex:l}),r.initialized&&nR(r),r.emit("activeIndexChange"),r.emit("snapIndexChange"),u!==n&&r.emit("realIndexChange"),(r.initialized||r.params.runCallbacksOnInit)&&r.emit("slideChange")},updateClickedSlide:function(e){var t,n=this,r=n.params,i=e.closest(".".concat(r.slideClass,", swiper-slide")),a=!1;if(i)for(var o=0;o<n.slides.length;o+=1)if(n.slides[o]===i){a=!0,t=o;break}if(!i||!a)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=t,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var iR={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this,n=t.params,r=t.rtlTranslate,i=t.translate,a=t.wrapperEl;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;var o=zO(a,e);return o+=t.cssOverflowAdjustment(),r&&(o=-o),o||0},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,i=n.params,a=n.wrapperEl,o=n.progress,s=0,u=0;n.isHorizontal()?s=r?-e:e:u=e,i.roundLengths&&(s=Math.floor(s),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?s:u,i.cssMode?a[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-s:-u:i.virtualTranslate||(n.isHorizontal()?s-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),a.style.transform="translate3d(".concat(s,"px, ").concat(u,"px, ").concat(0,"px)"));var c=n.maxTranslate()-n.minTranslate();(0===c?0:(e-n.minTranslate())/c)!==o&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var a=this,o=a.params,s=a.wrapperEl;if(a.animating&&o.preventInteractionOnTransition)return!1;var u,c=a.minTranslate(),l=a.maxTranslate();if(u=r&&e>c?c:r&&e<l?l:e,a.updateProgress(u),o.cssMode){var f=a.isHorizontal();if(0===t)s[f?"scrollLeft":"scrollTop"]=-u;else{var d;if(!a.support.smoothScroll)return GO({swiper:a,targetPosition:-u,side:f?"left":"top"}),!0;s.scrollTo((d={},(0,Fr.Z)(d,f?"left":"top",-u),(0,Fr.Z)(d,"behavior","smooth"),d))}return!0}return 0===t?(a.setTransition(0),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}};function aR(e){var t=e.swiper,n=e.runCallbacks,r=e.direction,i=e.step,a=t.activeIndex,o=t.previousIndex,s=r;if(s||(s=a>o?"next":a<o?"prev":"reset"),t.emit("transition".concat(i)),n&&a!==o){if("reset"===s)return void t.emit("slideResetTransition".concat(i));t.emit("slideChangeTransition".concat(i)),"next"===s?t.emit("slideNextTransition".concat(i)):t.emit("slidePrevTransition".concat(i))}}var oR={setTransition:function(e,t){var n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration="".concat(e,"ms")),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var n=this,r=n.params;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),aR({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);var n=this,r=n.params;n.animating=!1,r.cssMode||(n.setTransition(0),aR({swiper:n,runCallbacks:e,direction:t,step:"End"}))}};var sR={slideTo:function(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"string"===typeof e&&(e=parseInt(e,10));var a=this,o=e;o<0&&(o=0);var s=a.params,u=a.snapGrid,c=a.slidesGrid,l=a.previousIndex,f=a.activeIndex,d=a.rtlTranslate,h=a.wrapperEl,p=a.enabled;if(a.animating&&s.preventInteractionOnTransition||!p&&!r&&!i)return!1;var v=Math.min(a.params.slidesPerGroupSkip,o),m=v+Math.floor((o-v)/a.params.slidesPerGroup);m>=u.length&&(m=u.length-1);var g,y=-u[m];if(s.normalizeSlideIndex)for(var k=0;k<c.length;k+=1){var b=-Math.floor(100*y),w=Math.floor(100*c[k]),x=Math.floor(100*c[k+1]);"undefined"!==typeof c[k+1]?b>=w&&b<x-(x-w)/2?o=k:b>=w&&b<x&&(o=k+1):b>=w&&(o=k)}if(a.initialized&&o!==f){if(!a.allowSlideNext&&(d?y>a.translate&&y>a.minTranslate():y<a.translate&&y<a.minTranslate()))return!1;if(!a.allowSlidePrev&&y>a.translate&&y>a.maxTranslate()&&(f||0)!==o)return!1}if(o!==(l||0)&&n&&a.emit("beforeSlideChangeStart"),a.updateProgress(y),g=o>f?"next":o<f?"prev":"reset",d&&-y===a.translate||!d&&y===a.translate)return a.updateActiveIndex(o),s.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==s.effect&&a.setTranslate(y),"reset"!==g&&(a.transitionStart(n,g),a.transitionEnd(n,g)),!1;if(s.cssMode){var _=a.isHorizontal(),S=d?y:-y;if(0===t){var E=a.virtual&&a.params.virtual.enabled;E&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),E&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame((function(){h[_?"scrollLeft":"scrollTop"]=S}))):h[_?"scrollLeft":"scrollTop"]=S,E&&requestAnimationFrame((function(){a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1}))}else{var T;if(!a.support.smoothScroll)return GO({swiper:a,targetPosition:S,side:_?"left":"top"}),!0;h.scrollTo((T={},(0,Fr.Z)(T,_?"left":"top",S),(0,Fr.Z)(T,"behavior","smooth"),T))}return!0}return a.setTransition(t),a.setTranslate(y),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,r),a.transitionStart(n,g),0===t?a.transitionEnd(n,g):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,g))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"string"===typeof e&&(e=parseInt(e,10));var i=this,a=e;return i.params.loop&&(i.virtual&&i.params.virtual.enabled?a+=i.virtual.slidesBefore:a=i.getSlideIndexByData(a)),i.slideTo(a,t,n,r)},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.enabled,a=r.params,o=r.animating;if(!i)return r;var s=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));var u=r.activeIndex<a.slidesPerGroupSkip?1:s,c=r.virtual&&a.virtual.enabled;if(a.loop){if(o&&!c&&a.loopPreventsSliding)return!1;r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft}return a.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+u,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.params,a=r.snapGrid,o=r.slidesGrid,s=r.rtlTranslate,u=r.enabled,c=r.animating;if(!u)return r;var l=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!l&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}function f(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var d,h=f(s?r.translate:-r.translate),p=a.map((function(e){return f(e)})),v=a[p.indexOf(h)-1];"undefined"===typeof v&&i.cssMode&&(a.forEach((function(e,t){h>=e&&(d=t)})),"undefined"!==typeof d&&(v=a[d>0?d-1:d]));var m=0;if("undefined"!==typeof v&&((m=o.indexOf(v))<0&&(m=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(m=m-r.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),i.rewind&&r.isBeginning){var g=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(g,e,t,n)}return r.slideTo(m,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=.5);var i=this,a=i.activeIndex,o=Math.min(i.params.slidesPerGroupSkip,a),s=o+Math.floor((a-o)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[s]){var c=i.snapGrid[s];u-c>(i.snapGrid[s+1]-c)*r&&(a+=i.params.slidesPerGroup)}else{var l=i.snapGrid[s-1];u-l<=(i.snapGrid[s]-l)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.slidesEl,i="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,a=t.clickedIndex,o=t.isElement?"swiper-slide":".".concat(n.slideClass);if(n.loop){if(t.animating)return;e=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),n.centeredSlides?a<t.loopedSlides-i/2||a>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),a=t.getSlideIndex(WO(r,"".concat(o,'[data-swiper-slide-index="').concat(e,'"]'))[0]),jO((function(){t.slideTo(a)}))):t.slideTo(a):a>t.slides.length-i?(t.loopFix(),a=t.getSlideIndex(WO(r,"".concat(o,'[data-swiper-slide-index="').concat(e,'"]'))[0]),jO((function(){t.slideTo(a)}))):t.slideTo(a)}else t.slideTo(a)}};var uR={loopCreate:function(e){var t=this,n=t.params,r=t.slidesEl;!n.loop||t.virtual&&t.params.virtual.enabled||(WO(r,".".concat(n.slideClass,", swiper-slide")).forEach((function(e,t){e.setAttribute("data-swiper-slide-index",t)})),t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"}))},loopFix:function(e){var t=void 0===e?{}:e,n=t.slideRealIndex,r=t.slideTo,i=void 0===r||r,a=t.direction,o=t.setTranslate,s=t.activeSlideIndex,u=t.byController,c=t.byMousewheel,l=this;if(l.params.loop){l.emit("beforeLoopFix");var f=l.slides,d=l.allowSlidePrev,h=l.allowSlideNext,p=l.slidesEl,v=l.params;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&v.virtual.enabled)return i&&(v.centeredSlides||0!==l.snapIndex?v.centeredSlides&&l.snapIndex<v.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=h,void l.emit("loopFix");var m="auto"===v.slidesPerView?l.slidesPerViewDynamic():Math.ceil(parseFloat(v.slidesPerView,10)),g=v.loopedSlides||m;g%v.slidesPerGroup!==0&&(g+=v.slidesPerGroup-g%v.slidesPerGroup),l.loopedSlides=g;var y=[],k=[],b=l.activeIndex;"undefined"===typeof s?s=l.getSlideIndex(l.slides.filter((function(e){return e.classList.contains(v.slideActiveClass)}))[0]):b=s;var w="next"===a||!a,x="prev"===a||!a,_=0,S=0;if(s<g){_=Math.max(g-s,v.slidesPerGroup);for(var E=0;E<g-s;E+=1){var T=E-Math.floor(E/f.length)*f.length;y.push(f.length-T-1)}}else if(s>l.slides.length-2*g){S=Math.max(s-(l.slides.length-2*g),v.slidesPerGroup);for(var I=0;I<S;I+=1){var C=I-Math.floor(I/f.length)*f.length;k.push(C)}}if(x&&y.forEach((function(e){l.slides[e].swiperLoopMoveDOM=!0,p.prepend(l.slides[e]),l.slides[e].swiperLoopMoveDOM=!1})),w&&k.forEach((function(e){l.slides[e].swiperLoopMoveDOM=!0,p.append(l.slides[e]),l.slides[e].swiperLoopMoveDOM=!1})),l.recalcSlides(),"auto"===v.slidesPerView&&l.updateSlides(),v.watchSlidesProgress&&l.updateSlidesOffset(),i)if(y.length>0&&x)if("undefined"===typeof n){var A=l.slidesGrid[b],P=l.slidesGrid[b+_]-A;c?l.setTranslate(l.translate-P):(l.slideTo(b+_,0,!1,!0),o&&(l.touches[l.isHorizontal()?"startX":"startY"]+=P))}else o&&l.slideToLoop(n,0,!1,!0);else if(k.length>0&&w)if("undefined"===typeof n){var N=l.slidesGrid[b],O=l.slidesGrid[b-S]-N;c?l.setTranslate(l.translate-O):(l.slideTo(b-S,0,!1,!0),o&&(l.touches[l.isHorizontal()?"startX":"startY"]+=O))}else l.slideToLoop(n,0,!1,!0);if(l.allowSlidePrev=d,l.allowSlideNext=h,l.controller&&l.controller.control&&!u){var R={slideRealIndex:n,slideTo:!1,direction:a,setTranslate:o,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach((function(e){!e.destroyed&&e.params.loop&&e.loopFix(R)})):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix(R)}l.emit("loopFix")}},loopDestroy:function(){var e=this,t=e.params,n=e.slidesEl;if(!(!t.loop||e.virtual&&e.params.virtual.enabled)){e.recalcSlides();var r=[];e.slides.forEach((function(e){var t="undefined"===typeof e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;r[t]=e})),e.slides.forEach((function(e){e.removeAttribute("data-swiper-slide-index")})),r.forEach((function(e){n.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}}};var cR={setGrabCursor:function(e){var t=this;if(!(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((function(){t.__preventObserver__=!1}))}},unsetGrabCursor:function(){var e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((function(){e.__preventObserver__=!1})))}};function lR(e){var t=this,n=NO(),r=MO(),i=t.touchEventsData;i.evCache.push(e);var a=t.params,o=t.touches;if(t.enabled&&(a.simulateTouch||"mouse"!==e.pointerType)&&(!t.animating||!a.preventInteractionOnTransition)){!t.animating&&a.cssMode&&a.loop&&t.loopFix();var s=e;s.originalEvent&&(s=s.originalEvent);var u=s.target;if(("wrapper"!==a.touchEventsTarget||t.wrapperEl.contains(u))&&(!("which"in s)||3!==s.which)&&!("button"in s&&s.button>0)&&(!i.isTouched||!i.isMoved)){var c=!!a.noSwipingClass&&""!==a.noSwipingClass,l=e.composedPath?e.composedPath():e.path;c&&s.target&&s.target.shadowRoot&&l&&(u=l[0]);var f=a.noSwipingSelector?a.noSwipingSelector:".".concat(a.noSwipingClass),d=!(!s.target||!s.target.shadowRoot);if(a.noSwiping&&(d?function(e,t){return void 0===t&&(t=this),function t(n){if(!n||n===NO()||n===MO())return null;n.assignedSlot&&(n=n.assignedSlot);var r=n.closest(e);return r||n.getRootNode?r||t(n.getRootNode().host):null}(t)}(f,u):u.closest(f)))t.allowClick=!0;else if(!a.swipeHandler||u.closest(a.swipeHandler)){o.currentX=s.pageX,o.currentY=s.pageY;var h=o.currentX,p=o.currentY,v=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,m=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(v&&(h<=m||h>=r.innerWidth-m)){if("prevent"!==v)return;e.preventDefault()}Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=p,i.touchStartTime=FO(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1);var g=!0;u.matches(i.focusableElements)&&(g=!1,"SELECT"===u.nodeName&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==u&&n.activeElement.blur();var y=g&&t.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!y||u.isContentEditable||s.preventDefault(),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.animating&&!a.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}}}}function fR(e){var t=NO(),n=this,r=n.touchEventsData,i=n.params,a=n.touches,o=n.rtlTranslate;if(n.enabled&&(i.simulateTouch||"mouse"!==e.pointerType)){var s=e;if(s.originalEvent&&(s=s.originalEvent),r.isTouched){var u=r.evCache.findIndex((function(e){return e.pointerId===s.pointerId}));u>=0&&(r.evCache[u]=s);var c=r.evCache.length>1?r.evCache[0]:s,l=c.pageX,f=c.pageY;if(s.preventedByNestedSwiper)return a.startX=l,void(a.startY=f);if(!n.allowTouchMove)return s.target.matches(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(a,{startX:l,startY:f,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:l,currentY:f}),r.touchStartTime=FO()));if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(f<a.startY&&n.translate<=n.maxTranslate()||f>a.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(l<a.startX&&n.translate<=n.maxTranslate()||l>a.startX&&n.translate>=n.minTranslate())return;if(t.activeElement&&s.target===t.activeElement&&s.target.matches(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){a.currentX=l,a.currentY=f;var d=a.currentX-a.startX,h=a.currentY-a.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(d,2)+Math.pow(h,2))<n.params.threshold)){var p;if("undefined"===typeof r.isScrolling)n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:d*d+h*h>=25&&(p=180*Math.atan2(Math.abs(h),Math.abs(d))/Math.PI,r.isScrolling=n.isHorizontal()?p>i.touchAngle:90-p>i.touchAngle);if(r.isScrolling&&n.emit("touchMoveOpposite",s),"undefined"===typeof r.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(r.startMoving=!0)),r.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&r.evCache.length>1)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!i.cssMode&&s.cancelable&&s.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&s.stopPropagation();var v=n.isHorizontal()?d:h,m=n.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;i.oneWayMovement&&(v=Math.abs(v)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),a.diff=v,v*=i.touchRatio,o&&(v=-v,m=-m);var g=n.touchesDirection;n.swipeDirection=v>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";var y,k=n.params.loop&&!i.cssMode;if(!r.isMoved){if(k&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){var b=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(b)}r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",s)}r.isMoved&&g!==n.touchesDirection&&k&&Math.abs(v)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),y=!0),n.emit("sliderMove",s),r.isMoved=!0,r.currentTranslate=v+r.startTranslate;var w=!0,x=i.resistanceRatio;if(i.touchReleaseOnEdges&&(x=0),v>0?(k&&!y&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(w=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+v,x)))):v<0&&(k&&!y&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===i.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(w=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-v,x)))),w&&(s.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(v)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,void(a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",s)}}function dR(e){var t=this,n=t.touchEventsData,r=n.evCache.findIndex((function(t){return t.pointerId===e.pointerId}));if((r>=0&&n.evCache.splice(r,1),["pointercancel","pointerout","pointerleave"].includes(e.type))&&!("pointercancel"===e.type&&(t.browser.isSafari||t.browser.isWebView)))return;var i=t.params,a=t.touches,o=t.rtlTranslate,s=t.slidesGrid;if(t.enabled&&(i.simulateTouch||"mouse"!==e.pointerType)){var u=e;if(u.originalEvent&&(u=u.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",u),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&i.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);i.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var c,l=FO(),f=l-n.touchStartTime;if(t.allowClick){var d=u.path||u.composedPath&&u.composedPath();t.updateClickedSlide(d&&d[0]||u.target),t.emit("tap click",u),f<300&&l-n.lastClickTime<300&&t.emit("doubleTap doubleClick",u)}if(n.lastClickTime=FO(),jO((function(){t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===a.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,c=i.followFinger?o?t.translate:-t.translate:-n.currentTranslate,!i.cssMode)if(i.freeMode&&i.freeMode.enabled)t.freeMode.onTouchEnd({currentPos:c});else{for(var h=0,p=t.slidesSizesGrid[0],v=0;v<s.length;v+=v<i.slidesPerGroupSkip?1:i.slidesPerGroup){var m=v<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;"undefined"!==typeof s[v+m]?c>=s[v]&&c<s[v+m]&&(h=v,p=s[v+m]-s[v]):c>=s[v]&&(h=v,p=s[s.length-1]-s[s.length-2])}var g=null,y=null;i.rewind&&(t.isBeginning?y=i.virtual&&i.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));var k=(c-s[h])/p,b=h<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(f>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(k>=i.longSwipesRatio?t.slideTo(i.rewind&&t.isEnd?g:h+b):t.slideTo(h)),"prev"===t.swipeDirection&&(k>1-i.longSwipesRatio?t.slideTo(h+b):null!==y&&k<0&&Math.abs(k)>i.longSwipesRatio?t.slideTo(y):t.slideTo(h))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(u.target===t.navigation.nextEl||u.target===t.navigation.prevEl)?u.target===t.navigation.nextEl?t.slideTo(h+b):t.slideTo(h):("next"===t.swipeDirection&&t.slideTo(null!==g?g:h+b),"prev"===t.swipeDirection&&t.slideTo(null!==y?y:h))}}}}function hR(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,i=e.allowSlidePrev,a=e.snapGrid,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();var s=o&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||s?e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((function(){e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}}function pR(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function vR(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();(0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}}function mR(e){var t=this;eR(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}var gR=!1;function yR(){}var kR=function(e,t){var n=NO(),r=e.params,i=e.el,a=e.wrapperEl,o=e.device,s=!!r.nested,u="on"===t?"addEventListener":"removeEventListener",c=t;i[u]("pointerdown",e.onTouchStart,{passive:!1}),n[u]("pointermove",e.onTouchMove,{passive:!1,capture:s}),n[u]("pointerup",e.onTouchEnd,{passive:!0}),n[u]("pointercancel",e.onTouchEnd,{passive:!0}),n[u]("pointerout",e.onTouchEnd,{passive:!0}),n[u]("pointerleave",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",e.onClick,!0),r.cssMode&&a[u]("scroll",e.onScroll),r.updateOnWindowResize?e[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",hR,!0):e[c]("observerUpdate",hR,!0),i[u]("load",e.onLoad,{capture:!0})};var bR={attachEvents:function(){var e=this,t=NO(),n=e.params;e.onTouchStart=lR.bind(e),e.onTouchMove=fR.bind(e),e.onTouchEnd=dR.bind(e),n.cssMode&&(e.onScroll=vR.bind(e)),e.onClick=pR.bind(e),e.onLoad=mR.bind(e),gR||(t.addEventListener("touchstart",yR),gR=!0),kR(e,"on")},detachEvents:function(){kR(this,"off")}},wR=function(e,t){return e.grid&&t.grid&&t.grid.rows>1};var xR={setBreakpoint:function(){var e=this,t=e.realIndex,n=e.initialized,r=e.params,i=e.el,a=r.breakpoints;if(a&&(!a||0!==Object.keys(a).length)){var o=e.getBreakpoint(a,e.params.breakpointsBase,e.el);if(o&&e.currentBreakpoint!==o){var s=(o in a?a[o]:void 0)||e.originalParams,u=wR(e,r),c=wR(e,s),l=r.enabled;u&&!c?(i.classList.remove("".concat(r.containerModifierClass,"grid"),"".concat(r.containerModifierClass,"grid-column")),e.emitContainerClasses()):!u&&c&&(i.classList.add("".concat(r.containerModifierClass,"grid")),(s.grid.fill&&"column"===s.grid.fill||!s.grid.fill&&"column"===r.grid.fill)&&i.classList.add("".concat(r.containerModifierClass,"grid-column")),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((function(t){if("undefined"!==typeof s[t]){var n=r[t]&&r[t].enabled,i=s[t]&&s[t].enabled;n&&!i&&e[t].disable(),!n&&i&&e[t].enable()}}));var f=s.direction&&s.direction!==r.direction,d=r.loop&&(s.slidesPerView!==r.slidesPerView||f);f&&n&&e.changeDirection(),BO(e.params,s);var h=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),l&&!h?e.disable():!l&&h&&e.enable(),e.currentBreakpoint=o,e.emit("_beforeBreakpoint",s),d&&n&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",s)}}},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),e&&("container"!==t||n)){var r=!1,i=MO(),a="window"===t?i.innerHeight:n.clientHeight,o=Object.keys(e).map((function(e){if("string"===typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:a*t,point:e}}return{value:e,point:e}}));o.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var s=0;s<o.length;s+=1){var u=o[s],c=u.point,l=u.value;"window"===t?i.matchMedia("(min-width: ".concat(l,"px)")).matches&&(r=c):l<=n.clientWidth&&(r=c)}return r||"max"}}};var _R={addClasses:function(){var e,t=this,n=t.classNames,r=t.params,i=t.rtl,a=t.el,o=t.device,s=function(e,t){var n=[];return e.forEach((function(e){"object"===typeof e?Object.keys(e).forEach((function(r){e[r]&&n.push(t+r)})):"string"===typeof e&&n.push(t+e)})),n}(["initialized",r.direction,{"free-mode":t.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:i},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&"column"===r.grid.fill},{android:o.android},{ios:o.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);n.push.apply(n,(0,Ni.Z)(s)),(e=a.classList).add.apply(e,(0,Ni.Z)(n)),t.emitContainerClasses()},removeClasses:function(){var e,t=this,n=t.el,r=t.classNames;(e=n.classList).remove.apply(e,(0,Ni.Z)(r)),t.emitContainerClasses()}};var SR={checkOverflow:function(){var e=this,t=e.isLocked,n=e.params,r=n.slidesOffsetBefore;if(r){var i=e.slides.length-1,a=e.slidesGrid[i]+e.slidesSizesGrid[i]+2*r;e.isLocked=e.size>a}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},ER={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function TR(e,t){return function(n){void 0===n&&(n={});var r=Object.keys(n)[0],i=n[r];"object"===typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in i?(!0===e[r]&&(e[r]={enabled:!0}),"object"!==typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),BO(t,n)):BO(t,n)):BO(t,n)}}var IR={eventsEmitter:JO,update:rR,translate:iR,transition:oR,slide:sR,loop:uR,grabCursor:cR,events:bR,breakpoints:xR,checkOverflow:SR,classes:_R},CR={},AR=function(){function e(){var t,n;zr(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(t=i[0],n=i[1]),n||(n={}),n=BO({},n),t&&!n.el&&(n.el=t);var o=NO();if(n.el&&"string"===typeof n.el&&o.querySelectorAll(n.el).length>1){var s=[];return o.querySelectorAll(n.el).forEach((function(t){var r=BO({},n,{el:t});s.push(new e(r))})),s}var u,c=this;(c.__swiper__=!0,c.support=$O(),c.device=YO({userAgent:n.userAgent}),c.browser=XO(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=(0,Ni.Z)(c.__modules__),n.modules&&Array.isArray(n.modules))&&(u=c.modules).push.apply(u,(0,Ni.Z)(n.modules));var l={};c.modules.forEach((function(e){e({params:n,swiper:c,extendParams:TR(n,l),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})}));var f=BO({},ER,l);return c.params=BO({},f,CR,n),c.originalParams=BO({},c.params),c.passedParams=BO({},n),c.params&&c.params.on&&Object.keys(c.params.on).forEach((function(e){c.on(e,c.params.on[e])})),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===c.params.direction},isVertical:function(){return"vertical"===c.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment:function(){return Math.trunc(this.translate/Math.pow(2,23))*Math.pow(2,23)},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}return Br(e,[{key:"getSlideIndex",value:function(e){var t=this.slidesEl,n=this.params,r=ZO(WO(t,".".concat(n.slideClass,", swiper-slide"))[0]);return ZO(e)-r}},{key:"getSlideIndexByData",value:function(e){return this.getSlideIndex(this.slides.filter((function(t){return 1*t.getAttribute("data-swiper-slide-index")===e}))[0])}},{key:"recalcSlides",value:function(){var e=this,t=e.slidesEl,n=e.params;e.slides=WO(t,".".concat(n.slideClass,", swiper-slide"))}},{key:"enable",value:function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}},{key:"disable",value:function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}},{key:"setProgress",value:function(e,t){var n=this;e=Math.min(Math.max(e,0),1);var r=n.minTranslate(),i=(n.maxTranslate()-r)*e+r;n.translateTo(i,"undefined"===typeof t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}},{key:"emitContainerClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}}},{key:"getSlideClasses",value:function(e){var t=this;return t.destroyed?"":e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")}},{key:"emitSlidesClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.forEach((function(n){var r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}}},{key:"slidesPerViewDynamic",value:function(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);var n=this,r=n.params,i=n.slides,a=n.slidesGrid,o=n.slidesSizesGrid,s=n.size,u=n.activeIndex,c=1;if(r.centeredSlides){for(var l,f=i[u]?i[u].swiperSlideSize:0,d=u+1;d<i.length;d+=1)i[d]&&!l&&(c+=1,(f+=i[d].swiperSlideSize)>s&&(l=!0));for(var h=u-1;h>=0;h-=1)i[h]&&!l&&(c+=1,(f+=i[h].swiperSlideSize)>s&&(l=!0))}else if("current"===e)for(var p=u+1;p<i.length;p+=1){(t?a[p]+o[p]-a[u]<s:a[p]-a[u]<s)&&(c+=1)}else for(var v=u-1;v>=0;v-=1){a[u]-a[v]<s&&(c+=1)}return c}},{key:"update",value:function(){var e=this;if(e&&!e.destroyed){var t,n=e.snapGrid,r=e.params;if(r.breakpoints&&e.setBreakpoint(),(0,Ni.Z)(e.el.querySelectorAll('[loading="lazy"]')).forEach((function(t){t.complete&&eR(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if(("auto"===r.slidesPerView||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){var i=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;t=e.slideTo(i.length-1,0,!1,!0)}else t=e.slideTo(e.activeIndex,0,!1,!0);t||a()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function a(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}}},{key:"changeDirection",value:function(e,t){void 0===t&&(t=!0);var n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.el.classList.remove("".concat(n.params.containerModifierClass).concat(r)),n.el.classList.add("".concat(n.params.containerModifierClass).concat(e)),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach((function(t){"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}},{key:"changeLanguageDirection",value:function(e){var t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.el.classList.remove("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}},{key:"mount",value:function(e){var t=this;if(t.mounted)return!0;var n=e||t.params.el;if("string"===typeof n&&(n=document.querySelector(n)),!n)return!1;n.swiper=t,n.parentNode&&n.parentNode.host&&(t.isElement=!0);var r=function(){return".".concat((t.params.wrapperClass||"").trim().split(" ").join("."))},i=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(r()):WO(n,r())[0];return!i&&t.params.createElements&&(i=HO("div",t.params.wrapperClass),n.append(i),WO(n,".".concat(t.params.slideClass)).forEach((function(e){i.append(e)}))),Object.assign(t,{el:n,wrapperEl:i,slidesEl:t.isElement?n.parentNode.host:i,hostEl:t.isElement?n.parentNode.host:n,mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===KO(n,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===KO(n,"direction")),wrongRTL:"-webkit-box"===KO(i,"display")}),!0}},{key:"init",value:function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents(),(0,Ni.Z)(t.el.querySelectorAll('[loading="lazy"]')).forEach((function(e){e.complete?eR(t,e):e.addEventListener("load",(function(e){eR(t,e.target)}))})),nR(t),t.initialized=!0,nR(t),t.emit("init"),t.emit("afterInit")),t}},{key:"destroy",value:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n=this,r=n.params,i=n.el,a=n.wrapperEl,o=n.slides;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),i.removeAttribute("style"),a.removeAttribute("style"),o&&o.length&&o.forEach((function(e){e.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((function(e){n.off(e)})),!1!==e&&(n.el.swiper=null,function(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}}))}(n)),n.destroyed=!0),null}}],[{key:"extendDefaults",value:function(e){BO(CR,e)}},{key:"extendedDefaults",get:function(){return CR}},{key:"defaults",get:function(){return ER}},{key:"installModule",value:function(t){e.prototype.__modules__||(e.prototype.__modules__=[]);var n=e.prototype.__modules__;"function"===typeof t&&n.indexOf(t)<0&&n.push(t)}},{key:"use",value:function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)}}]),e}();Object.keys(IR).forEach((function(e){Object.keys(IR[e]).forEach((function(t){AR.prototype[t]=IR[e][t]}))})),AR.use([function(e){var t=e.swiper,n=e.on,r=e.emit,i=MO(),a=null,o=null,s=function(){t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},u=function(){t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",(function(){t.params.resizeObserver&&"undefined"!==typeof i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(a=new ResizeObserver((function(e){o=i.requestAnimationFrame((function(){var n=t.width,r=t.height,i=n,a=r;e.forEach((function(e){var n=e.contentBoxSize,r=e.contentRect,o=e.target;o&&o!==t.el||(i=r?r.width:(n[0]||n).inlineSize,a=r?r.height:(n[0]||n).blockSize)})),i===n&&a===r||s()}))}))).observe(t.el):(i.addEventListener("resize",s),i.addEventListener("orientationchange",u))})),n("destroy",(function(){o&&i.cancelAnimationFrame(o),a&&a.unobserve&&t.el&&(a.unobserve(t.el),a=null),i.removeEventListener("resize",s),i.removeEventListener("orientationchange",u)}))},function(e){var t=e.swiper,n=e.extendParams,r=e.on,i=e.emit,a=[],o=MO(),s=function(e,n){void 0===n&&(n={});var r=new(o.MutationObserver||o.WebkitMutationObserver)((function(e){if(!t.__preventObserver__)if(1!==e.length){var n=function(){i("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(n):o.setTimeout(n,0)}else i("observerUpdate",e[0])}));r.observe(e,{attributes:"undefined"===typeof n.attributes||n.attributes,childList:"undefined"===typeof n.childList||n.childList,characterData:"undefined"===typeof n.characterData||n.characterData}),a.push(r)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(function(){if(t.params.observer){if(t.params.observeParents)for(var e=function(e,t){for(var n=[],r=e.parentElement;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}(t.el),n=0;n<e.length;n+=1)s(e[n]);s(t.el,{childList:t.params.observeSlideChildren}),s(t.wrapperEl,{attributes:!1})}})),r("destroy",(function(){a.forEach((function(e){e.disconnect()})),a.splice(0,a.length)}))}]);var PR=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function NR(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function OR(e,t){var n=["__proto__","constructor","prototype"];Object.keys(t).filter((function(e){return n.indexOf(e)<0})).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:NR(t[n])&&NR(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:OR(e[n],t[n]):e[n]=t[n]}))}function RR(e){return void 0===e&&(e={}),e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function DR(e){return void 0===e&&(e={}),e.pagination&&"undefined"===typeof e.pagination.el}function LR(e){return void 0===e&&(e={}),e.scrollbar&&"undefined"===typeof e.scrollbar.el}function MR(e){void 0===e&&(e="");var t=e.split(" ").map((function(e){return e.trim()})).filter((function(e){return!!e})),n=[];return t.forEach((function(e){n.indexOf(e)<0&&n.push(e)})),n.join(" ")}function jR(e){return void 0===e&&(e=""),e?e.includes("swiper-wrapper")?e:"swiper-wrapper ".concat(e):"swiper-wrapper"}var FR=["className","tag","wrapperTag","children","onSwiper"],zR=["tag","children","className","swiper","zoom","lazy","virtualIndex","swiperSlideIndex"];function VR(){return VR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VR.apply(this,arguments)}function UR(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function BR(e){var n=[];return t.Children.toArray(e).forEach((function(e){UR(e)?n.push(e):e.props&&e.props.children&&BR(e.props.children).forEach((function(e){return n.push(e)}))})),n}function qR(e){var n=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return t.Children.toArray(e).forEach((function(e){if(UR(e))n.push(e);else if(e.props&&e.props.slot&&r[e.props.slot])r[e.props.slot].push(e);else if(e.props&&e.props.children){var t=BR(e.props.children);t.length>0?t.forEach((function(e){return n.push(e)})):r["container-end"].push(e)}else r["container-end"].push(e)})),{slides:n,slots:r}}function GR(e,n){return"undefined"===typeof window?(0,t.useEffect)(e,n):(0,t.useLayoutEffect)(e,n)}var WR=(0,t.createContext)(null),HR=(0,t.createContext)(null),KR=(0,t.forwardRef)((function(e,n){var r=void 0===e?{}:e,a=r.className,o=r.tag,s=void 0===o?"div":o,u=r.wrapperTag,c=void 0===u?"div":u,l=r.children,f=r.onSwiper,d=IO(r,FR),h=!1,p=(0,t.useState)("swiper"),v=(0,i.Z)(p,2),m=v[0],g=v[1],y=(0,t.useState)(null),k=(0,i.Z)(y,2),b=k[0],w=k[1],x=(0,t.useState)(!1),_=(0,i.Z)(x,2),S=_[0],E=_[1],T=(0,t.useRef)(!1),I=(0,t.useRef)(null),C=(0,t.useRef)(null),A=(0,t.useRef)(null),P=(0,t.useRef)(null),N=(0,t.useRef)(null),O=(0,t.useRef)(null),R=(0,t.useRef)(null),D=(0,t.useRef)(null),L=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);var n={on:{}},r={},i={};OR(n,AR.defaults),OR(n,AR.extendedDefaults),n._emitClasses=!0,n.init=!1;var a={},o=PR.map((function(e){return e.replace(/_/,"")})),s=Object.assign({},e);return Object.keys(s).forEach((function(s){"undefined"!==typeof e[s]&&(o.indexOf(s)>=0?NR(e[s])?(n[s]={},i[s]={},OR(n[s],e[s]),OR(i[s],e[s])):(n[s]=e[s],i[s]=e[s]):0===s.search(/on[A-Z]/)&&"function"===typeof e[s]?t?r["".concat(s[2].toLowerCase()).concat(s.substr(3))]=e[s]:n.on["".concat(s[2].toLowerCase()).concat(s.substr(3))]=e[s]:a[s]=e[s])})),["navigation","pagination","scrollbar"].forEach((function(e){!0===n[e]&&(n[e]={}),!1===n[e]&&delete n[e]})),{params:n,passedParams:i,rest:a,events:r}}(d),M=L.params,j=L.passedParams,F=L.rest,z=L.events,V=qR(l),U=V.slides,B=V.slots,q=function(){E(!S)};Object.assign(M.on,{_containerClasses:function(e,t){g(t)}});var G=function(){Object.assign(M.on,z),h=!0;var e=Zi({},M);if(delete e.wrapperClass,C.current=new AR(e),C.current.virtual&&C.current.params.virtual.enabled){C.current.virtual.slides=U;var t={cache:!1,slides:U,renderExternal:w,renderExternalUpdate:!1};OR(C.current.params.virtual,t),OR(C.current.originalParams.virtual,t)}};I.current||G(),C.current&&C.current.on("_beforeBreakpoint",q);return(0,t.useEffect)((function(){return function(){C.current&&C.current.off("_beforeBreakpoint",q)}})),(0,t.useEffect)((function(){!T.current&&C.current&&(C.current.emitSlidesClasses(),T.current=!0)})),GR((function(){if(n&&(n.current=I.current),I.current)return C.current.destroyed&&G(),function(e,t){var n=e.el,r=e.nextEl,i=e.prevEl,a=e.paginationEl,o=e.scrollbarEl,s=e.swiper;RR(t)&&r&&i&&(s.params.navigation.nextEl=r,s.originalParams.navigation.nextEl=r,s.params.navigation.prevEl=i,s.originalParams.navigation.prevEl=i),DR(t)&&a&&(s.params.pagination.el=a,s.originalParams.pagination.el=a),LR(t)&&o&&(s.params.scrollbar.el=o,s.originalParams.scrollbar.el=o),s.init(n)}({el:I.current,nextEl:N.current,prevEl:O.current,paginationEl:R.current,scrollbarEl:D.current,swiper:C.current},M),f&&f(C.current),function(){C.current&&!C.current.destroyed&&C.current.destroy(!0,!1)}}),[]),GR((function(){!h&&z&&C.current&&Object.keys(z).forEach((function(e){C.current.on(e,z[e])}));var e=function(e,t,n,r,i){var a=[];if(!t)return a;var o=function(e){a.indexOf(e)<0&&a.push(e)};if(n&&r){var s=r.map(i),u=n.map(i);s.join("")!==u.join("")&&o("children"),r.length!==n.length&&o("children")}var c=PR.filter((function(e){return"_"===e[0]})).map((function(e){return e.replace(/_/,"")}));return c.forEach((function(n){if(n in e&&n in t)if(NR(e[n])&&NR(t[n])){var r=Object.keys(e[n]),i=Object.keys(t[n]);r.length!==i.length?o(n):(r.forEach((function(r){e[n][r]!==t[n][r]&&o(n)})),i.forEach((function(r){e[n][r]!==t[n][r]&&o(n)})))}else e[n]!==t[n]&&o(n)})),a}(j,A.current,U,P.current,(function(e){return e.key}));return A.current=j,P.current=U,e.length&&C.current&&!C.current.destroyed&&function(e){var t,n,r,i,a,o,s,u,c=e.swiper,l=e.slides,f=e.passedParams,d=e.changedParams,h=e.nextEl,p=e.prevEl,v=e.scrollbarEl,m=e.paginationEl,g=d.filter((function(e){return"children"!==e&&"direction"!==e&&"wrapperClass"!==e})),y=c.params,k=c.pagination,b=c.navigation,w=c.scrollbar,x=c.virtual,_=c.thumbs;d.includes("thumbs")&&f.thumbs&&f.thumbs.swiper&&y.thumbs&&!y.thumbs.swiper&&(t=!0),d.includes("controller")&&f.controller&&f.controller.control&&y.controller&&!y.controller.control&&(n=!0),d.includes("pagination")&&f.pagination&&(f.pagination.el||m)&&(y.pagination||!1===y.pagination)&&k&&!k.el&&(r=!0),d.includes("scrollbar")&&f.scrollbar&&(f.scrollbar.el||v)&&(y.scrollbar||!1===y.scrollbar)&&w&&!w.el&&(i=!0),d.includes("navigation")&&f.navigation&&(f.navigation.prevEl||p)&&(f.navigation.nextEl||h)&&(y.navigation||!1===y.navigation)&&b&&!b.prevEl&&!b.nextEl&&(a=!0);var S=function(e){c[e]&&(c[e].destroy(),"navigation"===e?(c.isElement&&(c[e].prevEl.remove(),c[e].nextEl.remove()),y[e].prevEl=void 0,y[e].nextEl=void 0,c[e].prevEl=void 0,c[e].nextEl=void 0):(c.isElement&&c[e].el.remove(),y[e].el=void 0,c[e].el=void 0))};d.includes("loop")&&c.isElement&&(y.loop&&!f.loop?o=!0:!y.loop&&f.loop?s=!0:u=!0),g.forEach((function(e){if(NR(y[e])&&NR(f[e]))OR(y[e],f[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in f[e])||f[e].enabled||S(e);else{var t=f[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?y[e]=f[e]:!1===t&&S(e)}})),g.includes("controller")&&!n&&c.controller&&c.controller.control&&y.controller&&y.controller.control&&(c.controller.control=y.controller.control),d.includes("children")&&l&&x&&y.virtual.enabled&&(x.slides=l,x.update(!0)),d.includes("children")&&l&&y.loop&&(u=!0),t&&_.init()&&_.update(!0),n&&(c.controller.control=y.controller.control),r&&(!c.isElement||m&&"string"!==typeof m||((m=document.createElement("div")).classList.add("swiper-pagination"),c.el.appendChild(m)),m&&(y.pagination.el=m),k.init(),k.render(),k.update()),i&&(!c.isElement||v&&"string"!==typeof v||((v=document.createElement("div")).classList.add("swiper-scrollbar"),c.el.appendChild(v)),v&&(y.scrollbar.el=v),w.init(),w.updateSize(),w.setTranslate()),a&&(c.isElement&&(h&&"string"!==typeof h||((h=document.createElement("div")).classList.add("swiper-button-next"),h.innerHTML=c.hostEl.nextButtonSvg,c.el.appendChild(h)),p&&"string"!==typeof p||((p=document.createElement("div")).classList.add("swiper-button-prev"),h.innerHTML=c.hostEl.prevButtonSvg,c.el.appendChild(p))),h&&(y.navigation.nextEl=h),p&&(y.navigation.prevEl=p),b.init(),b.update()),d.includes("allowSlideNext")&&(c.allowSlideNext=f.allowSlideNext),d.includes("allowSlidePrev")&&(c.allowSlidePrev=f.allowSlidePrev),d.includes("direction")&&c.changeDirection(f.direction,!1),(o||u)&&c.loopDestroy(),(s||u)&&c.loopCreate(),c.update()}({swiper:C.current,slides:U,passedParams:j,changedParams:e,nextEl:N.current,prevEl:O.current,scrollbarEl:D.current,paginationEl:R.current}),function(){z&&C.current&&Object.keys(z).forEach((function(e){C.current.off(e,z[e])}))}})),GR((function(){!function(e){!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}(C.current)}),[b]),t.createElement(s,VR({ref:I,className:MR("".concat(m).concat(a?" ".concat(a):""))},F),t.createElement(HR.Provider,{value:C.current},B["container-start"],t.createElement(c,{className:jR(M.wrapperClass)},B["wrapper-start"],M.virtual?function(e,n,r){if(!r)return null;for(var i=function(e){var t=e;return e<0?t=n.length+e:t>=n.length&&(t-=n.length),t},a=e.isHorizontal()?(0,Fr.Z)({},e.rtlTranslate?"right":"left","".concat(r.offset,"px")):{top:"".concat(r.offset,"px")},o=r.from,s=r.to,u=e.params.loop?-n.length:0,c=e.params.loop?2*n.length:n.length,l=[],f=u;f<c;f+=1)f>=o&&f<=s&&l.push(n[i(f)]);return l.map((function(n,r){return t.cloneElement(n,{swiper:e,style:a,key:"slide-".concat(r)})}))}(C.current,U,b):U.map((function(e,n){return t.cloneElement(e,{swiper:C.current,swiperSlideIndex:n})})),B["wrapper-end"]),RR(M)&&t.createElement(t.Fragment,null,t.createElement("div",{ref:O,className:"swiper-button-prev"}),t.createElement("div",{ref:N,className:"swiper-button-next"})),LR(M)&&t.createElement("div",{ref:D,className:"swiper-scrollbar"}),DR(M)&&t.createElement("div",{ref:R,className:"swiper-pagination"}),B["container-end"]))}));KR.displayName="Swiper";var ZR,QR,$R,YR,XR,JR=(0,t.forwardRef)((function(e,n){var r=void 0===e?{}:e,a=r.tag,o=void 0===a?"div":a,s=r.children,u=r.className,c=void 0===u?"":u,l=r.swiper,f=r.zoom,d=r.lazy,h=r.virtualIndex,p=r.swiperSlideIndex,v=IO(r,zR),m=(0,t.useRef)(null),g=(0,t.useState)("swiper-slide"),y=(0,i.Z)(g,2),k=y[0],b=y[1],w=(0,t.useState)(!1),x=(0,i.Z)(w,2),_=x[0],S=x[1];function E(e,t,n){t===m.current&&b(n)}GR((function(){if("undefined"!==typeof p&&(m.current.swiperSlideIndex=p),n&&(n.current=m.current),m.current&&l){if(!l.destroyed)return l.on("_slideClass",E),function(){l&&l.off("_slideClass",E)};"swiper-slide"!==k&&b("swiper-slide")}})),GR((function(){l&&m.current&&!l.destroyed&&b(l.getSlideClasses(m.current))}),[l]);var T={isActive:k.indexOf("swiper-slide-active")>=0,isVisible:k.indexOf("swiper-slide-visible")>=0,isPrev:k.indexOf("swiper-slide-prev")>=0,isNext:k.indexOf("swiper-slide-next")>=0},I=function(){return"function"===typeof s?s(T):s};return t.createElement(o,VR({ref:m,className:MR("".concat(k).concat(c?" ".concat(c):"")),"data-swiper-slide-index":h,onLoad:function(){S(!0)}},v),f&&t.createElement(WR.Provider,{value:T},t.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof f?f:void 0},I(),d&&!_&&t.createElement("div",{className:"swiper-lazy-preloader"}))),!f&&t.createElement(WR.Provider,{value:T},I(),d&&!_&&t.createElement("div",{className:"swiper-lazy-preloader"})))}));function eD(e){var t=e.swiper,n=e.extendParams,r=e.on,i=e.emit;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};var a=function(e){return Array.isArray(e)||(e=[e].filter((function(e){return!!e}))),e};function o(e){var n;return e&&"string"===typeof e&&t.isElement&&(n=t.el.querySelector(e))?n:(e&&("string"===typeof e&&(n=(0,Ni.Z)(document.querySelectorAll(e))),t.params.uniqueNavElements&&"string"===typeof e&&n.length>1&&1===t.el.querySelectorAll(e).length&&(n=t.el.querySelector(e))),e&&!n?e:n)}function s(e,n){var r=t.params.navigation;(e=a(e)).forEach((function(e){var i;e&&((i=e.classList)[n?"add":"remove"].apply(i,(0,Ni.Z)(r.disabledClass.split(" "))),"BUTTON"===e.tagName&&(e.disabled=n),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](r.lockClass))}))}function u(){var e=t.navigation,n=e.nextEl,r=e.prevEl;if(t.params.loop)return s(r,!1),void s(n,!1);s(r,t.isBeginning&&!t.params.rewind),s(n,t.isEnd&&!t.params.rewind)}function c(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function l(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function f(){var e=t.params.navigation;if(t.params.navigation=function(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach((function(i){if(!n[i]&&!0===n.auto){var a=WO(e.el,".".concat(r[i]))[0];a||((a=HO("div",r[i])).className=r[i],e.el.append(a)),n[i]=a,t[i]=a}})),n}(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),e.nextEl||e.prevEl){var n=o(e.nextEl),r=o(e.prevEl);Object.assign(t.navigation,{nextEl:n,prevEl:r}),n=a(n),r=a(r);var i=function(n,r){var i;(n&&n.addEventListener("click","next"===r?l:c),!t.enabled&&n)&&(i=n.classList).add.apply(i,(0,Ni.Z)(e.lockClass.split(" ")))};n.forEach((function(e){return i(e,"next")})),r.forEach((function(e){return i(e,"prev")}))}}function d(){var e=t.navigation,n=e.nextEl,r=e.prevEl;n=a(n),r=a(r);var i=function(e,n){var r;e.removeEventListener("click","next"===n?l:c),(r=e.classList).remove.apply(r,(0,Ni.Z)(t.params.navigation.disabledClass.split(" ")))};n.forEach((function(e){return i(e,"next")})),r.forEach((function(e){return i(e,"prev")}))}r("init",(function(){!1===t.params.navigation.enabled?h():(f(),u())})),r("toEdge fromEdge lock unlock",(function(){u()})),r("destroy",(function(){d()})),r("enable disable",(function(){var e=t.navigation,n=e.nextEl,r=e.prevEl;n=a(n),r=a(r),[].concat((0,Ni.Z)(n),(0,Ni.Z)(r)).filter((function(e){return!!e})).forEach((function(e){return e.classList[t.enabled?"remove":"add"](t.params.navigation.lockClass)}))})),r("click",(function(e,n){var r=t.navigation,o=r.nextEl,s=r.prevEl;o=a(o),s=a(s);var u=n.target;if(t.params.navigation.hideOnClick&&!s.includes(u)&&!o.includes(u)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===u||t.pagination.el.contains(u)))return;var c;o.length?c=o[0].classList.contains(t.params.navigation.hiddenClass):s.length&&(c=s[0].classList.contains(t.params.navigation.hiddenClass)),i(!0===c?"navigationShow":"navigationHide"),[].concat((0,Ni.Z)(o),(0,Ni.Z)(s)).filter((function(e){return!!e})).forEach((function(e){return e.classList.toggle(t.params.navigation.hiddenClass)}))}}));var h=function(){var e;(e=t.el.classList).add.apply(e,(0,Ni.Z)(t.params.navigation.navigationDisabledClass.split(" "))),d()};Object.assign(t.navigation,{enable:function(){var e;(e=t.el.classList).remove.apply(e,(0,Ni.Z)(t.params.navigation.navigationDisabledClass.split(" "))),f(),u()},disable:h,update:u,init:f,destroy:d})}JR.displayName="SwiperSlide";var tD,nD,rD,iD,aD=function(e){var n=e.signIn,r=(e.signOut,(0,t.useState)([])),a=(0,i.Z)(r,2),o=a[0],s=a[1];return(0,t.useEffect)((function(){console.log("Call products"),UN.collection("products").onSnapshot((function(e){var t;t=e.docs.map((function(e){return{id:e.id,product:e.data()}})),s(t)}))}),[]),(0,kr.jsxs)(oD,{className:"ContainerPart1",children:[(0,kr.jsxs)(sD,{className:"BannerPart1",children:[(0,kr.jsxs)(KR,{navigation:!0,modules:[eD],className:"mySwiper",children:[(0,kr.jsx)(JR,{children:(0,kr.jsx)("img",{src:"https://images-eu.ssl-images-amazon.com/images/G/31/img21/Wireless/Shreyansh/BAU/Unrexc/D70978891_INWLD_BAU_Unrec_Uber_PC_Hero_3000x1200._CB594707876_.jpg",alt:""})}),(0,kr.jsx)(JR,{children:(0,kr.jsx)("img",{src:"https://images-eu.ssl-images-amazon.com/images/G/31/img2020/img21/apparelGW/junatf23/unrecapay/MA_3000._CB603210873_.jpg",alt:""})}),(0,kr.jsx)(JR,{children:(0,kr.jsx)("img",{src:"https://m.media-amazon.com/images/I/61aURrton0L._SX3000_.jpg",alt:""})}),(0,kr.jsx)(JR,{children:(0,kr.jsx)("img",{src:"https://images-eu.ssl-images-amazon.com/images/G/31/img23/Softlines_JWL_SH_GW_Assets/July_23/ATF/Unrec/Kotak_bankStripe/Shoes/Shoes_3000._CB599886137_.jpg",alt:""})}),(0,kr.jsx)(JR,{children:(0,kr.jsx)("img",{src:"https://images-eu.ssl-images-amazon.com/images/G/31/Biss_2023/BISS_GW/GWNEW/GWNEW2/PC._CB600098968_.jpg",alt:""})})]}),(0,kr.jsx)("div",{className:"h-[50%] bg-gradient-to-b from-stone-900"})]}),(0,kr.jsxs)(uD,{className:"ContentPart1",children:[o.map((function(e){return(0,kr.jsx)(bO,{title:e.product.name,price:e.product.price,rating:e.product.rating,image:e.product.image,id:e.id})})),(0,kr.jsxs)(cD,{className:"for-SignIn-part",children:[(0,kr.jsx)("h2",{className:"text-sign-in",children:"Sign in for your best experience"}),(0,kr.jsx)(lD,{className:"Sign-in-written-part",onClick:function(e){return n("mario",e)},children:(0,kr.jsx)("h3",{children:"Sign in securely"})})]})]})]})},oD=Gt.div(ZR||(ZR=a(["\n\n"]))),sD=Gt.div(QR||(QR=a(["\n    // background-image: url('https://i.imgur.com/SYHeuYM.jpg');\n    // min-height:600px; \n    // background-position: center;\n    // background-size: cover;\n    // mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0));\n"]))),uD=Gt.div($R||($R=a(["\n    // background-color: solid\n    margin-top: -350px;\n    position: relative;\n    display: flex;\n    // margin-left: 115px;\n    flex: grow;\n"]))),cD=Gt.div(YR||(YR=a([""]))),lD=Gt.button(XR||(XR=a(["\n    :hover {\n        background: #ddb347;\n    }\n\n"])));var fD=function(e){var t=e.setUser;return(0,kr.jsx)(dD,{children:(0,kr.jsxs)(hD,{children:[(0,kr.jsx)(pD,{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/2560px-Amazon_logo.svg.png"}),(0,kr.jsx)("h1",{children:"Sign into Amazon"}),(0,kr.jsx)(vD,{onClick:function(){BN.signInWithPopup(qN).then((function(e){var n=e.user,r={name:n.displayName,email:n.email,photo:n.photoURL};localStorage.setItem("user",JSON.stringify(r)),t(r)})).catch((function(e){alert(e.message)}))},children:"Sign in with Google"})]})})},dD=Gt.div(tD||(tD=a(["\n    width: 100%;\n    height: 100vh;\n    background-color: #f8f8f8;\n    display:grid;\n    place-items:center;\n"]))),hD=Gt.div(nD||(nD=a(["\n    padding: 100px;\n    background-color: white;\n    border-radius:  5px;\n    box-shadow: 0 1px 3px gray;\n    text-align: center;\n"]))),pD=Gt.img(rD||(rD=a(["\n    height:  100px;\n    margin-botton: 40px;\n"]))),vD=Gt.button(iD||(iD=a(["\n    margin-top: 50px;\n    background-color: #f0c14b;\n    height: 40px;\n    border: 2px solid 3a88734;\n    border-radius:4px;\n    padding: 4px 8px;\n    cursor: pointer;\n"])));var mD,gD,yD,kD,bD,wD,xD,_D,SD,ED=function(){return(0,kr.jsxs)("div",{className:"main",children:[(0,kr.jsx)("div",{className:"Content1",children:(0,kr.jsxs)("div",{className:"cont1",children:[(0,kr.jsx)("h2",{children:"Appliances for your home | Up to 55% off"}),(0,kr.jsx)(Jn,{to:"/Ac",children:(0,kr.jsx)("img",{className:"Cop1",src:"https://images-eu.ssl-images-amazon.com/images/G/31/IMG15/Irfan/GATEWAY/MSO/Appliances-QC-PC-372x232----B08RDL6H79._SY232_CB667322346_.jpg",alt:!0})}),(0,kr.jsx)(Jn,{to:"/Test",children:(0,kr.jsx)("img",{className:"Cop2",src:"https://images-eu.ssl-images-amazon.com/images/G/31/IMG15/Irfan/GATEWAY/MSO/B08345R1ZW---372x232._SY232_CB667322346_.jpg",alt:!0})}),(0,kr.jsx)("img",{className:"Cop3",src:"https://images-eu.ssl-images-amazon.com/images/G/31/IMG15/Irfan/GATEWAY/MSO/B07G5J5FYP._SY232_CB667322346_.jpg",alt:""}),(0,kr.jsx)("img",{className:"Cop4",src:"https://images-eu.ssl-images-amazon.com/images/G/31/IMG15/Irfan/GATEWAY/MSO/Appliances-QC-PC-186x116--B08CPQVLZT._SY232_CB667322346_.jpg",alt:!0}),(0,kr.jsx)("h4",{children:"See more"})]})}),(0,kr.jsx)("div",{className:"Content2",children:(0,kr.jsxs)("div",{className:"cont2",children:[(0,kr.jsx)("h2",{children:"Up to 60% off | Professional tools, testing & more"}),(0,kr.jsx)("img",{className:"C2op1",src:"https://images-eu.ssl-images-amazon.com/images/G/31/img17/Biss/2018/QC/Tools2x._SY232_CB424026090_.jpg",alt:!0}),(0,kr.jsx)("img",{className:"C2op2",src:"https://images-eu.ssl-images-amazon.com/images/G/31/img17/Biss/2021/BAU_GW_Graphics/PCQC/372X2322._SY232_CB643952553_.jpg",alt:!0}),(0,kr.jsx)("img",{className:"C2op3",src:"https://images-eu.ssl-images-amazon.com/images/G/31/img17/Biss/2021/BAU_GW_Graphics/PCQC/372X2321._SY232_CB643952553_.jpg",alt:""}),(0,kr.jsx)("img",{className:"C2op4",src:"https://images-eu.ssl-images-amazon.com/images/G/31/img17/Biss/2018/QC/med2x._SY232_CB424026091_.jpg",alt:!0}),(0,kr.jsx)("h4",{children:"See more"})]})}),(0,kr.jsx)("div",{className:"Content3",children:(0,kr.jsxs)("div",{className:"cont3",children:[(0,kr.jsx)("h2",{children:"Baby essentials & toys | Amazon brands & more"}),(0,kr.jsx)("img",{className:"C3op1",src:"https://images-eu.ssl-images-amazon.com/images/G/31/img22/AmazonBrands/Bikram/Bikram1/Tiles_x1_x372_1._SY232_CB587916403_.jpg",alt:!0}),(0,kr.jsx)("img",{className:"C3op2",src:"https://images-eu.ssl-images-amazon.com/images/G/31/img22/AmazonBrands/Bikram/Bikram1/Tiles_x1_x372_2._SY232_CB587916403_.jpg",alt:!0}),(0,kr.jsx)("img",{className:"C3op3",src:"https://images-eu.ssl-images-amazon.com/images/G/31/img22/AmazonBrands/Bikram/Bikram1/Tiles_x1_x372_3._SY232_CB587916403_.jpg",alt:""}),(0,kr.jsx)("img",{className:"C3op4",src:"https://images-eu.ssl-images-amazon.com/images/G/31/img22/AmazonBrands/Bikram/Bikram1/Tiles_x1_x372_4._SY232_CB587916403_.jpg",alt:!0}),(0,kr.jsx)("h4",{children:"See more"})]})}),(0,kr.jsx)("div",{className:"Content4",children:(0,kr.jsxs)("div",{className:"cont4",children:[(0,kr.jsx)("h2",{children:"Automotive essentials | Up to 60% off"}),(0,kr.jsx)("img",{className:"C4op1",src:"https://images-eu.ssl-images-amazon.com/images/G/31/IMG15/Irfan/GATEWAY/MSO/Appliances-QC-PC-372x232----B08RDL6H79._SY232_CB667322346_.jpg",alt:!0}),(0,kr.jsx)("img",{className:"C4op2",src:"https://images-eu.ssl-images-amazon.com/images/G/31/IMG15/Irfan/GATEWAY/MSO/B08345R1ZW---372x232._SY232_CB667322346_.jpg",alt:"hgvhgvhgjvh"}),(0,kr.jsx)("img",{className:"C4op3",src:"https://images-eu.ssl-images-amazon.com/images/G/31/IMG15/Irfan/GATEWAY/MSO/B07G5J5FYP._SY232_CB667322346_.jpg",alt:""}),(0,kr.jsx)("img",{className:"C4op4",src:"https://images-eu.ssl-images-amazon.com/images/G/31/IMG15/Irfan/GATEWAY/MSO/Appliances-QC-PC-186x116--B08CPQVLZT._SY232_CB667322346_.jpg",alt:!0}),(0,kr.jsx)("h4",{children:"See more"})]})})]})},TD=function(e){var t=e.title,n=e.price,r=e.rating,i=e.image,a=e.id;return(0,kr.jsx)("div",{className:"Container",children:(0,kr.jsxs)(ID,{className:"Contain",children:[(0,kr.jsx)(CD,{className:"Title",children:t}),(0,kr.jsxs)(AD,{className:"Price",children:["$",n]}),(0,kr.jsx)(PD,{className:"Rating",children:Array(r).fill().map((function(e){return(0,kr.jsx)("p",{children:"\u2b50\ufe0f"})}))}),(0,kr.jsx)(ND,{className:"imga",src:i}),(0,kr.jsx)(OD,{className:"CartButton",onClick:function(){var e=UN.collection("cartItems").doc(a);e.get().then((function(r){console.log(r),r.exists?e.update({quantity:r.data().quantity+1}):UN.collection("cartItems").doc(a).set({name:t,image:i,price:n,quantity:1})}))},children:"Add To Cart"})]})})},ID=Gt.div(mD||(mD=a(["\n    // background-color: white;\n    // z-index: 100;\n    // width: 550px;\n    // height: 904px; \n    // flex: 1;\n    // padding: 0px;\n    // margin: 25px;\n    // max-height: 420px;\n    // display: flex;\n    // flex-direction: column;\n    // width: 100%;\n    // object-fit: cover;\n"]))),CD=Gt.h3(gD||(gD=a(["\n    margin-top:10px;\n    padding-left: 15px;\n"]))),AD=Gt.span(yD||(yD=a(["\n    font-weight: 500;\n    margin-top: 10px;\n    margin-left: 14px;\n\n"]))),PD=Gt.div(kD||(kD=a(["\n\n    // display: flex;\n    // margin-left: 14px;\n\n"]))),ND=Gt.img(bD||(bD=a(["\n    // max-height: 302px;\n    // object-fit: contain;\n    // margin-top: -1px;\n    // margin-left: 0px;\n    // width: 100%;\n    // object-fit: cover;\n"]))),OD=Gt.button(wD||(wD=a(["\n    // width: 98px;\n    // height: 89px;\n    // margin-left: 228px;\n    // margin-top: 10px;\n    // background-color: #f0c14b;\n    // border: 3px solid #a88734;\n    // border-radius: 2px;\n    // cursor: pointer;\n"])));var RD=function(){var e=(0,t.useState)([]),n=(0,i.Z)(e,2),r=n[0],a=n[1];return(0,t.useEffect)((function(){console.log("Call products"),UN.collection("Ac").onSnapshot((function(e){var t;t=e.docs.map((function(e){return{id:e.id,product:e.data()}})),a(t)}))}),[]),(0,kr.jsxs)(DD,{children:[(0,kr.jsx)(LD,{className:"AcBg"}),(0,kr.jsx)(MD,{className:"AcPro",children:r.map((function(e){return(0,kr.jsx)(TD,{title:e.product.name,price:e.product.price,rating:e.product.rating,image:e.product.image,id:e.id})}))})]})},DD=Gt.div(xD||(xD=a(["\n    \n"]))),LD=Gt.div(_D||(_D=a(["\n    // background-image: url('https://i.imgur.com/SYHeuYM.jpg');\n    // min-height:600px; \n    // background-position: center;\n    // background-size: cover;\n    // mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0));\n"]))),MD=Gt.div(SD||(SD=a(["\n    // margin-top: -350px;\n    // position: relative;\n    // display: flex;\n    // margin-left: 115px;\n    // flex: grow;\n"])));var jD,FD,zD,VD,UD=function(){return(0,kr.jsx)("div",{className:"a",children:(0,kr.jsx)("img",{className:"b",src:"https://images.pexels.com/photos/1379636/pexels-photo-1379636.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:!0})})},BD=function(){return(0,kr.jsxs)("div",{className:"grid grid-cols-3",children:[(0,kr.jsx)("div",{children:"1"}),(0,kr.jsx)("div",{children:"1"}),(0,kr.jsx)("div",{children:"1"}),(0,kr.jsx)("div",{children:"1"})]})},qD=co.initializeApp({apiKey:"AIzaSyDyINIuj2kaeftGpqDhCu9xq8Y4gcF-JD0",authDomain:"clone-a2862.firebaseapp.com",projectId:"clone-a2862",storageBucket:"clone-a2862.appspot.com",messagingSenderId:"475349026337",appId:"1:475349026337:web:249a35059f8ad766430560",measurementId:"G-JMRHWYM5HQ"}),GD=qD.firestore(),WD=qD.auth(),HD=new co.auth.GoogleAuthProvider;var KD,ZD,QD,$D,YD,XD,JD,eL,tL,nL,rL,iL,aL,oL,sL,uL,cL,lL=function(e){var t=e.setUser;return(0,kr.jsx)(fL,{children:(0,kr.jsxs)(dL,{children:[(0,kr.jsx)(hL,{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/2560px-Amazon_logo.svg.png"}),(0,kr.jsx)("h1",{children:"Sign into Amazon"}),(0,kr.jsx)(pL,{onClick:function(){WD.signInWithPopup(HD).then((function(e){var n=e.user,r={name:n.displayName,email:n.email,photo:n.photoURL};localStorage.setItem("user",JSON.stringify(r)),t(r)})).catch((function(e){alert(e.message)}))},children:"Sign in with Google"})]})})},fL=Gt.div(jD||(jD=a(["\n    width: 100%;\n    height: 100vh;\n    background-color: #f8f8f8;\n    display:grid;\n    place-items:center;\n"]))),dL=Gt.div(FD||(FD=a(["\n    padding: 100px;\n    background-color: white;\n    border-radius:  5px;\n    box-shadow: 0 1px 3px gray;\n    text-align: center;\n"]))),hL=Gt.img(zD||(zD=a(["\n    height:  100px;\n    margin-botton: 40px;\n"]))),pL=Gt.button(VD||(VD=a(["\n    margin-top: 50px;\n    background-color: #f0c14b;\n    height: 40px;\n    border: 2px solid 3a88734;\n    border-radius:4px;\n    padding: 4px 8px;\n    cursor: pointer;\n"])));var vL,mL,gL,yL,kL,bL,wL,xL,_L,SL,EL=function(e){var t=e.cartItems;return e.user,e.signOut,(0,kr.jsxs)("div",{children:[(0,kr.jsxs)(TL,{children:[(0,kr.jsx)(IL,{children:(0,kr.jsx)(Jn,{to:"/",children:(0,kr.jsx)("img",{src:"https://i0.wp.com/www.dafontfree.co/wp-content/uploads/2021/11/Amazon-Logo-Font-1-scaled.jpg?fit=2560%2C1578&ssl=1",alt:" "})})}),(0,kr.jsxs)(CL,{children:[(0,kr.jsx)(Kt.Z,{}),(0,kr.jsxs)(LL,{children:[(0,kr.jsx)(AL,{children:"Hello"}),(0,kr.jsx)(PL,{children:"Select your address"})]})]}),(0,kr.jsxs)(NL,{children:[(0,kr.jsxs)(zL,{className:"p-2 bg-gray-300 text-black border text-xs xl:text-sm",children:[(0,kr.jsx)("option",{children:"All"}),(0,kr.jsx)("option",{children:"Deals"}),(0,kr.jsx)("option",{children:"Amazon"}),(0,kr.jsx)("option",{children:"Fashion"}),(0,kr.jsx)("option",{children:"Computers"}),(0,kr.jsx)("option",{children:"Home"}),(0,kr.jsx)("option",{children:"Mobiles"})]}),(0,kr.jsx)(OL,{type:"text"}),(0,kr.jsx)(RL,{children:(0,kr.jsx)(Wt.Z,{})})]}),(0,kr.jsxs)(DL,{children:[(0,kr.jsx)("div",{children:(0,kr.jsxs)(VL,{children:[(0,kr.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/4/41/Flag_of_India.svg/255px-Flag_of_India.svg.png"}),(0,kr.jsxs)(UL,{className:" text-white",children:[(0,kr.jsx)("option",{children:"EN"}),(0,kr.jsx)("hr",{}),(0,kr.jsx)("option",{children:"Hindi"}),(0,kr.jsx)("option",{children:"Tamil"}),(0,kr.jsx)("option",{children:"Gujrati"}),(0,kr.jsx)("option",{children:"Panjabi"}),(0,kr.jsx)("option",{children:"Telgu"})]})]})}),(0,kr.jsxs)(LL,{children:[(0,kr.jsx)(AL,{children:"Hello,sign in"}),(0,kr.jsxs)(PL,{children:["Account & Lists",(0,kr.jsxs)(BL,{className:" text-white",children:[(0,kr.jsx)("option",{}),(0,kr.jsx)("hr",{})]})]})]}),(0,kr.jsxs)(LL,{children:[(0,kr.jsx)(AL,{children:"Return"}),(0,kr.jsx)(PL,{children:"& Orders"})]}),(0,kr.jsx)(ML,{children:(0,kr.jsxs)(Jn,{to:"/Cart",children:[(0,kr.jsx)(Ht.Z,{}),(0,kr.jsxs)(jL,{children:[function(){var e=0;return t.forEach((function(t){e+=t.product.quantity})),e}()," Cart"]})]})})]})]}),(0,kr.jsxs)(FL,{className:"flex bg text-white space-x-3 text-xs xl:text-sm p-2 pl-6",children:[(0,kr.jsx)("div",{children:"Today's Deals"}),(0,kr.jsx)("div",{children:"Customer Service"}),(0,kr.jsx)("div",{children:"Registry"}),(0,kr.jsx)("div",{children:"Gift Cards"}),(0,kr.jsx)("div",{children:"Sell"})]})]})},TL=Gt.div(KD||(KD=a(["\n    height: 60px;\n    background-color: #0F1111;\n    display: flex;\n    align-items: center;\n    color: white;\n    justify-content: space-between;\n"]))),IL=Gt.div(ZD||(ZD=a(["\n    img{\n        width: 100px;\n        margin-left: 11px;\n    }\n"]))),CL=Gt.div(QD||(QD=a(["\n    padding-left: 9px;\n    display: flex;\n    align-items: center;\n"]))),AL=Gt.div($D||($D=a(["\n\n"]))),PL=Gt.div(YD||(YD=a(["\n    font-weight: 700;  \n"]))),NL=Gt.div(XD||(XD=a(["\n    display:flex;\n    flex-grow: 1;\n    height: 40px;\n    border-radius: 4px;\n    overflow: hidden; // It just match the border \n    margin-left: 4px;\n\n"]))),OL=Gt.input(JD||(JD=a(["\n    flex-grow: 1;\n    border: 0;\n    outline: none;\n \n"]))),RL=Gt.div(eL||(eL=a(["\n    background-color: orange;\n    width: 45px;\n    color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    \n"]))),DL=Gt.div(tL||(tL=a(["\n    display: flex;\n"]))),LL=Gt.div(nL||(nL=a(["\n// TROUBLE\n    padding: 10px 9px 10px 9px;\n    cursor: pointer;\n    // margin-left: 8px;\n    // margin-right:8px;\n"]))),ML=Gt.div(rL||(rL=a(["\n    display: flex;\n    a{  // This is the link of cart\n        display: flex;\n        align-items: center;\n        padding-right: 9px;\n        color: white;\n    }\n    // margin-left: 21px;\n    // margin-right:15px;\n"]))),jL=Gt.div(iL||(iL=a(["\n    padding-left: 4px;\n"]))),FL=Gt.div(aL||(aL=a(["\n    background-image: none;\n    background-color: #232f3e;\n"]))),zL=Gt.select(oL||(oL=a(["\n    border: none;\n    outline: none;\n"]))),VL=Gt.div(sL||(sL=a(["\n    img{\n        max-width:20px;\n        margin-left: 21px;\n        // margin-right:15px;\n        margin-top:20px;\n    }\n    display:flex;\n"]))),UL=Gt.select(uL||(uL=a(["\n    border: none;\n    outline: none;\n    background-color: #0F1111;\n    max-width:40px;\n    margin-top:20px;\n    // margin-bottom:2px;\n    font-weight: 700; \n"]))),BL=Gt.select(cL||(cL=a(["\n    border: none;\n    outline: none;\n    background-color: #0F1111;\n"]))),qL=function(e){var t=e.title,n=e.price,r=e.rating,i=e.image,a=e.id;return(0,kr.jsx)("div",{className:"Container1",children:(0,kr.jsxs)(GL,{className:"Contain1",children:[(0,kr.jsx)(WL,{className:"Title1",children:t}),(0,kr.jsxs)(HL,{className:"Price1",children:["$",n]}),(0,kr.jsx)(KL,{className:"Rating1",children:Array(r).fill().map((function(e){return(0,kr.jsx)("p",{children:"\u2b50\ufe0f"})}))}),(0,kr.jsx)(ZL,{className:"imga1",src:i}),(0,kr.jsx)(QL,{className:"CartButton1",onClick:function(){var e=GD.collection("cartItems").doc(a);e.get().then((function(r){console.log(r),r.exists?e.update({quantity:r.data().quantity+1}):GD.collection("cartItems").doc(a).set({name:t,image:i,price:n,quantity:1})}))},children:"Add To Cart"})]})})},GL=Gt.div(vL||(vL=a(["\n    // background-color: white;\n    // z-index: 100;\n    // width:100%;\n    // width: 550px;\n    /* height: 904px; */\n    // flex: 1;\n    // padding: 0px;\n    // margin: 25px;\n    // max-height: 420px;\n    // display: flex;\n    // flex-direction: column;\n"]))),WL=Gt.h3(mL||(mL=a(["\n    margin-top:10px;\n    padding-left: 15px;\n"]))),HL=Gt.span(gL||(gL=a(["\n    font-weight: 500;\n    margin-top: 10px;\n    margin-left: 14px;\n\n"]))),KL=Gt.div(yL||(yL=a(["\n\n    // display: flex;\n    // margin-left: 14px;\n\n"]))),ZL=Gt.img(kL||(kL=a(["\n    // max-height: 302px;\n    // object-fit: contain;\n    // margin-top: -1px;\n    // margin-left: 0px;\n"]))),QL=Gt.button(bL||(bL=a(["\n    // width: 98px;\n    // height: 89px;\n    // margin-left: 228px;\n    // margin-top: 10px;\n    // background-color: #f0c14b;\n    // border: 3px solid #a88734;\n    // border-radius: 2px;\n    // cursor: pointer;\n"])));var $L=function(){var e=(0,t.useState)([]),n=(0,i.Z)(e,2),r=n[0],a=n[1];return(0,t.useEffect)((function(){console.log("Call products"),GD.collection("products").onSnapshot((function(e){var t;t=e.docs.map((function(e){return{id:e.id,product:e.data()}})),a(t)}))}),[]),(0,kr.jsxs)(YL,{className:"ContainerPart1",children:[(0,kr.jsx)(XL,{className:"BannerPart1",children:(0,kr.jsxs)(KR,{navigation:!0,modules:[eD],className:"mySwiper",children:[(0,kr.jsx)(JR,{children:(0,kr.jsx)("img",{src:"https://images-eu.ssl-images-amazon.com/images/G/31/img21/Wireless/Shreyansh/BAU/Unrexc/D70978891_INWLD_BAU_Unrec_Uber_PC_Hero_3000x1200._CB594707876_.jpg",alt:""})}),(0,kr.jsx)(JR,{children:(0,kr.jsx)("img",{src:"https://images-eu.ssl-images-amazon.com/images/G/31/img2020/img21/apparelGW/junatf23/unrecapay/MA_3000._CB603210873_.jpg",alt:""})}),(0,kr.jsx)(JR,{children:(0,kr.jsx)("img",{src:"https://m.media-amazon.com/images/I/61aURrton0L._SX3000_.jpg",alt:""})}),(0,kr.jsx)(JR,{children:(0,kr.jsx)("img",{src:"https://images-eu.ssl-images-amazon.com/images/G/31/img23/Softlines_JWL_SH_GW_Assets/July_23/ATF/Unrec/Kotak_bankStripe/Shoes/Shoes_3000._CB599886137_.jpg",alt:""})}),(0,kr.jsx)(JR,{children:(0,kr.jsx)("img",{src:"https://images-eu.ssl-images-amazon.com/images/G/31/Biss_2023/BISS_GW/GWNEW/GWNEW2/PC._CB600098968_.jpg",alt:""})})]})}),(0,kr.jsxs)(JL,{className:"ContentPart1",children:[r.map((function(e){return(0,kr.jsx)(qL,{title:e.product.name,price:e.product.price,rating:e.product.rating,image:e.product.image,id:e.id})})),(0,kr.jsxs)(eM,{className:"for-Selling",children:[(0,kr.jsxs)("h2",{className:"text-for-register",children:["Get 50% off on Selling Fee*",(0,kr.jsx)("h6",{children:"Become a Seller"})]}),(0,kr.jsx)("img",{className:"Image-for-regisration",src:"https://images-eu.ssl-images-amazon.com/images/G/31/amazonservices/landing/ATF-imagery-cardv2._CB601720007_.jpg"})]})]})]})},YL=Gt.div(wL||(wL=a(["\n\n"]))),XL=Gt.div(xL||(xL=a(["\n    // background-image: url('https://i.imgur.com/SYHeuYM.jpg');\n    // min-height:600px; \n    // background-position: center;\n    // background-size: cover;\n    // mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0));\n"]))),JL=Gt.div(_L||(_L=a(["\n    // background-color: solid\n    margin-top: -350px;\n    position: relative;\n    display: flex;\n    // margin-left: 115px;\n    flex: grow;\n"]))),eM=Gt.div(SL||(SL=a([""])));var tM=function(){var e=(0,t.useState)(JSON.parse(localStorage.getItem("user"))),n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,t.useState)([]),s=(0,i.Z)(o,2),u=s[0],c=s[1],l=function(){BN.signOut().then((function(){localStorage.removeItem("user"),a(null)}))};return(0,t.useEffect)((function(){UN.collection("cartItems").onSnapshot((function(e){var t=e.docs.map((function(e){return{id:e.id,product:e.data()}}));c(t)}))}),[]),(0,kr.jsx)(Kn,{children:r?(0,kr.jsxs)("div",{className:"App",children:[(0,kr.jsx)(br,{signOut:l,user:r,cartItems:u}),(0,kr.jsxs)(Hn,{children:[(0,kr.jsx)(Vn,{path:"/login",children:(0,kr.jsx)(fD,{setUser:a})}),(0,kr.jsx)(Vn,{path:"/cart",children:(0,kr.jsx)(yO,{cartItems:u})}),(0,kr.jsx)(Vn,{path:"/ac",children:(0,kr.jsx)(RD,{})}),(0,kr.jsx)(Vn,{path:"/test",children:(0,kr.jsx)(UD,{})}),(0,kr.jsxs)(Vn,{path:"/",children:[(0,kr.jsx)($L,{}),(0,kr.jsx)(ED,{}),(0,kr.jsx)(BD,{})]})]})]}):(0,kr.jsxs)("div",{className:"App",children:[(0,kr.jsx)(EL,{signOut:l,user:r,cartItems:u}),(0,kr.jsxs)(Hn,{children:[(0,kr.jsx)(Vn,{path:"/login",children:(0,kr.jsx)(lL,{setUser:a})}),(0,kr.jsx)(Vn,{path:"/cart",children:(0,kr.jsx)(yO,{cartItems:u})}),(0,kr.jsx)(Vn,{path:"/ac",children:(0,kr.jsx)(RD,{})}),(0,kr.jsx)(Vn,{path:"/test",children:(0,kr.jsx)(UD,{})}),(0,kr.jsxs)(Vn,{path:"/",children:[(0,kr.jsx)(aD,{signIn:function(){BN.signInWithPopup(qN).then((function(e){var t=e.user,n={name:t.displayName,email:t.email,photo:t.photoURL};localStorage.setItem("user",JSON.stringify(n)),a(n)})).catch((function(e){alert(e.message)}))}}),(0,kr.jsx)(ED,{}),(0,kr.jsx)(BD,{})]})]})]})})},nM=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,kr.jsx)(t.StrictMode,{children:(0,kr.jsx)(tM,{})})),nM()}()}();
//# sourceMappingURL=main.96a4b6ac.js.map